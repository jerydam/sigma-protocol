"use strict";exports.id=3852,exports.ids=[3852],exports.modules={63852:(a,b,c)=>{c.r(b),c.d(b,{TurnstileWrapper:()=>o,default:()=>o});var d,e=c(66150),f=c(7719),g=(0,f.forwardRef)(({as:a="div",...b},c)=>(0,e.jsx)(a,{...b,ref:c})),h="cf-turnstile-script",i="onloadTurnstileCallback",j={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}},k="unloaded",l=new Promise((a,b)=>{d={resolve:a,reject:b},"ready"===k&&a(void 0)}),m=(a=i)=>("unloaded"===k&&(k="loading",window[a]=()=>{d.resolve(),k="ready",delete window[a]}),l),n=(0,f.forwardRef)((a,b)=>{let{scriptOptions:c,options:d={},siteKey:l,onWidgetLoad:n,onSuccess:o,onExpire:p,onError:q,onBeforeInteractive:r,onAfterInteractive:s,onUnsupported:t,onTimeout:u,onLoadScript:v,id:w,style:x,as:y="div",injectScript:z=!0,rerenderOnCallbackChange:A=!1,...B}=a,C=d.size,D=(0,f.useCallback)(()=>typeof C>"u"?{}:"execute"===d.execution?j.invisible:"interaction-only"===d.appearance?j.interactionOnly:j[C],[d.execution,C,d.appearance]),[E,F]=(0,f.useState)(D()),G=(0,f.useRef)(null),[H,I]=(0,f.useState)(!1),J=(0,f.useRef)(void 0),K=(0,f.useRef)(!1),L=w||"cf-turnstile",M=(0,f.useRef)({onSuccess:o,onError:q,onExpire:p,onBeforeInteractive:r,onAfterInteractive:s,onUnsupported:t,onTimeout:u});(0,f.useEffect)(()=>{A||(M.current={onSuccess:o,onError:q,onExpire:p,onBeforeInteractive:r,onAfterInteractive:s,onUnsupported:t,onTimeout:u})});let N=c?.id||h,O=function(a=h){let[b,c]=(0,f.useState)(!1);return b}(N),P=c?.onLoadCallbackName||i,Q=d.appearance||"always",R=(0,f.useMemo)(()=>({sitekey:l,action:d.action,cData:d.cData,theme:d.theme||"auto",language:d.language||"auto",tabindex:d.tabIndex,"response-field":d.responseField,"response-field-name":d.responseFieldName,size:function(a){if("invisible"!==a&&"interactionOnly"!==a)return a}(C),retry:d.retry||"auto","retry-interval":d.retryInterval||8e3,"refresh-expired":d.refreshExpired||"auto","refresh-timeout":d.refreshTimeout||"auto",execution:d.execution||"render",appearance:d.appearance||"always","feedback-enabled":d.feedbackEnabled??!0,callback:a=>{K.current=!0,A?o?.(a):M.current.onSuccess?.(a)},"error-callback":A?q:(...a)=>M.current.onError?.(...a),"expired-callback":A?p:(...a)=>M.current.onExpire?.(...a),"before-interactive-callback":A?r:(...a)=>M.current.onBeforeInteractive?.(...a),"after-interactive-callback":A?s:(...a)=>M.current.onAfterInteractive?.(...a),"unsupported-callback":A?t:(...a)=>M.current.onUnsupported?.(...a),"timeout-callback":A?u:(...a)=>M.current.onTimeout?.(...a)}),[d.action,d.appearance,d.cData,d.execution,d.language,d.refreshExpired,d.responseField,d.responseFieldName,d.retry,d.retryInterval,d.tabIndex,d.theme,d.feedbackEnabled,d.refreshTimeout,l,C,A,A?o:null,A?q:null,A?p:null,A?r:null,A?s:null,A?t:null,A?u:null]),S=(0,f.useCallback)(()=>!1,[]);return(0,f.useEffect)(function(){z&&!H&&(m(P),(({render:a="explicit",onLoadCallbackName:b=i,scriptOptions:{nonce:c="",defer:d=!0,async:e=!0,id:f="",appendTo:g,onError:j,crossOrigin:k=""}={}})=>{let l=f||h;if(document.getElementById(l))return;let m=document.createElement("script");m.id=l,m.src=`https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${b}&render=${a}`,document.querySelector(`script[src="${m.src}"]`)||(m.defer=!!d,m.async=!!e,c&&(m.nonce=c),k&&(m.crossOrigin=k),j&&(m.onerror=j,delete window[b]),("body"===g?document.body:document.getElementsByTagName("head")[0]).appendChild(m))})({onLoadCallbackName:P,scriptOptions:{...c,id:N}}))},[z,H,c,N,P]),(0,f.useEffect)(function(){"ready"!==k&&m(P).then(()=>I(!0)).catch(console.error)},[P]),(0,f.useEffect)(function(){if(!G.current||!H)return;let a=!1;return(async()=>{a||!G.current||(J.current=window.turnstile.render(G.current,R),J.current&&n?.(J.current))})(),()=>{a=!0,J.current&&(window.turnstile.remove(J.current),K.current=!1)}},[L,H,R]),(0,f.useImperativeHandle)(b,()=>{let{turnstile:a}=window;return{getResponse:()=>a?.getResponse&&J.current&&S()?a.getResponse(J.current):void console.warn("Turnstile has not been loaded"),getResponsePromise:async(a=3e4,b=100)=>new Promise((c,d)=>{let e,f=async()=>{if(K.current&&window.turnstile&&J.current)try{let a=window.turnstile.getResponse(J.current);return e&&clearTimeout(e),a?c(a):d(Error("No response received"))}catch(a){return e&&clearTimeout(e),console.warn("Failed to get response",a),d(Error("Failed to get response"))}e||(e=setTimeout(()=>{e&&clearTimeout(e),d(Error("Timeout"))},a)),await new Promise(a=>setTimeout(a,b)),await f()};f()}),reset(){if(!a?.reset||!J.current||!S())return void console.warn("Turnstile has not been loaded");"execute"===d.execution&&F(j.invisible);try{K.current=!1,a.reset(J.current)}catch(a){console.warn(`Failed to reset Turnstile widget ${J}`,a)}},remove(){a?.remove&&J.current&&S()?(F(j.invisible),K.current=!1,a.remove(J.current),J.current=null):console.warn("Turnstile has not been loaded")},render(){if(!a?.render||!G.current||!S()||J.current)return void console.warn("Turnstile has not been loaded or container not found");let b=a.render(G.current,R);return J.current=b,J.current&&n?.(J.current),"execute"!==d.execution&&F(C?j[C]:{}),b},execute(){"execute"!==d.execution?console.warn('Execution mode is not set to "execute"'):a?.execute&&G.current&&J.current&&S()?(a.execute(G.current,R),F(C?j[C]:{})):console.warn("Turnstile has not been loaded or container not found")},isExpired:()=>a?.isExpired&&J.current&&S()?a.isExpired(J.current):(console.warn("Turnstile has not been loaded"),!1)}},[J,d.execution,C,R,G,S,H,n]),(0,f.useEffect)(()=>{if(H||!O)return;if(window.turnstile)return void I(!0);let a=setInterval(()=>{window.turnstile&&(I(!0),clearInterval(a))},50);return()=>{clearInterval(a)}},[H,O]),(0,f.useEffect)(()=>{F(D())},[d.execution,C,Q]),(0,f.useEffect)(()=>{O&&"function"==typeof v&&v()},[O]),(0,e.jsx)(g,{ref:G,as:y,id:L,style:{...E,...x},...B})});n.displayName="Turnstile";let o=({delayedExecution:a,captchaContext:b,...c})=>{let{appId:d,setError:f,setToken:g,setExecuting:h,siteKey:i,ref:j}=b;return(0,e.jsx)(n,{...c,ref:j,siteKey:i??"",options:{action:d,size:"invisible",...a?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{c.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:a=>{c.onError?.(a),f("Captcha failed"),h(!1)},onSuccess:a=>{c.onSuccess?.(a),g(a),h(!1)},onExpire:a=>{c.onExpire?.(a);try{j.current?.reset(),f(void 0),g(void 0)}catch(a){f("expired_and_failed_reset")}}})}}};