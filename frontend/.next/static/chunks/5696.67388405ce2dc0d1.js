"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5696],{35696:(e,r,t)=>{t.r(r),t.d(r,{TurnstileWrapper:()=>w,default:()=>w});var n,o=t(73788),i=t(65936),c=(0,i.forwardRef)(({as:e="div",...r},t)=>(0,o.jsx)(e,{...r,ref:t})),a="cf-turnstile-script",s="onloadTurnstileCallback",u={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}},l="unloaded",d=new Promise((e,r)=>{n={resolve:e,reject:r},"ready"===l&&e(void 0)}),p=(e=s)=>("unloaded"===l&&(l="loading",window[e]=()=>{n.resolve(),l="ready",delete window[e]}),d),f=(0,i.forwardRef)((e,r)=>{let{scriptOptions:t,options:n={},siteKey:d,onWidgetLoad:f,onSuccess:w,onExpire:m,onError:x,onBeforeInteractive:h,onAfterInteractive:v,onUnsupported:b,onTimeout:y,onLoadScript:E,id:g,style:T,as:k="div",injectScript:I=!0,rerenderOnCallbackChange:C=!1,...S}=e,R=n.size,N=(0,i.useCallback)(()=>typeof R>"u"?{}:"execute"===n.execution?u.invisible:"interaction-only"===n.appearance?u.interactionOnly:u[R],[n.execution,R,n.appearance]),[O,B]=(0,i.useState)(N()),F=(0,i.useRef)(null),[_,j]=(0,i.useState)(!1),L=(0,i.useRef)(void 0),U=(0,i.useRef)(!1),A=g||"cf-turnstile",P=(0,i.useRef)({onSuccess:w,onError:x,onExpire:m,onBeforeInteractive:h,onAfterInteractive:v,onUnsupported:b,onTimeout:y});(0,i.useEffect)(()=>{C||(P.current={onSuccess:w,onError:x,onExpire:m,onBeforeInteractive:h,onAfterInteractive:v,onUnsupported:b,onTimeout:y})});let $=t?.id||a,z=function(e=a){let[r,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let r=()=>{document.getElementById(e)&&t(!0)},n=new MutationObserver(r);return n.observe(document,{childList:!0,subtree:!0}),r(),()=>{n.disconnect()}},[e]),r}($),D=t?.onLoadCallbackName||s,K=n.appearance||"always",W=(0,i.useMemo)(()=>({sitekey:d,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:function(e){if("invisible"!==e&&"interactionOnly"!==e)return e}(R),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled??!0,callback:e=>{U.current=!0,C?w?.(e):P.current.onSuccess?.(e)},"error-callback":C?x:(...e)=>P.current.onError?.(...e),"expired-callback":C?m:(...e)=>P.current.onExpire?.(...e),"before-interactive-callback":C?h:(...e)=>P.current.onBeforeInteractive?.(...e),"after-interactive-callback":C?v:(...e)=>P.current.onAfterInteractive?.(...e),"unsupported-callback":C?b:(...e)=>P.current.onUnsupported?.(...e),"timeout-callback":C?y:(...e)=>P.current.onTimeout?.(...e)}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,d,R,C,C?w:null,C?x:null,C?m:null,C?h:null,C?v:null,C?b:null,C?y:null]),M=(0,i.useCallback)(()=>"u">typeof window&&!!window.turnstile,[]);return(0,i.useEffect)(function(){I&&!_&&(p(D),(({render:e="explicit",onLoadCallbackName:r=s,scriptOptions:{nonce:t="",defer:n=!0,async:o=!0,id:i="",appendTo:c,onError:u,crossOrigin:l=""}={}})=>{let d=i||a;if(document.getElementById(d))return;let p=document.createElement("script");p.id=d,p.src=`https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${r}&render=${e}`,document.querySelector(`script[src="${p.src}"]`)||(p.defer=!!n,p.async=!!o,t&&(p.nonce=t),l&&(p.crossOrigin=l),u&&(p.onerror=u,delete window[r]),("body"===c?document.body:document.getElementsByTagName("head")[0]).appendChild(p))})({onLoadCallbackName:D,scriptOptions:{...t,id:$}}))},[I,_,t,$,D]),(0,i.useEffect)(function(){"ready"!==l&&p(D).then(()=>j(!0)).catch(console.error)},[D]),(0,i.useEffect)(function(){if(!F.current||!_)return;let e=!1;return(async()=>{e||!F.current||(L.current=window.turnstile.render(F.current,W),L.current&&f?.(L.current))})(),()=>{e=!0,L.current&&(window.turnstile.remove(L.current),U.current=!1)}},[A,_,W]),(0,i.useImperativeHandle)(r,()=>{let{turnstile:e}=window;return{getResponse:()=>e?.getResponse&&L.current&&M()?e.getResponse(L.current):void console.warn("Turnstile has not been loaded"),getResponsePromise:async(e=3e4,r=100)=>new Promise((t,n)=>{let o,i=async()=>{if(U.current&&window.turnstile&&L.current)try{let e=window.turnstile.getResponse(L.current);return o&&clearTimeout(o),e?t(e):n(Error("No response received"))}catch(e){return o&&clearTimeout(o),console.warn("Failed to get response",e),n(Error("Failed to get response"))}o||(o=setTimeout(()=>{o&&clearTimeout(o),n(Error("Timeout"))},e)),await new Promise(e=>setTimeout(e,r)),await i()};i()}),reset(){if(!e?.reset||!L.current||!M())return void console.warn("Turnstile has not been loaded");"execute"===n.execution&&B(u.invisible);try{U.current=!1,e.reset(L.current)}catch(e){console.warn(`Failed to reset Turnstile widget ${L}`,e)}},remove(){e?.remove&&L.current&&M()?(B(u.invisible),U.current=!1,e.remove(L.current),L.current=null):console.warn("Turnstile has not been loaded")},render(){if(!e?.render||!F.current||!M()||L.current)return void console.warn("Turnstile has not been loaded or container not found");let r=e.render(F.current,W);return L.current=r,L.current&&f?.(L.current),"execute"!==n.execution&&B(R?u[R]:{}),r},execute(){"execute"!==n.execution?console.warn('Execution mode is not set to "execute"'):e?.execute&&F.current&&L.current&&M()?(e.execute(F.current,W),B(R?u[R]:{})):console.warn("Turnstile has not been loaded or container not found")},isExpired:()=>e?.isExpired&&L.current&&M()?e.isExpired(L.current):(console.warn("Turnstile has not been loaded"),!1)}},[L,n.execution,R,W,F,M,_,f]),(0,i.useEffect)(()=>{if(_||!z)return;if(window.turnstile)return void j(!0);let e=setInterval(()=>{window.turnstile&&(j(!0),clearInterval(e))},50);return()=>{clearInterval(e)}},[_,z]),(0,i.useEffect)(()=>{B(N())},[n.execution,R,K]),(0,i.useEffect)(()=>{z&&"function"==typeof E&&E()},[z]),(0,o.jsx)(c,{ref:F,as:k,id:A,style:{...O,...T},...S})});f.displayName="Turnstile";let w=({delayedExecution:e,captchaContext:r,...t})=>{let{appId:n,setError:i,setToken:c,setExecuting:a,siteKey:s,ref:u}=r;return(0,o.jsx)(f,{...t,ref:u,siteKey:s??"",options:{action:n,size:"invisible",...e?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{t.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:e=>{t.onError?.(e),i("Captcha failed"),a(!1)},onSuccess:e=>{t.onSuccess?.(e),c(e),a(!1)},onExpire:e=>{t.onExpire?.(e);try{u.current?.reset(),i(void 0),c(void 0)}catch(e){i("expired_and_failed_reset")}}})}}}]);