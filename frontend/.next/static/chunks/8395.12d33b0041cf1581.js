"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8395],{6997:(e,t,n)=>{n.d(t,{E:()=>a,a:()=>s});let a=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],s=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},18167:(e,t,n)=>{n.d(t,{f:()=>s});let a=2n**256n-1n,s=({amount:e,decimals:t})=>e===a?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(Number(e)/10**t)},29428:(e,t,n)=>{n.d(t,{D:()=>l,M:()=>r});var a=n(73788),s=n(78912);let i=({data:e})=>{let t=e=>"object"==typeof e&&null!==e?(0,a.jsx)(o,{children:Object.entries(e).map(([e,n])=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("strong",{children:[e,":"]})," ",t(n)]},e))}):(0,a.jsx)("span",{children:String(e)});return(0,a.jsx)("div",{children:t(e)})},r=s.I4.div`
  margin-top: 1.5rem;
  background-color: var(--privy-color-background-2);
  border-radius: var(--privy-border-radius-md);
  padding: 12px;
  text-align: left;
  max-height: 310px;
  overflow: scroll;
  white-space: pre-wrap;
  width: 100%;
  font-size: 0.875rem;
  font-weight: 400;
  color: var(--privy-color-foreground);
  line-height: 1.5;

  // hide the scrollbars
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  scrollbar-width: none; /* Firefox */

  &::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
  }
`,o=s.I4.ul`
  margin-left: 12px !important;
  white-space: nowrap;

  &:first-child {
    margin-left: 0 !important;
  }

  strong {
    font-weight: 500 !important;
  }
`,l=({data:e,className:t})=>(0,a.jsx)(r,{className:t,children:(0,a.jsx)(i,{data:e})})},78395:(e,t,n)=>{n.r(t),n.d(t,{SendTransactionScreen:()=>en,default:()=>en});var a=n(73788),s=n(65936),i=n(16678),r=n(52175),o=n(69435),l=n(9587),u=n(92658),p=n(85550),d=n(40191),c=n(99849),m=n(14227),y=n(28887),f=n(75187),b=n(69375),h=n(86249),g=n(79312),T=n(66428),v=n(99273),I=n(80098),x=n(18167),k=n(96038),M=n(41196),E=n(36983),S=n(98355),_=n(78912),w=n(74124),F=n(29428),C=n(97031),N=n(72853),j=n(64252),A=n(86292),O=n(6997),R=n(94968);n(30404),n(7764),n(28349),n(32709),n(57668);let D=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],$=_.I4.div`
  display: flex;
  flex-direction: column;
  min-height: 72px;
`;var B=({onBack:e,details:t})=>(0,a.jsxs)($,{children:[(0,a.jsx)(w.M,{backFn:e}),(0,a.jsx)(F.D,{data:t}),(0,a.jsx)(w.B,{})]});let P=({txn:e,receipt:t,transactionInfo:n,onClose:s,tokenPrice:r,tokenSymbol:o,receiptHeader:l,receiptDescription:u})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.M,{onClose:s}),(0,a.jsx)(j.S,{title:l??"Transaction complete!",description:u??"You're all set."}),(0,a.jsx)(A.T,{tokenPrice:r,from:t.from,to:t.to,gas:(({gasUsed:e,effectiveGasPrice:t})=>{if(e&&t)try{return(0,i.nj)(e*t)}catch(e){return}})(t),txn:e,transactionInfo:n,tokenSymbol:o}),(0,a.jsx)(M.Y,{}),(0,a.jsx)(q,{loading:!1,onClick:s,children:"All Done"}),(0,a.jsx)(N.R,{}),(0,a.jsx)(w.B,{})]}),q=(0,_.I4)(w.P)`
  && {
    margin-top: 24px;
  }
  transition:
    color 350ms ease,
    background-color 350ms ease;
`,L=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],U=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],V=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],G=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],H=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],W=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],J=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],z=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Y=(e,t)=>{let n=Z(V,e);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let a=Z(O.E,e);if(a)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:a.args[0],amount:a.args[1]};if(!t)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let s=Z(L,e);if(s&&"string"==typeof s.args[1]){let e=Q(s.args[1]);if(e&&e[4].encodedInitData)return Y(e[4].encodedInitData,t)}let i=Z(W,e);if(i)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:i.args[0],approved:i.args[1]};let r=Z(J,e);if(r)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:r.args[0],transferTo:r.args[1],tokenId:r.args[2]};let o=Z(H,e);if(o)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let l=Z(K,e);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let u=Z(z,e);if(u)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:u.args[0],transferTo:u.args[1],tokenIds:u.args[2],amounts:u.args[3]};let p=Z(G,e);return p?{action:"mint",functionName:p.functionName,isNFTIsh:!0,isErc20Ish:!1,args:p.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}},Z=(e,t)=>{try{let n=(0,r.J)({abi:e,data:t});return{functionName:n.functionName,args:n.args||[]}}catch(e){return null}},Q=e=>{try{if("string"==typeof e)return(0,o.n)(U,`0x${e.slice(10)}`)}catch(e){return null}},X=e=>`${parseFloat(e).toFixed(2)}`,ee=new b.P(new b.j("There was an issue preparing your transaction",d.Z9.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),et=(e,t)=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?e.sendTransaction.transactionRequest:e.sendTransaction.transactionRequests[t]:void 0,en={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:n,navigate:i}=(0,g.a)(),{client:r,rpcConfig:o,chains:_,closePrivyModal:w,walletProxy:F,showFiatPrices:N}=(0,h.u)(),{user:j}=(0,g.u)(),A=(0,f.u)(),[O,$]=(0,s.useState)(0),[q,L]=(0,s.useState)(0),[U,V]=(0,s.useState)(et(e,O)),[G,H]=(0,s.useState)(null),[W,J]=(0,s.useState)(),[z,K]=(0,s.useState)(!1),[Z,Q]=(0,s.useState)(null),[en,ea]=(0,s.useState)(null),[es,ei]=(0,s.useState)(null),[er,eo]=(0,s.useState)(void 0),[el,eu]=(0,s.useState)(void 0),[ep,ed]=(0,s.useState)(!1),[ec,em]=(0,s.useState)(!1),[ey,ef]=(0,s.useState)([]),[eb,eh]=(0,s.useState)([]),[eg,eT]=(0,s.useState)("uninitiated"),[ev,eI]=(0,s.useState)(void 0);if(!U||!e?.sendTransaction||!e?.sendTransaction)return(0,a.jsx)(S.ErrorScreenView,{error:Error("Invalid transaction request"),allowlistConfig:A.allowlistConfig,onRetry:()=>{e?.sendTransaction?.onFailure(ee),w({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:ex}=e.sendTransaction,ek=(0,s.useMemo)(()=>_.find(e=>Number(e.id)===Number(U.chainId)),[U.chainId]),eM=ek?.nativeCurrency.symbol??"ETH",eE=(0,s.useMemo)(()=>Y(U.data,!!A.embeddedWallets.extendedCalldataDecoding),[U.data]),{action:eS,isErc20Ish:e_,isNFTIsh:ew,functionName:eF}=eE,{toAddress:eC,tokenAddress:eN}=(0,s.useMemo)(()=>({toAddress:eE.isErc20Ish?eE.transferTo:U.to??void 0,tokenAddress:eE.isErc20Ish?U.to:void 0}),[eE]);(0,s.useEffect)(()=>{U.to&&ek&&e_&&(0,I.g)({address:U.to,chain:ek,rpcConfig:A.rpcConfig,privyAppId:A.id}).then(H).catch(console.error)},[U.to,ek]);let{tokenPrice:ej,isTokenPriceLoading:eA}=(0,T.u)(U.chainId),{balance:eO}=(0,v.u)({rpcConfig:A.rpcConfig,appId:A.id,address:ex,chain:ek}),eR=function({rpcConfig:e,appId:t,address:n,chain:a,tokenInfo:i}){let{chains:r}=(0,h.u)(),[o,p]=(0,s.useState)(null),[d,y]=(0,s.useState)(!1),f=(0,s.useMemo)(()=>{let n=a||r[0];if(n)return(0,l.l)({chain:a,transport:(0,u.L)((0,c.K9)(n,e,t))})},[a,e,t]),b=(0,s.useCallback)(async()=>{if(n&&f&&i.address)try{return y(!0),await f.readContract({address:i.address,abi:D,functionName:"balanceOf",args:[n]})}catch(e){console.error(e)}finally{y(!1)}},[f,n,i?.address,a]);return(0,s.useEffect)(()=>{b().then(e=>null!=e&&p(e))},[b]),{balance:o,isLoading:d&&null==o,formattedBalance:(0,m.NJ)({amount:o??BigInt(0),decimals:i.decimals})}}({rpcConfig:A.rpcConfig,appId:A.id,address:ex,tokenInfo:{address:eN||"",decimals:G?.decimals??18},chain:ek}),eD=(0,s.useMemo)(()=>(0,E.g)(Number(U.chainId),_,o,{appId:A.id}),[U.chainId,o]),e$=((e,t,n,a)=>{let[i,r]=(0,s.useState)(null),{walletProxy:o}=(0,h.u)();return(0,s.useEffect)(()=>{i&&r(null),(async()=>{if(!o||!t)return null;let s=[],i=!0,r=await (0,R.p)(e,n,t,a).catch(t=>(t.message&&t.message.includes("Insufficient balance for transaction")||t.message&&t.message.includes("Insufficient funds for gas * price + value")||t.details&&t.details.includes("insufficient funds")?i=!1:s.push(t),e));return{tx:r,totalGasEstimate:r.gas,hasFunds:i,errors:s}})().then(r)},[e]),i})(U,ex,eD,e?.sendTransaction?.prepareTransactionRequest);(0,s.useEffect)(()=>{V(et(e,O))},[O]),(0,s.useEffect)(()=>{e.sendTransaction?.getIsSponsored?e.sendTransaction.getIsSponsored().then(J).catch(console.error):J(!1)},[e.sendTransaction.getIsSponsored]);let eB=()=>{if(!z)return Z?e?.sendTransaction?.onSuccess({hash:Z}):es||e$?.errors[0]?e?.sendTransaction?.onFailure(es??e$?.errors[0]??ee):e?.sendTransaction?.onFailure(new b.P(new b.j("The user rejected the request",d.Z9.E4001_USER_REJECTED_REQUEST.eipCode))),w({shouldCallAuthOnSuccess:!1})};t.current=eB;let eP=!!(e.funding&&e.funding.supportedOptions.length>0),eq=(0,k.g)(BigInt(e$?.totalGasEstimate??0n),eM),eL=N&&ej?(0,k.a)(BigInt(e$?.totalGasEstimate??0n),ej):void 0,eU=(0,k.g)(eO??0n,eM,void 0,!0),eV=N&&ej?(0,k.a)(eO??0n,ej):void 0,eG=G&&!eR.isLoading&&e_&&"approve"!==eS?`${eR.formattedBalance} ${G.symbol}`:void 0,eH=e.sendTransaction?.uiOptions?.transactionInfo?.title;eH||(eH="approve"===eS?e_?"Confirm address":"Confirm action":`Approve ${eS}`);let eW=(0,s.useMemo)(()=>{if(e.sendTransaction?.uiOptions?.description)return e.sendTransaction?.uiOptions?.description;if("approve"===eS&&"setApprovalForAll"===eF&&eE.approved){let e=(0,a.jsx)(y.A,{address:eE.operator||"",url:ek?.blockExplorers?.default?.url});return(0,a.jsxs)(a.Fragment,{children:[A.name," would like your permission for ",e," to transfer tokens on your behalf."]})}if("approve"===eS&&"setApprovalForAll"===eF&&!eE.approved){let e=(0,a.jsx)(y.A,{address:eE.operator||"",url:ek?.blockExplorers?.default?.url});return(0,a.jsxs)(a.Fragment,{children:[A.name," would like your permission to revoke permissions of ",e," from transferring tokens on your behalf."]})}return e_&&"approve"===eS||e_&&"approve"===eS?`${A.name} would like your permission for ${(0,M.D)(eE.spender)} to spend tokens on your behalf.`:`${A.name} wants your permission to approve the following transaction.`},[A.name,e_,eE,e.sendTransaction?.uiOptions.description,eF]),eJ=e.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,a.jsx)("img",{src:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ez=!(!e$||e$.errors[0]||e$.hasFunds||!1!==W),eK=ez&&eP,eY=eK?"Add funds":e.sendTransaction?.uiOptions?.buttonText||(O<q?"Continue":"Approve");if((0,s.useEffect)(()=>{e.sendTransaction?.scanTransaction&&A.embeddedWallets.transactionScanning.enabled&&"uninitiated"===eg&&(eT("in progress"),e.sendTransaction.scanTransaction().then(e=>{(e=>{if(!e)throw Error("Transaction scan failed");if("Success"===e.validation.status&&("Benign"===e.validation.result_type?eu("safe"):"Warning"===e.validation.result_type?eu("warn"):"Malicious"===e.validation.result_type&&(eu("error"),em(!0))),"Success"!==e.simulation.status)throw Error("Simulation failed");{eo(e.simulation.params);let{assetsIn:t,assetsOut:n}=function(e,t){let n=[],a=new Map;if(e){for(let t of e)if(t.in[0]){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.in[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name,nftCount:t.in.length}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.in[0].value,symbol:t.asset.symbol,usdValue:t.in[0].usd_price?X(t.in[0].usd_price):void 0,decimals:t.asset.decimals},n.push(e)}else if(t.out[0]?.value){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.out[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.out[0].value,symbol:t.asset.symbol,usdValue:t.out[0].usd_price?X(t.out[0].usd_price):void 0,decimals:t.asset.decimals},a.has(e.id)||a.set(e.id,e)}}for(let e of t)for(let t of Object.keys(e.spenders)){let n;n="ERC721"===e.asset.type||"approve_for_all"===e.spenders[t]?.value?{id:`nft:${e.asset.name}`,nftName:e.asset.name}:{id:`token:${e.asset.type}:${e.asset.symbol}:${e.asset.name}`,iconUrl:e.asset.logo_url,value:e.spenders[t]?.value,symbol:e.asset.symbol,usdValue:e.spenders[t]?.usd_price?X(e.spenders[t]?.usd_price):void 0,decimals:e.asset.decimals},a.has(n.id)||a.set(n.id,n)}return{assetsIn:n,assetsOut:Array.from(a.values())}}(e.simulation.assets_diffs,e.simulation.exposures);if(0===n.length&&0===t.length)throw Error("No tokens found");ef(n),eh(t)}})(e),eT("completed")}).catch(()=>eT("failed")))},[!!e.sendTransaction?.scanTransaction]),(0,s.useEffect)(()=>{e.sendTransaction?.scanTransaction&&"failed"!==eg||((t,n,a)=>{if(L(e?.sendTransaction?"transactionRequest"in e.sendTransaction?0:e.sendTransaction.transactionRequests.length-1:0),n.isErc20Ish&&n.amount&&a){let e=(0,x.f)({amount:n.amount,decimals:a.decimals});eI(e),ef([{value:e,symbol:a?.symbol,decimals:a?.decimals}])}else if(t.value){let e=BigInt(t.value),n=ej?(0,k.a)(e,ej):void 0;ef(N&&n?[{value:n}]:[{value:(0,k.p)(e),symbol:eM,decimals:18,usdValue:n}])}else ef(N?[{value:"$0"}]:[{value:"0",symbol:eM,decimals:18}])})(e$?.tx??U,eE,G)},[U,e$?.tx,eE,G,eg]),en)return(0,a.jsx)(P,{txn:e$?.tx??U,onClose:eB,receipt:en,transactionInfo:e.sendTransaction?.uiOptions.transactionInfo,tokenPrice:ej,tokenSymbol:eM,receiptHeader:e.sendTransaction?.uiOptions.successHeader,receiptDescription:e.sendTransaction?.uiOptions.successDescription});if(es)return(0,a.jsx)(C.T,{transactionError:es,transactionHash:Z??void 0,chainType:"ethereum",chainId:e$?.tx.chainId??U.chainId,onClose:eB,onRetry:({resetNonce:e})=>{ei(null);let t={...e$?.tx??U};e&&(t.nonce=void 0),V(t)}});let eZ=0!==q&&"number"==typeof O&&0!==O?()=>{$(O-1)}:void 0;return ep&&er?(0,a.jsx)(B,{details:er,onBack:()=>ed(!1)}):(0,a.jsx)(C.S,{transactionIndex:O,onBack:eZ,maxIndex:q,disabled:ez&&!eP||ec,isSubmitting:z,submitError:es,isPreparing:!e$,isTokenPriceLoading:eA,isTokenContractInfoLoading:!ew&&!G,prepareError:e$?.errors[0],symbol:G?.symbol,chain:ek,img:eJ,title:eH,subtitle:eW,txValue:U.value,fee:eL??eq,isSponsored:W,from:ex??"",to:eC,tokenAddress:eN??void 0,network:A.chains.find(e=>e.id===U.chainId)?.name??"",transactionDetails:{...eE,formattedAmount:ev},cta:eY,missingFunds:ez,action:eS,balance:eG??eV??eU,onClose:eB,onClick:eK?async()=>{if(!ex)return;if(!eP)throw Error("Funding wallet is not enabled");let t="FundingMethodSelectionScreen";n({...e,funding:{...e.funding,methodScreen:t,chainType:"ethereum",amount:(0,p.c)(BigInt(e$?.tx.value??0)+BigInt(e$?.totalGasEstimate?.toString()??0)),chain:ek},solanaFundingData:e?.solanaFundingData}),i(t)}:async()=>{if(O<q)$(O+1);else{K(!0);try{let t=await r.getAccessToken();if(z||!t||!F||!j)return;let n=await e.sendTransaction.onConfirm({transactionRequest:e$?.tx??U});if(Q(n),e.sendTransaction?.signOnly)return await new Promise(e=>setTimeout(e,f.q)),e?.sendTransaction?.onSuccess({hash:n}),w({shouldCallAuthOnSuccess:!1});let a=await eD.waitForTransactionReceipt({hash:n});if("reverted"===a.status)throw Error("Transaction failed");ea(a)}catch(e){console.warn({transaction:e$?.tx??U,error:e}),ei(e)}finally{K(!1)}}},validation:el,hasScanDetails:!!er,setIsScanDetailsOpen:ed,preventMaliciousTransaction:ec,setPreventMaliciousTransaction:em,tokensSent:ey,tokensReceived:eb,isScanning:"in progress"===eg,isCancellable:e.sendTransaction?.uiOptions?.isCancellable??!1,functionName:eF})}}},80098:(e,t,n)=>{n.d(t,{g:()=>r});var a=n(9587),s=n(92658),i=n(36983);let r=async({address:e,chain:t,rpcConfig:n,privyAppId:r})=>{try{let l=(0,a.l)({chain:t,transport:(0,s.L)((0,i.a)(t,n,r))}),[u,p]=await Promise.all([l.readContract({abi:o,address:e,functionName:"symbol"}),l.readContract({abi:o,address:e,functionName:"decimals"})]);return{decimals:p,symbol:u}}catch(e){return console.log(e),null}},o=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]},99273:(e,t,n)=>{n.d(t,{u:()=>l});var a=n(65936),s=n(9587),i=n(92658),r=n(36983),o=n(86249);function l({rpcConfig:e,appId:t,address:n,chain:l}){let{chains:u}=(0,o.u)(),[p,d]=(0,a.useState)(0n),[c,m]=(0,a.useState)(!1),y=(0,a.useMemo)(()=>{let n=l||u[0];if(n)return(0,s.l)({chain:l,transport:(0,i.L)((0,r.a)(n,e,t))})},[l,e,t]),f=(0,a.useCallback)(async()=>{if(!n||!y)return;m(!0);let e=await y.getBalance({address:n}).catch(console.error);return e?(d(e),m(!1),e):void 0},[y,n,d]);return(0,a.useEffect)(()=>{f().catch(console.error)},[]),{balance:p,isLoading:c,reloadBalance:f}}}}]);