(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1335],{290:(e,t,r)=>{"use strict";r.d(t,{rC:()=>s,xn:()=>a,yF:()=>i});var n=r(19122);function i(e){return(0,n.PW)(e)}function s(e){return e}function a(e){return e}},1176:(e,t,r)=>{"use strict";r.d(t,{A7:()=>s,BG:()=>a,Fo:()=>f,K0:()=>l,Oh:()=>c,RM:()=>g,jj:()=>o,k5:()=>d,lN:()=>y,lY:()=>h,uC:()=>p,vW:()=>u});var n=r(19782),i=r(42213);class s extends i.C{constructor({cause:e,message:t}={}){const r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class a extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.C{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class h extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class f extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.C{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class y extends i.C{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.Q)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(y,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends i.C{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},1183:(e,t,r)=>{"use strict";var n=r(55036);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},1296:(e,t,r)=>{"use strict";r.d(t,{eL:()=>n,sz:()=>i});let n={gwei:9,wei:18},i={ether:-9,wei:9}},1586:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},2425:(e,t,r)=>{"use strict";r.d(t,{EQ:()=>o});var n=r(42213),i=r(3168),s=r(38252),a=r(16678);function o(e,t="hex"){let r=function e(t){var r,n;let i,a,o,c;return Array.isArray(t)?(a=l(i=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+a+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+a),1===a?e.pushUint8(i):2===a?e.pushUint16(i):3===a?e.pushUint24(i):e.pushUint32(i)),r))t(e)}}):(c=l((o="string"==typeof(n=t)?(0,s.aT)(n):n).length),{length:1===o.length&&o[0]<128?1:o.length<=55?1+o.length:1+c+o.length,encode(e){1===o.length&&o[0]<128||(o.length<=55?e.pushByte(128+o.length):(e.pushByte(183+c),1===c?e.pushUint8(o.length):2===c?e.pushUint16(o.length):3===c?e.pushUint24(o.length):e.pushUint32(o.length))),e.pushBytes(o)}})}(e),n=(0,i.l)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,a.My)(n.bytes):n.bytes}function l(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new n.C("Length is too large.")}},2669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=v,t.fromBig=i,t.split=s;let r=BigInt(0x100000000-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=e.length,n=new Uint32Array(r),a=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:o}=i(e[s],t);[n[s],a[s]]=[r,o]}return[n,a]}let a=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=a;let o=(e,t,r)=>e>>>r;t.shrSH=o;let l=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=l;let c=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=c;let u=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=u;let d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;let h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;let f=(e,t)=>t;t.rotr32H=f;let p=(e,t)=>e;t.rotr32L=p;let y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;let g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;let m=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=m;let b=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}t.rotlBL=b;let w=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=w;let _=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;t.add3H=_;let x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;let E=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0;t.add4H=E;let I=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=I;let A=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0;t.add5H=A,t.default={fromBig:i,split:s,toBig:a,shrSH:o,shrSL:l,rotrSH:c,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:m,rotlBL:b,add:v,add3L:w,add3H:_,add4L:x,add4H:E,add5H:A,add5L:I}},2930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},3168:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(13310);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.hX({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.SK({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.B4({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.B4({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function s(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},3566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(5541)._(r(65936)).default.createContext(null)},4080:(e,t,r)=>{"use strict";r.d(t,{Hx:()=>h,RL:()=>d,b_:()=>c});var n=r(92402),i=r(82230),s=r(64450),a=Object.freeze({name:"Ed25519"});async function o(e,t=!1){let r=e.byteLength;if(32!==r)throw new i.tsw(i.Dgp,{actualLength:r});let n=new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e]);return await crypto.subtle.importKey("pkcs8",n,a,t,["sign"])}async function l(e,t=!1){if((0,n.sw)(),!1===e.extractable)throw new i.tsw(i.rXw,{key:e});let r=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:r.x},"Ed25519",t,["verify"])}async function c(e,t){return(0,n.f_)(),new Uint8Array(await crypto.subtle.sign(a,e,(0,s.XA)(t)))}async function u(e,t,r){return(0,n.Zg)(),await crypto.subtle.verify(a,e,(0,s.XA)(t),(0,s.XA)(r))}async function d(e,t=!1){if((0,n.XF)(),64!==e.byteLength)throw new i.tsw(i.Y5q,{byteLength:e.byteLength});let[r,s]=await Promise.all([crypto.subtle.importKey("raw",e.slice(32),a,!0,["verify"]),o(e.slice(0,32),t)]),l=new Uint8Array(32);crypto.getRandomValues(l);let h=await c(s,l);if(!await u(r,h,l))throw new i.tsw(i.VO0);return{privateKey:s,publicKey:r}}async function h(e,t=!1){let r=o(e,t),[n,i]=await Promise.all([(t?r:o(e,!0)).then(async e=>await l(e,!0)),r]);return{privateKey:i,publicKey:n}}},4521:(e,t,r)=>{"use strict";r.d(t,{Uf:()=>a,XW:()=>o,fO:()=>i,jf:()=>s,zR:()=>n});let n="INTERNAL_ERROR",i="SERVER_ERROR",s=[-32700,-32600,-32601,-32602,-32603],a={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}},o=i},4714:(e,t,r)=>{"use strict";let n;r.d(t,{secp256k1:()=>eI});var i,s,a=r(85110),o=r(81218),l=r(16918);let c=BigInt(0),u=BigInt(1);function d(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function h(e){if(!d(e))throw Error("Uint8Array expected")}function f(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function p(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function y(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?c:BigInt("0x"+e)}let g="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,m=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(h(e),g)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=m[e[r]];return t}function v(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(g)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=v(e.charCodeAt(i)),s=v(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function _(e){return y(b(e))}function x(e){return h(e),y(b(Uint8Array.from(e).reverse()))}function E(e,t){return w(e.toString(16).padStart(2*t,"0"))}function I(e,t){return E(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=w(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(d(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function S(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];h(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let k=e=>"bigint"==typeof e&&c<=e;function C(e,t,r){return k(e)&&k(t)&&k(r)&&t<=e&&e<r}function P(e,t,r,n){if(!C(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let T=e=>(u<<BigInt(e))-u,O=e=>new Uint8Array(e),R={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||d(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function D(e,t,r={}){let n=(t,r,n)=>{let i=R[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function N(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let B=BigInt(0),U=BigInt(1),j=BigInt(2),M=BigInt(3),L=BigInt(4),$=BigInt(5),z=BigInt(8);function F(e,t){let r=e%t;return r>=B?r:t+r}function q(e,t,r){let n=e;for(;t-- >B;)n*=n,n%=r;return n}function W(e,t){if(e===B)throw Error("invert: expected non-zero number");if(t<=B)throw Error("invert: expected positive modulus, got "+t);let r=F(e,t),n=t,i=B,s=U,a=U,o=B;for(;r!==B;){let e=n/r,t=n%r,l=i-a*e,c=s-o*e;n=r,r=t,i=a,s=o,a=l,o=c}if(n!==U)throw Error("invert: does not exist");return F(i,t)}function V(e,t){let r=(e.ORDER+U)/L,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function H(e,t){let r=(e.ORDER-$)/z,n=e.mul(t,j),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,j),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),t))throw Error("Cannot find square root");return o}let K=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function G(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function Z(e,t){let r=(e.ORDER-U)/j,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!a)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function J(e,t){void 0!==t&&(0,l.Fe)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Y(e,t,r=!1,n={}){let i;if(e<=B)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:a}=J(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:T(s),ZERO:B,ONE:U,create:t=>F(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return B<=t&&t<e},is0:e=>e===B,isOdd:e=>(e&U)===U,neg:t=>F(-t,e),eql:(e,t)=>e===t,sqr:t=>F(t*t,e),add:(t,r)=>F(t+r,e),sub:(t,r)=>F(t-r,e),mul:(t,r)=>F(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<B)throw Error("invalid exponent, negatives unsupported");if(r===B)return e.ONE;if(r===U)return t;let n=e.ONE,i=t;for(;r>B;)r&U&&(n=e.mul(n,i)),i=e.sqr(i),r>>=U;return n})(o,e,t),div:(t,r)=>F(t*W(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>W(t,e),sqrt:n.sqrt||(t=>(i||(i=e%L===M?V:e%z===$?H:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-U,r=0;for(;t%j===B;)t/=j,r++;let n=j,i=Y(e);for(;1===Z(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return V;let s=i.pow(n,t),a=(t+U)/j;return function(e,n){if(e.is0(n))return n;if(1!==Z(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,s),l=e.pow(n,t),c=e.pow(n,a);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=U<<BigInt(i-t-1),s=e.pow(o,n);i=t,o=e.sqr(s),l=e.mul(l,o),c=e.mul(c,s)}return c}}(e)),i(o,t))),toBytes:e=>r?I(e,a):E(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?x(e):_(e)},invertBatch:e=>G(o,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(o)}function X(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function Q(e){let t=X(e);return t+Math.ceil(t/2)}let ee=BigInt(0),et=BigInt(1);function er(e,t){let r=t.negate();return e?r:t}function en(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ei(e,t){en(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:T(e),maxNumber:i,shiftBy:BigInt(e)}}function es(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,o=Number(e&i),l=e>>a;o>n&&(o-=s,l+=et);let c=t*n,u=c+Math.abs(o)-1,d=0===o;return{nextN:l,offset:u,isZero:d,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}let ea=new WeakMap,eo=new WeakMap;function el(e){return eo.get(e)||1}function ec(e){return D(e.Fp,K.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),D(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function eu(e){void 0!==e.lowS&&f("lowS",e.lowS),void 0!==e.prehash&&f("prehash",e.prehash)}class ed extends Error{constructor(e=""){super(e)}}let eh={Err:ed,_tlv:{encode:(e,t)=>{let{Err:r}=eh;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=p(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?p(i.length/2|128):"";return p(e)+s+i+t},decode(e,t){let{Err:r}=eh,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=eh;if(e<ef)throw new t("integer: negative integers are not allowed");let r=p(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=eh;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return _(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=eh,i=A("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=eh,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ef=BigInt(0),ep=BigInt(1),ey=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ev=BigInt(0),ew=BigInt(1),e_=BigInt(2),ex=(e,t)=>(e+t/e_)/t,eE=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%em,c=l*l*e%em,u=q(c,t,em)*c%em,d=q(u,t,em)*c%em,h=q(d,e_,em)*l%em,f=q(h,n,em)*h%em,p=q(f,i,em)*f%em,y=q(p,a,em)*p%em,g=q(y,o,em)*y%em,m=q(g,a,em)*p%em,b=q(m,t,em)*c%em,v=q(b,s,em)*f%em,w=q(v,r,em)*l%em,_=q(w,e_,em);if(!eE.eql(eE.sqr(_),e))throw Error("Cannot find square root");return _}}),eI=(i={a:ev,b:BigInt(7),Fp:eE,n:eb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ew*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=ex(t*e,eb),a=ex(-r*e,eb),o=F(e-s*t-a*n,eb),l=F(-s*r-a*t,eb),c=o>i,u=l>i;if(c&&(o=eb-o),u&&(l=eb-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:o,k2neg:u,k2:l}}}},s=a.sc,{...(n=e=>(function(e){let t,r=(D(t=ec(e),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:n,n:i,nByteLength:s,nBitLength:a}=r,o=n.BYTES+1,l=2*n.BYTES+1;function h(e){return F(e,i)}let{ProjectivePoint:p,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:m}=function(e){var t;let r=function(e){let t=ec(e);D(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),s=r.toBytes||((e,t,r)=>{let i=t.toAffine();return S(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){let{a:t,b:i}=r,s=n.sqr(e),a=n.mul(s,e);return n.add(n.add(a,n.mul(e,t)),i)}function l(e,t){let r=n.sqr(t),i=o(e);return n.eql(r,i)}if(!l(r.Gx,r.Gy))throw Error("bad curve params: generator point");let h=n.mul(n.pow(r.a,ey),eg),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(h,p)))throw Error("bad curve params: a or b");function y(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(d(e)&&(e=b(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:_(A("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return s&&(t=F(t,a)),P("private key",t,ep,a),t}function g(e){if(!(e instanceof w))throw Error("ProjectivePoint expected")}let m=N((e,t)=>{let{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),v=N(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!l(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class w{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof w)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?w.ZERO:new w(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=G(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(w.fromAffine)}static fromHex(e){let t=w.fromAffine(a(A("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return w.BASE.multiply(y(e))}static msm(e,t){return function(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,o=function(e){let t;for(t=0;e>c;e>>=u,t+=1);return t}(BigInt(i)),l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);let d=T(l),h=Array(Number(d)+1).fill(a),f=Math.floor((t.BITS-1)/l)*l,p=a;for(let e=f;e>=0;e-=l){h.fill(a);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&d);h[i]=h[i].add(r[t])}let t=a;for(let e=h.length-1,r=a;e>0;e--)r=r.add(h[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<l;e++)p=p.double()}return p}(w,i,e,t)}_setWindowSize(e){I.setWindowSize(this,e)}assertValidity(){v(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){g(e);let{px:t,py:r,pz:i}=this,{px:s,py:a,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(s,i)),c=n.eql(n.mul(r,o),n.mul(a,i));return l&&c}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ey),{px:s,py:a,pz:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(s,s),h=n.mul(a,a),f=n.mul(o,o),p=n.mul(s,a);return p=n.add(p,p),u=n.mul(s,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,f),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(i,u),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,p),c=n.add(c,d),f=n.mul(a,o),f=n.add(f,f),d=n.mul(f,p),l=n.sub(l,d),u=n.mul(f,h),u=n.add(u,u),new w(l,c,u=n.add(u,u))}add(e){g(e);let{px:t,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,c=n.ZERO,u=n.ZERO,d=n.ZERO,h=r.a,f=n.mul(r.b,ey),p=n.mul(t,a),y=n.mul(i,o),m=n.mul(s,l),b=n.add(t,i),v=n.add(a,o);b=n.mul(b,v),v=n.add(p,y),b=n.sub(b,v),v=n.add(t,s);let _=n.add(a,l);return v=n.mul(v,_),_=n.add(p,m),v=n.sub(v,_),_=n.add(i,s),c=n.add(o,l),_=n.mul(_,c),c=n.add(y,m),_=n.sub(_,c),d=n.mul(h,v),c=n.mul(f,m),d=n.add(c,d),c=n.sub(y,d),d=n.add(y,d),u=n.mul(c,d),y=n.add(p,p),y=n.add(y,p),m=n.mul(h,m),v=n.mul(f,v),y=n.add(y,m),m=n.sub(p,m),m=n.mul(h,m),v=n.add(v,m),p=n.mul(y,v),u=n.add(u,p),p=n.mul(_,v),c=n.mul(b,c),c=n.sub(c,p),p=n.mul(b,y),d=n.mul(_,d),new w(c,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(w.ZERO)}wNAF(e){return I.wNAFCached(this,e,w.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;P("scalar",e,ef,i);let s=w.ZERO;if(e===ef)return s;if(this.is0()||e===ep)return this;if(!t||I.hasPrecomputes(this))return I.wNAFCachedUnsafe(this,e,w.normalizeZ);let{k1neg:a,k1:o,k2neg:l,k2:c}=t.splitScalar(e),u=s,d=s,h=this;for(;o>ef||c>ef;)o&ep&&(u=u.add(h)),c&ep&&(d=d.add(h)),h=h.double(),o>>=ep,c>>=ep;return a&&(u=u.negate()),l&&(d=d.negate()),d=new w(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i,{endo:s,n:a}=r;if(P("scalar",e,ep,a),s){let{k1neg:r,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:c,f:u}=this.wNAF(a),{p:d,f:h}=this.wNAF(l);c=I.constTimeNegate(r,c),d=I.constTimeNegate(o,d),d=new w(n.mul(d.px,s.beta),d.py,d.pz),t=c.add(d),i=u.add(h)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return w.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=w.BASE,i=(e,t)=>t!==ef&&t!==ep&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return m(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ep)return!0;if(t)return t(w,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ep?this:t?t(w,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return f("isCompressed",e),this.assertValidity(),s(w,this,e)}toHex(e=!0){return f("isCompressed",e),b(this.toRawBytes(e))}}w.BASE=new w(r.Gx,r.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);let{endo:x,nBitLength:E}=r,I=(t=x?Math.ceil(E/2):E,{constTimeNegate:er,hasPrecomputes:e=>1!==el(e),unsafeLadder(e,t,r=w.ZERO){let n=e;for(;t>ee;)t&et&&(r=r.add(n)),n=n.double(),t>>=et;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=ei(r,t),s=[],a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,r,n){let i=w.ZERO,s=w.BASE,a=ei(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:o,isZero:l,isNeg:c,isNegF:u,offsetF:d}=es(n,e,a);n=t,l?s=s.add(er(u,r[d])):i=i.add(er(c,r[o]))}return{p:i,f:s}},wNAFUnsafe(e,r,n,i=w.ZERO){let s=ei(e,t);for(let e=0;e<s.windows&&n!==ee;e++){let{nextN:t,offset:a,isZero:o,isNeg:l}=es(n,e,s);if(n=t,!o){let e=r[a];i=i.add(l?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=ea.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ea.set(t,r(n))),n},wNAFCached(e,t,r){let n=el(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=el(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){en(r,t),eo.set(e,r),ea.delete(e)}});return{CURVE:r,ProjectivePoint:w,normPrivateKeyToScalar:y,weierstrassEquation:o,isWithinCurveOrder:function(e){return C(e,ep,r.n)}}}({...r,toBytes(e,t,r){let i=t.toAffine(),s=n.toBytes(i.x);return(f("isCompressed",r),r)?S(Uint8Array.from([t.hasEvenY()?2:3]),s):S(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],i=e.subarray(1);if(t===o&&(2===r||3===r)){let e,t=_(i);if(!C(t,ep,n.ORDER))throw Error("Point is not on curve");let s=g(t);try{e=n.sqrt(s)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&r)==1!=((e&ep)===ep)&&(e=n.neg(e)),{x:t,y:e}}if(t===l&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw Error("invalid Point, expected length of "+o+", or uncompressed "+l+", got "+t)}}),v=(e,t,r)=>_(e.slice(t,r));class k{constructor(e,t,r){P("r",e,ep,i),P("s",t,ep,i),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new k(v(e=A("compactSignature",e,2*s),0,s),v(e,s,2*s))}static fromDER(e){let{r:t,s:r}=eh.toSig(A("DER",e));return new k(t,r)}assertValidity(){}addRecoveryBit(e){return new k(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s,recovery:a}=this,o=j(A("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let l=2===a||3===a?t+r.n:t;if(l>=n.ORDER)throw Error("recovery id 2 or 3 invalid");let c=(1&a)==0?"02":"03",u=p.fromHex(c+b(E(l,n.BYTES))),d=W(l,i),f=h(-o*d),y=h(s*d),g=p.BASE.multiplyAndAddUnsafe(u,f,y);if(!g)throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>i>>ep}normalizeS(){return this.hasHighS()?new k(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return w(this.toDERHex())}toDERHex(){return eh.hexFromSig(this)}toCompactRawBytes(){return w(this.toCompactHex())}toCompactHex(){return b(E(this.r,s))+b(E(this.s,s))}}function R(e){if("bigint"==typeof e)return!1;if(e instanceof p)return!0;let t=A("key",e).length,i=n.BYTES,a=i+1;if(!r.allowedPrivateKeyLengths&&s!==a)return t===a||t===2*i+1}let B=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=_(e),r=8*e.length-a;return r>0?t>>BigInt(r):t},j=r.bits2int_modN||function(e){return h(B(e))},M=T(a);function L(e){return P("num < 2^"+a,e,ef,M),E(e,s)}let $={lowS:r.lowS,prehash:!1},z={lowS:r.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return p.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===R(e))throw Error("first arg must be private key");if(!1===R(t))throw Error("second arg must be public key");return p.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,t,s=$){let{seed:a,k2sig:o}=function(e,t,s=$){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:a,randomBytes:o}=r,{lowS:l,prehash:c,extraEntropy:u}=s;null==l&&(l=!0),e=A("msgHash",e),eu(s),c&&(e=A("prehashed msgHash",a(e)));let d=j(e),f=y(t),g=[L(f),L(d)];if(null!=u&&!1!==u){let e=!0===u?o(n.BYTES):u;g.push(A("extraEntropy",e))}return{seed:S(...g),k2sig:function(e){var t;let r=B(e);if(!m(r))return;let n=W(r,i),s=p.BASE.multiply(r).toAffine(),a=h(s.x);if(a===ef)return;let o=h(n*h(d+a*f));if(o===ef)return;let c=2*(s.x!==a)|Number(s.y&ep),u=o;return l&&o>i>>ep&&(u=(t=o)>i>>ep?h(-t):t,c^=1),new k(a,u,c)}}}(e,t,s);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=O(e),i=O(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=O(0))=>{let t;if(i=o((t=[0],Uint8Array.from(t)),e),n=o(),0!==e.length){let t;i=o((t=[1],Uint8Array.from(t)),e),n=o()}},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return S(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(c()));)l();return a(),r}})(r.hash.outputLen,r.nByteLength,r.hmac)(a,o)},verify:function(e,t,n,s=z){let a,o;t=A("msgHash",t),n=A("publicKey",n);let{lowS:l,prehash:c,format:u}=s;if(eu(s),"strict"in s)throw Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw Error("format must be compact or der");let f="string"==typeof e||d(e),y=!f&&!u&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!f&&!y)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(y&&(o=new k(e.r,e.s)),f){try{"compact"!==u&&(o=k.fromDER(e))}catch(e){if(!(e instanceof eh.Err))throw e}o||"der"===u||(o=k.fromCompact(e))}a=p.fromHex(n)}catch(e){return!1}if(!o||l&&o.hasHighS())return!1;c&&(t=r.hash(t));let{r:g,s:m}=o,b=j(t),v=W(m,i),w=h(b*v),_=h(g*v),x=p.BASE.multiplyAndAddUnsafe(a,w,_)?.toAffine();return!!x&&h(x.x)===g},ProjectivePoint:p,Signature:k,utils:{isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{let e=Q(r.n);return function(e,t,r=!1){let n=e.length,i=X(t),s=Q(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let a=F(r?x(e):_(e),t-U)+U;return r?I(a,i):E(a,i)}(r.randomBytes(e),r.n)},precompute:(e=8,t=p.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...i,...{hash:e,hmac:(t,...r)=>(0,o.w)(e,t,(0,l.Id)(...r)),randomBytes:l.po}}))(s),create:n})},4932:(e,t,r)=>{"use strict";function n(e,t){return({exclude:r,format:n})=>({exclude:r,format:(e,i)=>{let s=t(e,i);if(r)for(let e of r)delete s[e];return{...s,...n(e,i)}},type:e})}r.d(t,{q:()=>n})},5292:(e,t,r)=>{"use strict";r.d(t,{MM:()=>v,ft:()=>x});var n=r(5805),i=r(50589),s=r(9244),a=r(55015),o=r(33297),l=r(51804),c=r(71567),u=r(52996),d=r(47016),h=r(76635),f=r(85436),p=r(84619),y=r(31070),g=r(39831),m=r(50541),b=r(42494);let v=["blobVersionedHashes","chainId","fees","gas","nonce","type"],w=new Map,_=new p.A(128);async function x(e,t){let r,p,x=t;x.account??=e.account,x.parameters??=v;let{account:E,chain:I=e.chain,nonceManager:A,parameters:S}=x,k="function"==typeof I?.prepareTransactionRequest?{fn:I.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(I?.prepareTransactionRequest)?{fn:I.prepareTransactionRequest[0],runAt:I.prepareTransactionRequest[1].runAt}:void 0;async function C(){return r?r:void 0!==x.chainId?x.chainId:I?I.id:r=await (0,f.T)(e,b.T,"getChainId")({})}let P=E?(0,n.J)(E):E,T=x.nonce;if(S.includes("nonce")&&void 0===T&&P&&A){let t=await C();T=await A.consume({address:P.address,chainId:t,client:e})}k?.fn&&k.runAt?.includes("beforeFillTransaction")&&(x=await k.fn({...x,chain:I},{phase:"beforeFillTransaction"}),T??=x.nonce);let O=(!(S.includes("blobVersionedHashes")||S.includes("sidecars"))||!x.kzg||!x.blobs)&&!1!==_.get(e.uid)&&["fees","gas"].some(e=>S.includes(e))&&(S.includes("chainId")&&"number"!=typeof x.chainId||S.includes("nonce")&&"number"!=typeof T||S.includes("fees")&&"bigint"!=typeof x.gasPrice&&("bigint"!=typeof x.maxFeePerGas||"bigint"!=typeof x.maxPriorityFeePerGas)||S.includes("gas")&&"bigint"!=typeof x.gas)?await (0,f.T)(e,m.a,"fillTransaction")({...x,nonce:T}).then(t=>{let{chainId:r,from:n,gas:i,gasPrice:s,nonce:a,maxFeePerBlobGas:o,maxFeePerGas:l,maxPriorityFeePerGas:c,type:u,...d}=t.transaction;return _.set(e.uid,!0),{...x,...n?{from:n}:{},...u?{type:u}:{},...void 0!==r?{chainId:r}:{},...void 0!==i?{gas:i}:{},...void 0!==s?{gasPrice:s}:{},...void 0!==a?{nonce:a}:{},...void 0!==o?{maxFeePerBlobGas:o}:{},...void 0!==l?{maxFeePerGas:l}:{},...void 0!==c?{maxPriorityFeePerGas:c}:{},..."nonceKey"in d&&void 0!==d.nonceKey?{nonceKey:d.nonceKey}:{}}}).catch(t=>("TransactionExecutionError"!==t.name||t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&_.set(e.uid,!1),x)):x;T??=O.nonce;let{blobs:R,gas:D,kzg:N,type:B}=x={...O,...P?{from:P?.address}:{},...T?{nonce:T}:{}};async function U(){return p||(p=await (0,f.T)(e,a.g,"getBlock")({blockTag:"latest"}))}if(k?.fn&&k.runAt?.includes("beforeFillParameters")&&(x=await k.fn({...x,chain:I},{phase:"beforeFillParameters"})),S.includes("nonce")&&void 0===T&&P&&!A&&(x.nonce=await (0,f.T)(e,o.y,"getTransactionCount")({address:P.address,blockTag:"pending"})),(S.includes("blobVersionedHashes")||S.includes("sidecars"))&&R&&N){let e=(0,c.S)({blobs:R,kzg:N});if(S.includes("blobVersionedHashes")){let t=(0,d.d)({commitments:e,to:"hex"});x.blobVersionedHashes=t}if(S.includes("sidecars")){let t=(0,u.t)({blobs:R,commitments:e,kzg:N}),r=(0,h.T)({blobs:R,commitments:e,proofs:t,to:"hex"});x.sidecars=r}}if(S.includes("chainId")&&(x.chainId=await C()),(S.includes("fees")||S.includes("type"))&&void 0===B)try{x.type=(0,g.L)(x)}catch{let t=w.get(e.uid);if(void 0===t){let r=await U();t="bigint"==typeof r?.baseFeePerGas,w.set(e.uid,t)}x.type=t?"eip1559":"legacy"}if(S.includes("fees"))if("legacy"!==x.type&&"eip2930"!==x.type){if(void 0===x.maxFeePerGas||void 0===x.maxPriorityFeePerGas){let t=await U(),{maxFeePerGas:r,maxPriorityFeePerGas:n}=await (0,i.O)(e,{block:t,chain:I,request:x});if(void 0===x.maxPriorityFeePerGas&&x.maxFeePerGas&&x.maxFeePerGas<n)throw new l.RR({maxPriorityFeePerGas:n});x.maxPriorityFeePerGas=n,x.maxFeePerGas=r}}else{if(void 0!==x.maxFeePerGas||void 0!==x.maxPriorityFeePerGas)throw new l.pw;if(void 0===x.gasPrice){let t=await U(),{gasPrice:r}=await (0,i.O)(e,{block:t,chain:I,request:x,type:"legacy"});x.gasPrice=r}}return S.includes("gas")&&void 0===D&&(x.gas=await (0,f.T)(e,s.Q,"estimateGas")({...x,account:P,prepare:P?.type==="local"?[]:["blobVersionedHashes"]})),k?.fn&&k.runAt?.includes("afterFillParameters")&&(x=await k.fn({...x,chain:I},{phase:"afterFillParameters"})),(0,y.c)(x),delete x.parameters,x}},5425:(e,t,r)=>{"use strict";function n(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function i(e){return n(e,"^https?:")}function s(e){return n(e,"^wss?:")}function a(e){return RegExp("wss?://localhost(:d{2,5})?").test(e)}r.d(t,{A1:()=>s,q$:()=>i,z:()=>a})},5805:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{J:()=>n})},5958:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});class n extends Error{static setStaticOptions(e){n.prototype.docsOrigin=e.docsOrigin,n.prototype.showVersion=e.showVersion,n.prototype.version=e.version}constructor(e,t={}){const r=(()=>{if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof n&&t.cause.docsPath||t.docsPath,s=t.docsOrigin??n.prototype.docsOrigin,a=`${s}${i??""}`,o=!!(t.version??n.prototype.showVersion),l=t.version??n.prototype.version;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i||o?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0,o?`Version: ${l}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=t.cause,this.details=r,this.docs=a,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=o,this.version=l}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}Object.defineProperty(n,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:"ox@0.1.1"}}),n.setStaticOptions(n.defaultStaticOptions)},5974:(e,t,r)=>{"use strict";r.d(t,{$:()=>u,A:()=>i,B:()=>et,C:()=>ei,D:()=>X,E:()=>Q,F:()=>ee,G:()=>A,H:()=>T,I:()=>c,J:()=>p,K:()=>j,L:()=>w,M:()=>J,N:()=>el,O:()=>es,P:()=>ea,Q:()=>eo,R:()=>s,S:()=>a,T:()=>o,U:()=>l,V:()=>d,W:()=>h,X:()=>M,Y:()=>y,Z:()=>Y,_:()=>_,a:()=>I,a0:()=>D,a1:()=>k,a2:()=>f,a3:()=>ec,a4:()=>eu,a8:()=>z,a9:()=>$,aa:()=>L,b:()=>x,c:()=>b,d:()=>g,e:()=>v,f:()=>m,g:()=>U,h:()=>N,i:()=>K,j:()=>H,k:()=>V,l:()=>W,m:()=>q,n:()=>F,o:()=>B,p:()=>E,q:()=>O,r:()=>P,s:()=>C,t:()=>R,u:()=>S,v:()=>G,w:()=>Z,x:()=>er,y:()=>en,z:()=>n});let n="/api/v1/sessions",i="/api/v1/sessions/logout",s="/api/v1/siwe/init",a="/api/v1/siwe/authenticate",o="/api/v1/siwe/link",l="/api/v1/siwe/link_smart_wallet",c="/api/v1/siwe/unlink",u="/api/v1/siwe/transfer",d="/api/v1/siws/init",h="/api/v1/siws/authenticate",f="/api/v1/siws/link",p="/api/v1/siws/unlink",y="/api/v1/siws/transfer",g="/api/v1/farcaster/init",m="/api/v1/farcaster/authenticate",b="/api/v1/farcaster/link",v="/api/v1/farcaster/status",w="/api/v1/farcaster/unlink",_="/api/v1/farcaster/transfer",x="/api/v1/passwordless/init",E="/api/v1/passwordless/authenticate",I="/api/v1/passwordless/link",A="/api/v1/passwordless/unlink",S="/api/v1/passwordless/update",k="/api/v1/passwordless/transfer",C="/api/v1/passwordless_sms/init",P="/api/v1/passwordless_sms/link",T="/api/v1/passwordless_sms/unlink",O="/api/v1/passwordless_sms/authenticate",R="/api/v1/passwordless_sms/update",D="/api/v1/passwordless_sms/transfer",N="/api/v1/oauth/init",B="/api/v1/oauth/authenticate",U="/api/v1/oauth/link",j="/api/v1/oauth/unlink",M="/api/v1/oauth/transfer",L="/api/v1/recovery/oauth/init",$="/api/v1/recovery/oauth/init_icloud",z="/api/v1/recovery/oauth/authenticate",F="/api/v1/passkeys/link/init",q="/api/v1/passkeys/authenticate/init",W="/api/v1/passkeys/register/init",V="/api/v1/passkeys/link",H="/api/v1/passkeys/authenticate",K="/api/v1/passkeys/register",G="/api/v1/telegram/authenticate",Z="/api/v1/telegram/link",J="/api/v1/telegram/unlink",Y="/api/v1/telegram/transfer",X="/api/v1/mfa/passwordless_sms/init",Q="/api/v1/mfa/passkeys/init",ee="/api/v1/users/me/accept_terms",et="/api/v1/analytics_events",er="/api/v1/custom_jwt_account/authenticate",en="/api/v1/custom_jwt_account/link",ei="/api/v1/guest/authenticate",es="/api/v1/plugins/moonpay_on_ramp/sign",ea="/api/v1/funding/coinbase_on_ramp/init",eo="/api/v1/funding/coinbase_on_ramp/status",el="/api/v1/wallets/revoke",ec="/api/v1/users/me",eu="/api/v1/scan/transaction"},6530:(e,t,r)=>{"use strict";function n(e,...t){return t.reduce((e,t)=>t(e),e)}r.d(t,{F:()=>n})},6606:(e,t,r)=>{"use strict";r.d(t,{n:()=>p});var n=r(36501),i=r(78552),s=r(85436),a=r(72182),o=r(49139),l=r(73822),c=r(30095),u=r(55015),d=r(85370),h=r(40086),f=r(32551);async function p(e,t){let r,p,y,g,m,{checkReplacement:b=!0,confirmations:v=1,hash:w,onReplaced:_,retryCount:x=6,retryDelay:E=({count:e})=>200*~~(1<<e),timeout:I=18e4}=t,A=(0,c.A)(["waitForTransactionReceipt",e.uid,w]),S=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,k=!1,{promise:C,resolve:P,reject:T}=(0,o.Y)(),O=I?setTimeout(()=>{m?.(),g?.(),T(new i.WA({hash:w}))},I):void 0;return g=(0,a.lB)(A,{onReplaced:_,resolve:P,reject:T},async t=>{if((y=await (0,s.T)(e,h.h,"getTransactionReceipt")({hash:w}).catch(()=>void 0))&&v<=1){clearTimeout(O),t.resolve(y),g?.();return}m=(0,s.T)(e,f.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:S,async onBlockNumber(a){let o=e=>{clearTimeout(O),m?.(),e(),g?.()},c=a;if(!k)try{if(y){if(v>1&&(!y.blockNumber||c-y.blockNumber+1n<v))return;o(()=>t.resolve(y));return}if(b&&!r&&(k=!0,await (0,l.b)(async()=>{(r=await (0,s.T)(e,d.x,"getTransaction")({hash:w})).blockNumber&&(c=r.blockNumber)},{delay:E,retryCount:x}),k=!1),y=await (0,s.T)(e,h.h,"getTransactionReceipt")({hash:w}),v>1&&(!y.blockNumber||c-y.blockNumber+1n<v))return;o(()=>t.resolve(y))}catch(a){if(a instanceof i.Kz||a instanceof i.Kc){if(!r){k=!1;return}try{p=r,k=!0;let i=await (0,l.b)(()=>(0,s.T)(e,u.g,"getBlock")({blockNumber:c,includeTransactions:!0}),{delay:E,retryCount:x,shouldRetry:({error:e})=>e instanceof n.l});k=!1;let a=i.transactions.find(({from:e,nonce:t})=>e===p.from&&t===p.nonce);if(!a||(y=await (0,s.T)(e,h.h,"getTransactionReceipt")({hash:a.hash}),v>1&&(!y.blockNumber||c-y.blockNumber+1n<v)))return;let d="replaced";a.to===p.to&&a.value===p.value&&a.input===p.input?d="repriced":a.from===a.to&&0n===a.value&&(d="cancelled"),o(()=>{t.onReplaced?.({reason:d,replacedTransaction:p,transaction:a,transactionReceipt:y}),t.resolve(y)})}catch(e){o(()=>t.reject(e))}}else o(()=>t.reject(a))}}})}),C}},7506:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){const r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.2.3"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},9101:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n,i=r(65936),s=r(49585);function a(){let e,t=(e="undefined"==typeof document,(0,(n||(n=r.t(i,2))).useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[a,o]=i.useState(s._.isHandoffComplete);return a&&!1===s._.isHandoffComplete&&o(!1),i.useEffect(()=>{!0!==a&&o(!0)},[a]),i.useEffect(()=>s._.handoff(),[]),!t&&a}},9244:(e,t,r)=>{"use strict";r.d(t,{Q:()=>b});var n=r(5805),i=r(42213),s=r(9547),a=r(16678),o=r(85550),l=r(19782),c=r(78552);class u extends i.C{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:s,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,c.aO)({from:t?.address,to:f,value:void 0!==p&&`${(0,o.c)(p)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:void 0!==a&&`${(0,l.Q)(a)} gwei`,maxFeePerGas:void 0!==u&&`${(0,l.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,l.Q)(d)} gwei`,nonce:h})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=r(1176),h=r(76588),f=r(70327),p=r(26983),y=r(22211),g=r(31070),m=r(5292);async function b(e,t){let{account:r=e.account,prepare:o=!0}=t,l=r?(0,n.J)(r):void 0,c=Array.isArray(o)?o:l?.type!=="local"?["blobVersionedHashes"]:void 0;try{let r=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await (0,s.g)({authorization:t.authorizationList[0]}).catch(()=>{throw new i.C("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:n,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:b,blockTag:v,data:w,gas:_,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:I,maxPriorityFeePerGas:A,nonce:S,value:k,stateOverride:C,...P}=o?await (0,m.ft)(e,{...t,parameters:c,to:r}):t;if(_&&t.gas!==_)return _;let T=("bigint"==typeof b?(0,a.cK)(b):void 0)||v,O=(0,y.yH)(C);(0,g.c)(t);let R=e.chain?.formatters?.transactionRequest?.format,D=(R||p.Bv)({...(0,f.o)(P,{format:R}),account:l,accessList:n,authorizationList:u,blobs:d,blobVersionedHashes:h,data:w,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:I,maxPriorityFeePerGas:A,nonce:S,to:r,value:k},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:O?[D,T??e.experimental_blockTag??"latest",O]:T?[D,T]:[D]}))}catch(r){throw function(e,{docsPath:t,...r}){let n;return new u((n=(0,h.l)(e,r))instanceof d.RM?e:n,{docsPath:t,...r})}(r,{...t,account:l,chain:e.chain})}}},9547:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(49612),i=r(54849);async function s(e){let{authorization:t,signature:r}=e;return(0,n.x)({hash:(0,i.C)(t),signature:r??t})}},9587:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(30782),i=r(50244);function s(e){let{key:t="public",name:r="Public Client"}=e;return(0,n.U)({...e,key:t,name:r,type:"publicClient"}).extend(i.$)}},9643:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(33191),i=r(81541),s=r(13029);function a(e,t,r=s.bN){return(0,n.useSyncExternalStoreWithSelector)((0,i._)(t=>e.subscribe(o,t)),(0,i._)(()=>e.state),(0,i._)(()=>e.state),(0,i._)(t),r)}function o(e){return e}},10106:(e,t,r)=>{"use strict";r.d(t,{j:()=>l});var n=r(59670),i=r(42213),s=r(82148),a=r(14717),o=r(41347);function l(e,{abi:t,address:r,args:l,docsPath:c,functionName:u,sender:d}){let h=e instanceof s.$S?e:e instanceof i.C?e.walk(e=>"data"in e)||e.walk():{},{code:f,data:p,details:y,message:g,shortMessage:m}=h,b=e instanceof n.O?new s.rR({functionName:u}):[3,o.bq.code].includes(f)&&(p||y||g||m)||f===o.Di.code&&"execution reverted"===y&&p?new s.M({abi:t,data:"object"==typeof p?p.data:p,functionName:u,message:h instanceof a.J8?y:m??g}):e;return new s.bG(b,{abi:t,args:l,contractAddress:r,docsPath:c,functionName:u,sender:d})}},10519:(e,t,r)=>{"use strict";r.d(t,{v:()=>u});var n=r(58037),i=r(59809),s=r(14893),a=r(65991);let o=new Map,l=new Map;function c(e){var t;let r=null!=(t=l.get(e))?t:0;return l.set(e,r+1),0!==r||(o.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>(function(e){var t;let r=null!=(t=l.get(e))?t:1;if(1===r?l.delete(e):l.set(e,r-1),1!==r)return;let n=o.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,o.delete(e))})(e)}function u(e,{allowed:t,disallowed:r}={}){let o=(0,s.S)(e,"inert-others");(0,a.s)(()=>{var e,s;if(!o)return;let a=(0,n.e)();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&a.add(c(t));let l=null!=(s=null==t?void 0:t())?s:[];for(let e of l){if(!e)continue;let t=(0,i.TW)(e);if(!t)continue;let r=e.parentElement;for(;r&&r!==t.body;){for(let e of r.children)l.some(t=>e.contains(t))||a.add(c(e));r=r.parentElement}}return a.dispose},[o,t,r])}},11534:(e,t)=>{"use strict";function r(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findClosestQuality",{enumerable:!0,get:function(){return r}})},12017:(e,t,r)=>{"use strict";r.d(t,{Ez:()=>a,LX:()=>n,WN:()=>i,fT:()=>s});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",s="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",a="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},12258:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(65936),i=r(59809);function s(...e){return(0,n.useMemo)(()=>(0,i.TW)(...e),[...e])}},12530:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]])},13029:(e,t,r)=>{"use strict";r.d(t,{bN:()=>y,u5:()=>p,vA:()=>b});var n,i,s,a=r(33980),o=r(58037),l=r(49585),c=Object.defineProperty,u=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},d=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},f=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class p{constructor(e){h(this,n,{}),h(this,i,new a.G(()=>new Set)),h(this,s,new Set),((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"disposables",(0,o.e)()),f(this,n,e),l._.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return d(this,n)}subscribe(e,t){if(l._.isServer)return()=>{};let r={selector:e,callback:t,current:e(d(this,n))};return d(this,s).add(r),this.disposables.add(()=>{d(this,s).delete(r)})}on(e,t){return l._.isServer?()=>{}:(d(this,i).get(e).add(t),this.disposables.add(()=>{d(this,i).get(e).delete(t)}))}send(e){let t=this.reduce(d(this,n),e);if(t!==d(this,n)){for(let e of(f(this,n,t),d(this,s))){let t=e.selector(d(this,n));y(e.current,t)||(e.current=t,e.callback(t))}for(let t of d(this,i).get(e.type))t(d(this,n),e)}}}function y(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&g(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&g(e.entries(),t.entries()):!!(m(e)&&m(t))&&g(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function g(e,t){for(;;){let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}}function m(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function b(e){let[t,r]=e(),n=(0,o.e)();return(...e)=>{t(...e),n.dispose(),n.microTask(r)}}n=new WeakMap,i=new WeakMap,s=new WeakMap},13310:(e,t,r)=>{"use strict";r.d(t,{B4:()=>i,SK:()=>s,hX:()=>a});var n=r(42213);class i extends n.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class s extends n.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class a extends n.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},14339:(e,t,r)=>{"use strict";let n,i,s,a,o,l;r.d(t,{vd:()=>dy,td:()=>de,C4:()=>u9});var c,u,d=r(50863),h=r.n(d),f=r(74439),p=r(16891),y=r(24578),g=r(16216);class m extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof m){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof m&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function b(e,t){if(k(e)>t)throw new O({givenSize:k(e),maxSize:t})}function v(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;let i=e.replace("0x","");if(i.length>2*n)throw new D({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i["right"===r?"padEnd":"padStart"](2*n,"0")}`}function w(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}let _=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function x(e){return e instanceof Uint8Array?E(e):Array.isArray(e)?E(new Uint8Array(e)):e}function E(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=_[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(b(n,t.size),A(n,t.size)):n}function I(e,t={}){var r;let n,{signed:i,size:s}=t,a=BigInt(e);s?n=i?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(n=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof n&&i?-n-1n:0;if(n&&a>n||a<o){let t="bigint"==typeof e?"n":"";throw new C({max:n?`${n}${t}`:void 0,min:`${o}${t}`,signed:i,size:s,value:`${e}${t}`})}let l=(i&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16),c=`0x${l}`;return s?(r=c,v(r,{dir:"left",size:s})):c}function A(e,t){return v(e,{dir:"right",size:t})}function S(e,t,r,n={}){let{strict:i}=n;if("number"==typeof t&&t>0&&t>k(e)-1)throw new R({offset:t,position:"start",size:k(e)});let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&k(e)!==r-t)throw new R({offset:r,position:"end",size:k(e)})}(s,t,r),s}function k(e){return Math.ceil((e.length-2)/2)}class C extends m{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class P extends m{constructor(e){super(`Value \`${"object"==typeof e?w(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class T extends m{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class O extends m{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class R extends m{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class D extends m{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}class N extends m{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${k(x(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class B extends m{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class U extends m{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var j=r(4714);function M(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}let L=new TextEncoder;class $ extends m{constructor(e){super(`Value \`${"object"==typeof e?w(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class z extends m{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class F extends m{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class q extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let W={checksum:new q(8192)}.checksum;var V=r(81134);function H(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,i=(0,V.lY)(e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,n=e;r&&(b(e,r),n=A(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let s=i.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=M(i.charCodeAt(t++)),n=M(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new m(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);a[e]=16*r+n}return a}(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?i:E(i)}function K(e,t={}){let{compressed:r}=t,{prefix:n,x:i,y:s}=e;if(!1===r||"bigint"==typeof i&&"bigint"==typeof s){if(4!==n)throw new J({prefix:n,cause:new X});return}if(!0===r||"bigint"==typeof i&&void 0===s){if(3!==n&&2!==n)throw new J({prefix:n,cause:new Y});return}throw new Z({publicKey:e})}function G(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new Q({publicKey:e});if(130===e.length)return{prefix:4,x:BigInt(S(e,0,32)),y:BigInt(S(e,32,64))};if(132===e.length){let t=Number(S(e,0,1));return{prefix:t,x:BigInt(S(e,1,33)),y:BigInt(S(e,33,65))}}return{prefix:Number(S(e,0,1)),x:BigInt(S(e,1,33))}}class Z extends m{constructor({publicKey:e}){super(`Value \`${w(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class J extends m{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Y extends m{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class X extends m{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class Q extends m{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${k(x(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let ee=/^0x[a-fA-F0-9]{40}$/;function et(e,t={}){let{strict:r=!0}=t;if(!ee.test(e))throw new en({address:e,cause:new ei});if(r){if(e.toLowerCase()===e)return;if(er(e)!==e)throw new en({address:e,cause:new es})}}function er(e){if(W.has(e))return W.get(e);et(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=H(function(e,t={}){let{size:r}=t,n=L.encode(e);if("number"==typeof r){var i;if(n.length>r)throw new z({givenSize:n.length,maxSize:r});return i=n,function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new F({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let s="right"===r;i[s?t:n-t-1]=e[s?t:e.length-t-1]}return i}(i,{dir:"right",size:r})}return n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return W.set(e,i),i}class en extends m{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ei extends m{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class es extends m{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}var ea=r(75510),eo=r(38683),el=r(87444),ec=r(22353),eu=r(63933),ed=r(21724),eh=r(38636),ef=r(54280),ep=r(53961),ey=r.n(ep),eg=r(22706);let em="custom_context";var eb=Object.defineProperty,ev=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?eb(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class ew{constructor(e){ev(this,"nodeValue"),ev(this,"sizeInBytes"),ev(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class e_{constructor(e){ev(this,"lengthInNodes"),ev(this,"sizeInBytes"),ev(this,"head"),ev(this,"tail"),ev(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new ew(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}var ex=Object.defineProperty,eE=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?ex(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class eI{constructor(e,t=1024e3){eE(this,"logs"),eE(this,"level"),eE(this,"levelValue"),eE(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=ep.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new e_(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===ep.levels.values.error?console.error(e):t===ep.levels.values.warn?console.warn(e):t===ep.levels.values.debug?console.debug(e):t===ep.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,eg.h)({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new e_(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push((0,eg.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var eA=Object.defineProperty;class eS{constructor(e,t=1024e3){((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?eA(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"baseChunkLogger"),this.baseChunkLogger=new eI(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}var ek=Object.defineProperty;class eC{constructor(e,t=1024e3){((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?ek(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"baseChunkLogger"),this.baseChunkLogger=new eI(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var eP=Object.defineProperty,eT=Object.defineProperties,eO=Object.getOwnPropertyDescriptors,eR=Object.getOwnPropertySymbols,eD=Object.prototype.hasOwnProperty,eN=Object.prototype.propertyIsEnumerable,eB=(e,t,r)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eU=(e,t)=>{for(var r in t||(t={}))eD.call(t,r)&&eB(e,r,t[r]);if(eR)for(var r of eR(t))eN.call(t,r)&&eB(e,r,t[r]);return e};function ej(e,t=em){return e[t]||""}function eM(e,t,r=em){let n=function(e,t,r=em){let n=ej(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=em){return e[r]=t,e}(e.child({context:n}),n,r)}function eL(e){var t,r,n,i;let s,a,o,l;return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?(l=new eS(null==(n=(r=e).opts)?void 0:n.level,r.maxSizeInBytes),{logger:ey()((a=eU({},r.opts),o={level:"trace",browser:eT(eU({},null==(i=r.opts)?void 0:i.browser),eO({write:e=>l.write(e)}))},eT(a,eO(o)))),chunkLoggerController:l}):(s=new eC(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes),{logger:ey()(eT(eU({},e.opts),eO({level:"trace"})),s),chunkLoggerController:s})}var e$=r(55036),ez=r(60065).hp;function eF(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function eq(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}function eW(e,t){return e.includes(":")?[e]:t.chains||[]}var eV=Object.defineProperty,eH=Object.defineProperties,eK=Object.getOwnPropertyDescriptors,eG=Object.getOwnPropertySymbols,eZ=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,eY=(e,t,r)=>t in e?eV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eX=(e,t)=>{for(var r in t||(t={}))eZ.call(t,r)&&eY(e,r,t[r]);if(eG)for(var r of eG(t))eJ.call(t,r)&&eY(e,r,t[r]);return e},eQ=(e,t,r)=>eY(e,"symbol"!=typeof t?t+"":t,r);let e0="react-native",e1="node",e2="browser";function e6(){return"u">typeof e$&&"u">typeof e$.versions&&"u">typeof e$.versions.node}function e5(){return!(0,y.getDocument)()&&!!(0,y.getNavigator)()&&"ReactNative"===navigator.product}function e8(){return!e6()&&!!(0,y.getNavigator)()&&!!(0,y.getDocument)()}function e3(){return e5()?e0:e6()?e1:e8()?e2:"unknown"}function e4(){var e;try{return e5()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Application)?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function e9(){return(0,g.g)()||{name:"",description:"",url:"",icons:[""]}}function e7(e,t,r){var n;let i,s=function(){if(e3()===e0&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)){let{OS:e,Version:t}=global.Platform;return[e,t].join("-")}let e=(0,f.o0)();if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),a=(i=e3())===e2?[i,(null==(n=(0,y.getLocation)())?void 0:n.host)||"unknown"].join(":"):i;return[[e,t].join("-"),["js",r].join("-"),s,a].join("/")}function te(e,t){return e.filter(e=>t.includes(e)).length===e.length}function tt(e){return Object.fromEntries(e.entries())}function tr(e){return new Map(Object.entries(e))}function tn(e=p.FIVE_MINUTES,t){let r,n,i,s,a=(0,p.toMiliseconds)(e||p.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),s=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,o)=>{if(s)return e(s);i=setTimeout(()=>{let e=Error(t);s=Promise.reject(e),o(e)},a),r=e,n=o})}}function ti(e,t,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(s)})}function ts(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function ta(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function to(e,t){return(0,p.fromMiliseconds)((t||Date.now())+(0,p.toMiliseconds)(e))}function tl(e){return Date.now()>=(0,p.toMiliseconds)(e)}function tc(e,t){return`${e}${t?`:${t}`:""}`}function tu(e=[],t=[]){return[...new Set([...e,...t])]}async function td({id:e,topic:t,wcDeepLink:r}){var n,i;try{if(!r)return;let s="string"==typeof r?JSON.parse(r):r,a=s?.href;if("string"!=typeof a)return;let o=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=ez.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(a,e,t),l=e3();if(l===e2){let e;if(!(null!=(n=(0,y.getDocument)())&&n.hasFocus()))return void console.warn("Document does not have focus, skipping deeplink.");i=o,e="_self",!function(){try{return window.self!==window.top}catch{return!1}}()?("u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)||i.startsWith("https://")||i.startsWith("http://"))&&(e="_blank"):e="_top",window.open(i,e,"noreferrer noopener")}else l===e0&&"u">typeof(null==global?void 0:global.Linking)&&await global.Linking.openURL(o)}catch(e){console.error(e)}}async function th(e,t){let r="";try{if(e8()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function tf(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function tp(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ty(){return"u">typeof e$&&"true"===e$.env.IS_VITEST}function tg(e){return ez.from(e,"base64").toString("utf-8")}class tm{constructor({limit:e}){eQ(this,"limit"),eQ(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}let tb=BigInt(0x100000000-1),tv=BigInt(32);function tw(e,t=!1){return t?{h:Number(e&tb),l:Number(e>>tv&tb)}:{h:0|Number(e>>tv&tb),l:0|Number(e&tb)}}function t_(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=tw(e[s],t);[n[s],i[s]]=[r,a]}return[n,i]}let tx=(e,t,r)=>e>>>r,tE=(e,t,r)=>e<<32-r|t>>>r,tI=(e,t,r)=>e>>>r|t<<32-r,tA=(e,t,r)=>e<<32-r|t>>>r,tS=(e,t,r)=>e<<64-r|t>>>r-32,tk=(e,t,r)=>e>>>r-32|t<<64-r;function tC(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let tP=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),tT=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,tO=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),tR=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,tD=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),tN=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,tB="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function tU(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tj(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function tM(e,...t){if(!tU(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function tL(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");tj(e.outputLen),tj(e.blockLen)}function t$(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tz(e,t){tM(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function tF(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function tq(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function tW(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tV(e,t){return e<<32-t|e>>>t}let tH=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function tK(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}let tG=tH?e=>e:e=>tK(e),tZ=tH?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=tK(e[t]);return e},tJ="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,tY=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tX(e){if(tM(e),tJ)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=tY[e[r]];return t}function tQ(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function t0(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(tJ)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=tQ(e.charCodeAt(i)),s=tQ(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function t1(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function t2(e){return"string"==typeof e&&(e=t1(e)),tM(e),e}function t6(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];tM(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class t5{}function t8(e){let t=t=>e().update(t2(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function t3(e=32){if(tB&&"function"==typeof tB.getRandomValues)return tB.getRandomValues(new Uint8Array(e));if(tB&&"function"==typeof tB.randomBytes)return Uint8Array.from(tB.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let t4=BigInt(0),t9=BigInt(1),t7=BigInt(2),re=BigInt(7),rt=BigInt(256),rr=BigInt(113),rn=[],ri=[],rs=[];for(let e=0,t=t9,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],rn.push(2*(5*n+r)),ri.push((e+1)*(e+2)/2%64);let i=t4;for(let e=0;e<7;e++)(t=(t<<t9^(t>>re)*rr)%rt)&t7&&(i^=t9<<(t9<<BigInt(e))-t9);rs.push(i)}let ra=t_(rs,!0),ro=ra[0],rl=ra[1],rc=(e,t,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r,ru=(e,t,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r;class rd extends t5{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,tj(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=tF(this.state)}clone(){return this._cloneInto()}keccak(){tZ(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=rc(s,a,1)^r[n],l=ru(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=ri[r],s=rc(t,i,n),a=ru(t,i,n),o=rn[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=ro[n],e[1]^=rl[n]}tq(r)}(this.state32,this.rounds),tZ(this.state32),this.posOut=0,this.pos=0}update(e){t$(this),tM(e=t2(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){t$(this,!1),tM(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tj(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tz(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,tq(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new rd(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let rh=t8(()=>new rd(136,1,32));class rf extends t5{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=tW(this.buffer)}update(e){t$(this),tM(e=t2(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=tW(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){t$(this),tz(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,tq(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=4*!!n,c=4*!n;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=tW(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let rp=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ry=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),rg=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),rm=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rb=new Uint32Array(64);class rv extends rf{constructor(e=32){super(64,e,8,!1),this.A=0|rp[0],this.B=0|rp[1],this.C=0|rp[2],this.D=0|rp[3],this.E=0|rp[4],this.F=0|rp[5],this.G=0|rp[6],this.H=0|rp[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)rb[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=rb[e-15],r=rb[e-2],n=tV(t,7)^tV(t,18)^t>>>3,i=tV(r,17)^tV(r,19)^r>>>10;rb[e]=i+rb[e-7]+n+rb[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){var u,d,h,f;let t=c+(tV(a,6)^tV(a,11)^tV(a,25))+((u=a)&o^~u&l)+rm[e]+rb[e]|0,p=(tV(r,2)^tV(r,13)^tV(r,22))+((d=r)&(h=n)^d&(f=i)^h&f)|0;c=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,a,o,l,c)}roundClean(){tq(rb)}destroy(){this.set(0,0,0,0,0,0,0,0),tq(this.buffer)}}let rw=t_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),r_=rw[0],rx=rw[1],rE=new Uint32Array(80),rI=new Uint32Array(80);class rA extends rf{constructor(e=64){super(128,e,16,!1),this.Ah=0|rg[0],this.Al=0|rg[1],this.Bh=0|rg[2],this.Bl=0|rg[3],this.Ch=0|rg[4],this.Cl=0|rg[5],this.Dh=0|rg[6],this.Dl=0|rg[7],this.Eh=0|rg[8],this.El=0|rg[9],this.Fh=0|rg[10],this.Fl=0|rg[11],this.Gh=0|rg[12],this.Gl=0|rg[13],this.Hh=0|rg[14],this.Hl=0|rg[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)rE[r]=e.getUint32(t),rI[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|rE[e-15],r=0|rI[e-15],n=tI(t,r,1)^tI(t,r,8)^tx(t,r,7),i=tA(t,r,1)^tA(t,r,8)^tE(t,r,7),s=0|rE[e-2],a=0|rI[e-2],o=tI(s,a,19)^tS(s,a,61)^tx(s,a,6),l=tO(i,tA(s,a,19)^tk(s,a,61)^tE(s,a,6),rI[e-7],rI[e-16]),c=tR(l,n,o,rE[e-7],rE[e-16]);rE[e]=0|c,rI[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let e=0;e<80;e++){let t=tI(u,d,14)^tI(u,d,18)^tS(u,d,41),b=tA(u,d,14)^tA(u,d,18)^tk(u,d,41),v=u&h^~u&p,w=tD(m,b,d&f^~d&y,rx[e],rI[e]),_=tN(w,g,t,v,r_[e],rE[e]),x=0|w,E=tI(r,n,28)^tS(r,n,34)^tS(r,n,39),I=tA(r,n,28)^tk(r,n,34)^tk(r,n,39),A=r&i^r&a^i&a,S=n&s^n&o^s&o;g=0|p,m=0|y,p=0|h,y=0|f,h=0|u,f=0|d,({h:u,l:d}=tC(0|l,0|c,0|_,0|x)),l=0|a,c=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let k=tP(x,I,S);r=tT(k,_,E,A),n=0|k}({h:r,l:n}=tC(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=tC(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=tC(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=tC(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=tC(0|this.Eh,0|this.El,0|u,0|d)),({h,l:f}=tC(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:y}=tC(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=tC(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,n,i,s,a,o,l,c,u,d,h,f,p,y,g,m)}roundClean(){tq(rE,rI)}destroy(){tq(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class rS extends rA{constructor(){super(48),this.Ah=0|ry[0],this.Al=0|ry[1],this.Bh=0|ry[2],this.Bl=0|ry[3],this.Ch=0|ry[4],this.Cl=0|ry[5],this.Dh=0|ry[6],this.Dl=0|ry[7],this.Eh=0|ry[8],this.El=0|ry[9],this.Fh=0|ry[10],this.Fl=0|ry[11],this.Gh=0|ry[12],this.Gl=0|ry[13],this.Hh=0|ry[14],this.Hl=0|ry[15]}}let rk=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class rC extends rA{constructor(){super(32),this.Ah=0|rk[0],this.Al=0|rk[1],this.Bh=0|rk[2],this.Bl=0|rk[3],this.Ch=0|rk[4],this.Cl=0|rk[5],this.Dh=0|rk[6],this.Dl=0|rk[7],this.Eh=0|rk[8],this.El=0|rk[9],this.Fh=0|rk[10],this.Fl=0|rk[11],this.Gh=0|rk[12],this.Gl=0|rk[13],this.Hh=0|rk[14],this.Hl=0|rk[15]}}let rP=t8(()=>new rv),rT=t8(()=>new rA),rO=t8(()=>new rS),rR=t8(()=>new rC),rD=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),rN=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),rB=new Uint32Array(32);function rU(e,t,r,n,i,s){let a=i[s],o=i[s+1],l=rB[2*e],c=rB[2*e+1],u=rB[2*t],d=rB[2*t+1],h=rB[2*r],f=rB[2*r+1],p=rB[2*n],y=rB[2*n+1],g=tP(l,u,a);c=tT(g,c,d,o),l=0|g,({Dh:y,Dl:p}={Dh:y^c,Dl:p^l}),({Dh:y,Dl:p}={Dh:p,Dl:y}),({h:f,l:h}=tC(f,h,y,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:tI(d,u,24),Bl:tA(d,u,24)}),rB[2*e]=l,rB[2*e+1]=c,rB[2*t]=u,rB[2*t+1]=d,rB[2*r]=h,rB[2*r+1]=f,rB[2*n]=p,rB[2*n+1]=y}function rj(e,t,r,n,i,s){let a=i[s],o=i[s+1],l=rB[2*e],c=rB[2*e+1],u=rB[2*t],d=rB[2*t+1],h=rB[2*r],f=rB[2*r+1],p=rB[2*n],y=rB[2*n+1],g=tP(l,u,a);c=tT(g,c,d,o),l=0|g,({Dh:y,Dl:p}={Dh:y^c,Dl:p^l}),({Dh:y,Dl:p}={Dh:tI(y,p,16),Dl:tA(y,p,16)}),({h:f,l:h}=tC(f,h,y,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:tS(d,u,63),Bl:tk(d,u,63)}),rB[2*e]=l,rB[2*e+1]=c,rB[2*t]=u,rB[2*t+1]=d,rB[2*r]=h,rB[2*r+1]=f,rB[2*n]=p,rB[2*n+1]=y}class rM extends t5{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,tj(e),tj(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=tF(this.buffer)}update(e){t$(this),tM(e=t2(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,s=e.byteOffset,a=e.buffer;for(let o=0;o<i;){this.pos===t&&(tZ(n),this.compress(n,0,!1),tZ(n),this.pos=0);let l=Math.min(t-this.pos,i-o),c=s+o;if(l===t&&!(c%4)&&o+l<i){let e=new Uint32Array(a,c,Math.floor((i-o)/4));tZ(e);for(let r=0;o+t<i;r+=n.length,o+=t)this.length+=t,this.compress(e,r,!1);tZ(e);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,this.length+=l,o+=l}return this}digestInto(e){t$(this),tz(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,tq(this.buffer.subarray(t)),tZ(r),this.compress(r,0,!0),tZ(r);let n=tF(e);this.get().forEach((e,t)=>n[t]=tG(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=a,e.outputLen=s,e}clone(){return this._cloneInto()}}class rL extends rM{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|rN[0],this.v0h=0|rN[1],this.v1l=0|rN[2],this.v1h=0|rN[3],this.v2l=0|rN[4],this.v2h=0|rN[5],this.v3l=0|rN[6],this.v3h=0|rN[7],this.v4l=0|rN[8],this.v4h=0|rN[9],this.v5l=0|rN[10],this.v5h=0|rN[11],this.v6l=0|rN[12],this.v6h=0|rN[13],this.v7l=0|rN[14],this.v7h=0|rN[15],function(e,t={},r,n,i){if(tj(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:s,salt:a,personalization:o}=t;if(void 0!==s&&(s.length<1||s.length>64))throw Error("key length must be undefined or 1..64");if(void 0!==a&&16!==a.length)throw Error("salt must be undefined or 16");if(void 0!==o&&16!==o.length)throw Error("personalization must be undefined or 16")}(t,e,0,0,0);let{key:r,personalization:n,salt:i}=e,s=0;if(void 0!==r&&(s=(r=t2(r)).length),this.v0l^=this.outputLen|s<<8|0x1010000,void 0!==i){const e=tF(i=t2(i));this.v4l^=tG(e[0]),this.v4h^=tG(e[1]),this.v5l^=tG(e[2]),this.v5h^=tG(e[3])}if(void 0!==n){const e=tF(n=t2(n));this.v6l^=tG(e[0]),this.v6h^=tG(e[1]),this.v7l^=tG(e[2]),this.v7h^=tG(e[3])}if(void 0!==r){const e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:a,v3h:o,v4l:l,v4h:c,v5l:u,v5h:d,v6l:h,v6h:f,v7l:p,v7h:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|a,this.v3h=0|o,this.v4l=0|l,this.v4h=0|c,this.v5l=0|u,this.v5h=0|d,this.v6l=0|h,this.v6h=0|f,this.v7l=0|p,this.v7h=0|y}compress(e,t,r){this.get().forEach((e,t)=>rB[t]=e),rB.set(rN,16);let{h:n,l:i}=tw(BigInt(this.length));rB[24]=rN[8]^i,rB[25]=rN[9]^n,r&&(rB[28]=~rB[28],rB[29]=~rB[29]);let s=0;for(let r=0;r<12;r++)rU(0,4,8,12,e,t+2*rD[s++]),rj(0,4,8,12,e,t+2*rD[s++]),rU(1,5,9,13,e,t+2*rD[s++]),rj(1,5,9,13,e,t+2*rD[s++]),rU(2,6,10,14,e,t+2*rD[s++]),rj(2,6,10,14,e,t+2*rD[s++]),rU(3,7,11,15,e,t+2*rD[s++]),rj(3,7,11,15,e,t+2*rD[s++]),rU(0,5,10,15,e,t+2*rD[s++]),rj(0,5,10,15,e,t+2*rD[s++]),rU(1,6,11,12,e,t+2*rD[s++]),rj(1,6,11,12,e,t+2*rD[s++]),rU(2,7,8,13,e,t+2*rD[s++]),rj(2,7,8,13,e,t+2*rD[s++]),rU(3,4,9,14,e,t+2*rD[s++]),rj(3,4,9,14,e,t+2*rD[s++]);this.v0l^=rB[0]^rB[16],this.v0h^=rB[1]^rB[17],this.v1l^=rB[2]^rB[18],this.v1h^=rB[3]^rB[19],this.v2l^=rB[4]^rB[20],this.v2h^=rB[5]^rB[21],this.v3l^=rB[6]^rB[22],this.v3h^=rB[7]^rB[23],this.v4l^=rB[8]^rB[24],this.v4h^=rB[9]^rB[25],this.v5l^=rB[10]^rB[26],this.v5h^=rB[11]^rB[27],this.v6l^=rB[12]^rB[28],this.v6h^=rB[13]^rB[29],this.v7l^=rB[14]^rB[30],this.v7h^=rB[15]^rB[31],tq(rB)}destroy(){this.destroyed=!0,tq(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let r$=(c=e=>new rL(e),(i=(e,t)=>c(t).update(t2(e)).digest()).outputLen=(s=c({})).outputLen,i.blockLen=s.blockLen,i.create=e=>c(e),i);function rz(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+ez.from(rh(r)).toString("hex")}async function rF(e,t,r,n,i,s){switch(r.t){case"eip191":var a,o;let l;return await (a=e,o=t,l=function(e){if(130!==e.length&&132!==e.length)throw new N({signature:e});let t=BigInt(S(e,0,32)),r=BigInt(S(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{var r=t;if(0===r||27===r)return 0;if(1===r||28===r)return 1;if(r>=35)return+(r%2==0);throw new U({value:r})}catch{throw new B({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}(r.s),(function(e,t={}){let r=H(`0x${(function(e,t={}){K(e);let{prefix:r,x:n,y:i}=e,{includePrefix:s=!0}=t;return function(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(s?I(r,{size:1}):"0x",I(n,{size:32}),"bigint"==typeof i?I(i,{size:32}):"0x")})(e).slice(4)}`).substring(26);return function(e,t={}){let{checksum:r=!1}=t;return(et(e),r)?er(e):e}(`0x${r}`,t)})(function(e){var t;let r,{payload:n,signature:i}=e,{r:s,s:a,yParity:o}=i;return t=new j.secp256k1.Signature(BigInt(s),BigInt(a)).addRecoveryBit(o).recoverPublicKey(x(n).substring(2)),K(r=(()=>{if(function(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new P(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new T(e)}(e,{strict:r}),!0}catch{return!1}}(t))return G(t);if(function(e){try{if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new $(e);return!0}catch{return!1}}(t))return G(E(t));let{prefix:e,x:r,y:n}=t;return"bigint"==typeof r&&"bigint"==typeof n?{prefix:e??4,x:r,y:n}:{prefix:e,x:r}})()),r}({payload:rz(o),signature:l})).toLowerCase()===a.toLowerCase());case"eip1271":return await rq(e,t,r.s,n,i,s);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function rq(e,t,r,n,i,s){let a=eF(n);if(!a.namespace||!a.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",o=r.substring(2),l=(o.length/2).toString(16).padStart(64,"0"),c=(t.startsWith("0x")?t:rz(t)).substring(2),u=a+c+"0000000000000000000000000000000000000000000000000000000000000040"+l+o,d=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:h}=await d.json();return!!h&&h.slice(0,a.length).toLowerCase()===a.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}function rW(e){let t=new Uint8Array(rP(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return ea.A.encode(t)}function rV(e){let t=ez.from(e,"base64"),r=(0,eo.D)(t).txn;if(!r)throw Error("Invalid signed transaction: missing 'txn' field");let n=(0,el.l)(r),i=ez.from("TX"),s=rR(ez.concat([i,ez.from(n)]));return ec.RG.encode(s).replace(/=+$/,"")}function rH(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),ez.from(t)}var rK=Object.defineProperty,rG=Object.defineProperties,rZ=Object.getOwnPropertyDescriptors,rJ=Object.getOwnPropertySymbols,rY=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,rQ=(e,t,r)=>t in e?rK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;let r0=e=>e?.split(":"),r1=e=>{let t=e&&r0(e);if(t)return t[2]+":"+t[3]},r2=e=>{let t=e&&r0(e);if(t)return t.pop()};async function r6(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=r5(i,i.iss),a=r2(i.iss);return await rF(a,s,n,r1(i.iss),r)}let r5=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,n=r2(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,s=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,o=`Chain ID: ${(e=>{let t=e&&r0(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,d=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,p=ne(e.resources);return p&&(i=function(e="",t){r8(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let s={};r.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});let a=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));n.push(a.join(", ").replace(".,","."))});let s=n.join(" "),a=`${r}${s}`;return`${e?e+" ":""}${a}`}(i,r4(p))),[r,n,"",i,"",s,a,o,l,c,u,d,h,f].filter(e=>null!=e).join(`
`)};function r8(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function r3(e){return r8(e),`urn:recap:${ez.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function r4(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(ez.from(t,"base64").toString("utf-8")));return r8(r),r}function r9(e){var t;let r=r4(e);r8(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function r7(e){let t=r4(e);r8(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function ne(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function nt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function nr(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function nn(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function ni(e,...t){if(!nt(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function ns(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function na(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function no(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let nl=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function nc(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(nt(e))e=nh(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function nu(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function nd(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=4*!!n,c=4*!n;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)}function nh(e){return Uint8Array.from(e)}let nf=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),np=nf("expand 16-byte k"),ny=nf("expand 32-byte k"),ng=na(np),nm=na(ny);function nb(e,t){return e<<t|e>>>32-t}function nv(e){return e.byteOffset%4==0}let nw=0x100000000-1,n_=new Uint32Array,nx=(e,t)=>255&e[t++]|(255&e[t++])<<8;class nE{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ni(e=nc(e),32);const t=nx(e,0),r=nx(e,2),n=nx(e,4),i=nx(e,6),s=nx(e,8),a=nx(e,10),o=nx(e,12),l=nx(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|o<<5)&8065,this.r[8]=(o>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=nx(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],y=nx(e,t+0),g=nx(e,t+2),m=nx(e,t+4),b=nx(e,t+6),v=nx(e,t+8),w=nx(e,t+10),_=nx(e,t+12),x=nx(e,t+14),E=n[0]+(8191&y),I=n[1]+((y>>>13|g<<3)&8191),A=n[2]+((g>>>10|m<<6)&8191),S=n[3]+((m>>>7|b<<9)&8191),k=n[4]+((b>>>4|v<<12)&8191),C=n[5]+(v>>>1&8191),P=n[6]+((v>>>14|w<<2)&8191),T=n[7]+((w>>>11|_<<5)&8191),O=n[8]+((_>>>8|x<<8)&8191),R=n[9]+(x>>>5|2048*!r),D=0,N=0+E*s+5*p*I+5*f*A+5*h*S+5*d*k;D=N>>>13,N&=8191,N+=5*u*C+5*c*P+5*l*T+5*o*O+5*a*R,D+=N>>>13,N&=8191;let B=D+E*a+I*s+5*p*A+5*f*S+5*h*k;D=B>>>13,B&=8191,B+=5*d*C+5*u*P+5*c*T+5*l*O+5*o*R,D+=B>>>13,B&=8191;let U=D+E*o+I*a+A*s+5*p*S+5*f*k;D=U>>>13,U&=8191,U+=5*h*C+5*d*P+5*u*T+5*c*O+5*l*R,D+=U>>>13,U&=8191;let j=D+E*l+I*o+A*a+S*s+5*p*k;D=j>>>13,j&=8191,j+=5*f*C+5*h*P+5*d*T+5*u*O+5*c*R,D+=j>>>13,j&=8191;let M=D+E*c+I*l+A*o+S*a+k*s;D=M>>>13,M&=8191,M+=5*p*C+5*f*P+5*h*T+5*d*O+5*u*R,D+=M>>>13,M&=8191;let L=D+E*u+I*c+A*l+S*o+k*a;D=L>>>13,L&=8191,L+=C*s+5*p*P+5*f*T+5*h*O+5*d*R,D+=L>>>13,L&=8191;let $=D+E*d+I*u+A*c+S*l+k*o;D=$>>>13,$&=8191,$+=C*a+P*s+5*p*T+5*f*O+5*h*R,D+=$>>>13,$&=8191;let z=D+E*h+I*d+A*u+S*c+k*l;D=z>>>13,z&=8191,z+=C*o+P*a+T*s+5*p*O+5*f*R,D+=z>>>13,z&=8191;let F=D+E*f+I*h+A*d+S*u+k*c;D=F>>>13,F&=8191,F+=C*l+P*o+T*a+O*s+5*p*R,D+=F>>>13,F&=8191;let q=D+E*p+I*f+A*h+S*d+k*u;D=q>>>13,q&=8191,q+=C*c+P*l+T*o+O*a+R*s,D+=q>>>13,q&=8191,N=8191&(D=(D=(D<<2)+D|0)+N|0),D>>>=13,B+=D,n[0]=N,n[1]=B,n[2]=U,n[3]=j,n[4]=M,n[5]=L,n[6]=$,n[7]=z,n[8]=F,n[9]=q}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+t[0];e[0]=65535&s;for(let r=1;r<8;r++)s=(e[r]+t[r]|0)+(s>>>16)|0,e[r]=65535&s;no(r)}update(e){ns(this),ni(e=nc(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(r-this.pos,n-i);if(s===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){no(this.h,this.r,this.buffer,this.pad)}digestInto(e){ns(this),function(e,t){ni(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let nI=(u=e=>new nE(e),(a=(e,t)=>u(t).update(nc(e)).digest()).outputLen=(o=u(new Uint8Array(32))).outputLen,a.blockLen=o.blockLen,a.create=e=>u(e),a),nA=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:a}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return nn(i),nn(a),nr(s),nr(r),(t,o,l,c,u=0)=>{ni(t),ni(o),ni(l);let d=l.length;if(void 0===c&&(c=new Uint8Array(d)),ni(c),nn(u),u<0||u>=nw)throw Error("arx: counter overflow");if(c.length<d)throw Error(`arx: output (${c.length}) is shorter than data (${d})`);let h=[],f=t.length,p,y;if(32===f)h.push(p=nh(t)),y=nm;else if(16===f&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),y=ng,h.push(p);else throw Error(`arx: invalid 32-byte key, got length=${f}`);nv(o)||h.push(o=nh(o));let g=na(p);if(n){if(24!==o.length)throw Error("arx: extended nonce must be 24 bytes");n(y,g,na(o.subarray(0,16)),g),o=o.subarray(16)}let m=16-i;if(m!==o.length)throw Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){let e=new Uint8Array(12);e.set(o,s?0:12-o.length),o=e,h.push(o)}return function(e,t,r,n,i,s,a,o){let l=i.length,c=new Uint8Array(64),u=na(c),d=nv(i)&&nv(s),h=d?na(i):n_,f=d?na(s):n_;for(let p=0;p<l;a++){if(e(t,r,n,u,a,o),a>=nw)throw Error("arx: counter overflow");let y=Math.min(64,l-p);if(d&&64===y){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=h[r]^u[t];p+=64;continue}for(let e=0,t;e<y;e++)s[t=p+e]=i[t]^c[e];p+=y}}(e,y,g,na(o),l,c,u,a),no(...h),c}}(function(e,t,r,n,i,s=20){let a=e[0],o=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],y=t[5],g=t[6],m=t[7],b=r[0],v=r[1],w=r[2],_=a,x=o,E=l,I=c,A=u,S=d,k=h,C=f,P=p,T=y,O=g,R=m,D=i,N=b,B=v,U=w;for(let e=0;e<s;e+=2)P=P+(D=nb(D^(_=_+A|0),16))|0,_=_+(A=nb(A^P,12))|0,P=P+(D=nb(D^_,8))|0,A=nb(A^P,7),T=T+(N=nb(N^(x=x+S|0),16))|0,x=x+(S=nb(S^T,12))|0,T=T+(N=nb(N^x,8))|0,S=nb(S^T,7),O=O+(B=nb(B^(E=E+k|0),16))|0,E=E+(k=nb(k^O,12))|0,O=O+(B=nb(B^E,8))|0,k=nb(k^O,7),R=R+(U=nb(U^(I=I+C|0),16))|0,I=I+(C=nb(C^R,12))|0,R=R+(U=nb(U^I,8))|0,C=nb(C^R,7),O=O+(U=nb(U^(_=_+S|0),16))|0,_=_+(S=nb(S^O,12))|0,O=O+(U=nb(U^_,8))|0,S=nb(S^O,7),R=R+(D=nb(D^(x=x+k|0),16))|0,x=x+(k=nb(k^R,12))|0,R=R+(D=nb(D^x,8))|0,k=nb(k^R,7),P=P+(N=nb(N^(E=E+C|0),16))|0,E=E+(C=nb(C^P,12))|0,P=P+(N=nb(N^E,8))|0,C=nb(C^P,7),T=T+(B=nb(B^(I=I+A|0),16))|0,I=I+(A=nb(A^T,12))|0,T=T+(B=nb(B^I,8))|0,A=nb(A^T,7);let j=0;n[j++]=a+_|0,n[j++]=o+x|0,n[j++]=l+E|0,n[j++]=c+I|0,n[j++]=u+A|0,n[j++]=d+S|0,n[j++]=h+k|0,n[j++]=f+C|0,n[j++]=p+P|0,n[j++]=y+T|0,n[j++]=g+O|0,n[j++]=m+R|0,n[j++]=i+D|0,n[j++]=b+N|0,n[j++]=v+B|0,n[j++]=w+U|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),nS=new Uint8Array(16),nk=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(nS.subarray(r))},nC=new Uint8Array(32);function nP(e,t,r,n,i){var s,a;let o,l,c=e(t,r,nC),u=nI.create(c);i&&nk(u,i),nk(u,n);let d=(s=n.length,a=i?i.length:0,nr(!0),nd(l=new DataView((o=new Uint8Array(16)).buffer,o.byteOffset,o.byteLength),0,BigInt(a),!0),nd(l,8,BigInt(s),!0),o);u.update(d);let h=u.digest();return no(c,d),h}let nT=((e,t)=>{function r(n,...i){if(ni(n),!nl)throw Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?ni(t):ni(t,e.nonceLength)}let s=e.tagLength;s&&void 0!==i[1]&&ni(i[1]);let a=t(n,...i),o=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");ni(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,ni(e),o(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(ni(e),s&&e.length<s)throw Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e,t,r)=>({encrypt(n,i){let s=n.length;(i=nu(s+16,i,!1)).set(n);let a=i.subarray(0,-16);nA(e,t,a,a,1);let o=nP(nA,e,t,a,r);return i.set(o,s),no(o),i},decrypt(n,i){i=nu(n.length-16,i,!1);let s=n.subarray(0,-16),a=n.subarray(-16),o=nP(nA,e,t,s,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(a,o))throw Error("invalid tag");return i.set(n.subarray(0,-16)),nA(e,t,i,i,1),no(o),i}}));class nO extends t5{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tL(e);const r=t2(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),tq(i)}update(e){return t$(this),this.iHash.update(e),this}digestInto(e){t$(this),tM(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let nR=(e,t,r)=>new nO(e,t).update(r).digest();nR.create=(e,t)=>new nO(e,t);let nD=Uint8Array.from([0]),nN=Uint8Array.of(),nB=BigInt(0),nU=BigInt(1);function nj(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function nM(e,t,r=""){let n=tU(e),i=e?.length,s=void 0!==t;if(!n||s&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function nL(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function n$(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?nB:BigInt("0x"+e)}function nz(e){return tM(e),n$(tX(Uint8Array.from(e).reverse()))}function nF(e,t){return t0(e.toString(16).padStart(2*t,"0"))}function nq(e,t){return nF(e,t).reverse()}function nW(e,t,r){let n;if("string"==typeof t)try{n=t0(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(tU(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let nV=e=>"bigint"==typeof e&&nB<=e;function nH(e,t,r,n){if(!(nV(t)&&nV(r)&&nV(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function nK(e){let t;for(t=0;e>nB;e>>=nU,t+=1);return t}let nG=e=>(nU<<BigInt(e))-nU;function nZ(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let s=typeof i;if(s!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function nJ(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let nY=BigInt(0),nX=BigInt(1),nQ=BigInt(2),n0=BigInt(3),n1=BigInt(4),n2=BigInt(5),n6=BigInt(7),n5=BigInt(8),n8=BigInt(9),n3=BigInt(16);function n4(e,t){let r=e%t;return r>=nY?r:t+r}function n9(e,t,r){let n=e;for(;t-- >nY;)n*=n,n%=r;return n}function n7(e,t){if(e===nY)throw Error("invert: expected non-zero number");if(t<=nY)throw Error("invert: expected positive modulus, got "+t);let r=n4(e,t),n=t,i=nY,s=nX;for(;r!==nY;){let e=n/r,t=n%r,a=i-s*e;n=r,r=t,i=s,s=a}if(n!==nX)throw Error("invert: does not exist");return n4(i,t)}function ie(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function it(e,t){let r=(e.ORDER+nX)/n1,n=e.pow(t,r);return ie(e,n,t),n}function ir(e,t){let r=(e.ORDER-n2)/n5,n=e.mul(t,nQ),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,nQ),i),o=e.mul(s,e.sub(a,e.ONE));return ie(e,o,t),o}function ii(e){if(e<n0)throw Error("sqrt is not defined for small field");let t=e-nX,r=0;for(;t%nQ===nY;)t/=nQ,r++;let n=nQ,i=ic(e);for(;1===io(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return it;let s=i.pow(n,t),a=(t+nX)/nQ;return function(e,n){if(e.is0(n))return n;if(1!==io(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,s),l=e.pow(n,t),c=e.pow(n,a);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=nX<<BigInt(i-t-1),s=e.pow(o,n);i=t,o=e.sqr(s),l=e.mul(l,o),c=e.mul(c,s)}return c}}let is=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ia(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function io(e,t){let r=(e.ORDER-nX)/nQ,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!a)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function il(e,t){void 0!==t&&tj(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ic(e,t,r=!1,n={}){let i;if(e<=nY)throw Error("invalid field: expected ORDER > 0, got "+e);let s,a,o=!1,l;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(s=t.BITS),t.sqrt&&(a=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(o=t.modFromBytes),l=t.allowedLengths}else"number"==typeof t&&(s=t),n.sqrt&&(a=n.sqrt);let{nBitLength:c,nByteLength:u}=il(e,s);if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let d=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:u,MASK:nG(c),ZERO:nY,ONE:nX,allowedLengths:l,create:t=>n4(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return nY<=t&&t<e},is0:e=>e===nY,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&nX)===nX,neg:t=>n4(-t,e),eql:(e,t)=>e===t,sqr:t=>n4(t*t,e),add:(t,r)=>n4(t+r,e),sub:(t,r)=>n4(t-r,e),mul:(t,r)=>n4(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<nY)throw Error("invalid exponent, negatives unsupported");if(r===nY)return e.ONE;if(r===nX)return t;let n=e.ONE,i=t;for(;r>nY;)r&nX&&(n=e.mul(n,i)),i=e.sqr(i),r>>=nX;return n})(d,e,t),div:(t,r)=>n4(t*n7(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>n7(t,e),sqrt:a||(t=>{let r,n,s,a,o,l;return i||(i=e%n1===n0?it:e%n5===n2?ir:e%n3===n8?(r=ic(e),s=(n=ii(e))(r,r.neg(r.ONE)),a=n(r,s),o=n(r,r.neg(s)),l=(e+n6)/n3,(e,t)=>{let r=e.pow(t,l),n=e.mul(r,s),i=e.mul(r,a),c=e.mul(r,o),u=e.eql(e.sqr(n),t),d=e.eql(e.sqr(i),t);r=e.cmov(r,n,u),n=e.cmov(c,i,d);let h=e.eql(e.sqr(n),t),f=e.cmov(r,n,h);return ie(e,f,t),f}):ii(e)),i(d,t)}),toBytes:e=>r?nq(e,u):nF(e,u),fromBytes:(t,n=!0)=>{if(l){if(!l.includes(t.length)||t.length>u)throw Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let e=new Uint8Array(u);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+t.length);let i=r?nz(t):n$(tX(t));if(o&&(i=n4(i,e)),!n&&!d.isValid(i))throw Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>ia(d,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(d)}function iu(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function id(e){let t=iu(e);return t+Math.ceil(t/2)}let ih=BigInt(0),ip=BigInt(1);function iy(e,t){let r=t.negate();return e?r:t}function ig(e,t){let r=ia(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function im(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ib(e,t){im(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:nG(e),maxNumber:i,shiftBy:BigInt(e)}}function iv(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,o=Number(e&i),l=e>>a;o>n&&(o-=s,l+=ip);let c=t*n;return{nextN:l,offset:c+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}let iw=new WeakMap,i_=new WeakMap;function ix(e){return i_.get(e)||1}function iE(e){if(e!==ih)throw Error("invalid wNAF")}class iI{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>ih;)t&ip&&(r=r.add(n)),n=n.double(),t>>=ip;return r}precomputeWindow(e,t){let{windows:r,windowSize:n}=ib(t,this.bits),i=[],s=e,a=s;for(let e=0;e<r;e++){a=s,i.push(a);for(let e=1;e<n;e++)a=a.add(s),i.push(a);s=a.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let n=this.ZERO,i=this.BASE,s=ib(e,this.bits);for(let e=0;e<s.windows;e++){let{nextN:a,offset:o,isZero:l,isNeg:c,isNegF:u,offsetF:d}=iv(r,e,s);r=a,l?i=i.add(iy(u,t[d])):n=n.add(iy(c,t[o]))}return iE(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){let i=ib(e,this.bits);for(let e=0;e<i.windows&&r!==ih;e++){let{nextN:s,offset:a,isZero:o,isNeg:l}=iv(r,e,i);if(r=s,!o){let e=t[a];n=n.add(l?e.negate():e)}}return iE(r),n}getPrecomputes(e,t,r){let n=iw.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),iw.set(t,n))),n}cached(e,t,r){let n=ix(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){let i=ix(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){im(t,this.bits),i_.set(e,t),iw.delete(e)}hasCache(e){return 1!==ix(e)}}function iA(e,t,r){if(!t)return ic(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return nZ(t,is.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8),t1("HashToScalar-");let iS=BigInt(0),ik=BigInt(1),iC=BigInt(2),iP=BigInt(1),iT=BigInt(2),iO=BigInt(3),iR=BigInt(5),iD=BigInt(8),iN=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),iB={p:iN,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:iD,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},iU=function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:s}=(nZ(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),a="x25519"===r;if(!a&&"x448"!==r)throw Error("invalid type");let o=s||t3,l=a?255:448,c=a?32:56,u=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?iC**BigInt(254):iC**BigInt(447),f=h+(a?BigInt(8)*iC**BigInt(251)-ik:BigInt(4)*iC**BigInt(445)-ik)+ik,p=e=>n4(e,t),y=nq(p(u),c);function g(e,r){let s,o=function(e,r){nH("u",e,iS,t),nH("scalar",r,h,f);let n=ik,s=iS,a=e,o=ik,c=iS;for(let t=BigInt(l-1);t>=iS;t--){let i=r>>t&ik;c^=i,({x_2:n,x_3:a}=b(c,n,a)),({x_2:s,x_3:o}=b(c,s,o)),c=i;let l=n+s,u=p(l*l),h=n-s,f=p(h*h),y=u-f,g=a+o,m=p((a-o)*l),v=p(g*h),w=m+v,_=m-v;a=p(w*w),o=p(e*p(_*_)),n=p(u*f),s=p(y*(u+p(d*y)))}return{x_2:n,x_3:a}=b(c,n,a),{x_2:s,x_3:o}=b(c,s,o),p(n*i(s))}((s=nW("u coordinate",r,c),a&&(s[31]&=127),p(nz(s))),nz(n(nW("scalar",e,c))));if(o===iS)throw Error("invalid private or public key received");return nq(p(o),c)}function m(e){return g(e,y)}function b(e,t,r){let n=p(e*(t-r));return{x_2:t=p(t-n),x_3:r=p(r+n)}}let v={secretKey:c,publicKey:c,seed:c},w=(e=o(c))=>(tM(e,v.seed),e);return{keygen:function(e){let t=w(e);return{secretKey:t,publicKey:m(t)}},getSharedSecret:(e,t)=>g(e,t),getPublicKey:e=>m(e),scalarMult:g,scalarMultBase:m,utils:{randomSecretKey:w,randomPrivateKey:w},GuBytes:y.slice(),lengths:v}}({P:l=ic(iB.p,{isLE:!0}).ORDER,type:"x25519",powPminus2:e=>{let t,r,n,i,s,a,o,c,u,d,h,f,p,y,{pow_p_5_8:g,b2:m}=(t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),a=n9(s=e*e%iN*e%iN,iT,iN)*s%iN,o=n9(a,iP,iN)*e%iN,c=n9(o,iR,iN)*o%iN,u=n9(c,t,iN)*c%iN,d=n9(u,r,iN)*u%iN,h=n9(d,n,iN)*d%iN,f=n9(h,i,iN)*h%iN,p=n9(f,i,iN)*h%iN,y=n9(p,t,iN)*c%iN,{pow_p_5_8:n9(y,iT,iN)*e%iN,b2:s});return n4(n9(g,iO,l)*m,l)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}}),ij=(e,t)=>(e+(e>=0?t:-t)/iW)/t;function iM(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function iL(e,t){let r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return nj(r.lowS,"lowS"),nj(r.prehash,"prehash"),void 0!==r.format&&iM(r.format),r}class i$ extends Error{constructor(e=""){super(e)}}let iz={Err:i$,_tlv:{encode:(e,t)=>{let{Err:r}=iz;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=nL(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?nL(i.length/2|128):"";return nL(e)+s+i+t},decode(e,t){let{Err:r}=iz,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=iz;if(e<iF)throw new t("integer: negative integers are not allowed");let r=nL(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=iz;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return n$(tX(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=iz,i=nW("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=iz,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},iF=BigInt(0),iq=BigInt(1),iW=BigInt(2),iV=BigInt(3),iH=BigInt(4);function iK(e,t){let r,{BYTES:n}=e;if("bigint"==typeof t)r=t;else{let i=nW("private key",t);try{r=e.fromBytes(i)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function iG(e){return Uint8Array.of(e?2:3)}function iZ(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function iJ(e,t){let r=t=>(function(e){let t,{CURVE:r,curveOpts:n,hash:i,ecdsaOpts:s}=function(e){let t,r,n,i,{CURVE:s,curveOpts:a}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,i={Fp:r,Fn:ic(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:i}),o={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:s,curveOpts:a,hash:e.hash,ecdsaOpts:o}}(e),a=function(e,t,r={}){tL(t),nZ(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||t3,i=r.hmac||((e,...r)=>nR(t,e,t6(...r))),{Fp:s,Fn:a}=e,{ORDER:o,BITS:l}=a,{keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=function(e,t={}){let{Fn:r}=e,n=t.randomBytes||t3,i=Object.assign(iZ(e.Fp,r),{seed:id(r.ORDER)});function s(e){try{return!!iK(r,e)}catch{return!1}}function a(e=n(i.seed)){return function(e,t,r=!1){let n=e.length,i=iu(t),s=id(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let a=n4(r?nz(e):n$(tX(e)),t-nX)+nX;return r?nq(a,i):nF(a,i)}(nM(e,i.seed,"seed"),r.ORDER)}function o(t,n=!0){return e.BASE.multiply(iK(r,t)).toBytes(n)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:n,publicKey:s,publicKeyUncompressed:a}=i;if(r.allowedLengths||n===s)return;let o=nW("key",t).length;return o===s||o===a}return Object.freeze({getPublicKey:o,getSharedSecret:function(t,n,i=!0){if(!0===l(t))throw Error("first arg must be private key");if(!1===l(n))throw Error("second arg must be public key");let s=iK(r,t);return e.fromHex(n).multiply(s).toBytes(i)},keygen:function(e){let t=a(e);return{secretKey:t,publicKey:o(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,r){let{publicKey:n,publicKeyUncompressed:s}=i;try{let i=t.length;return(!0!==r||i===n)&&(!1!==r||i===s)&&!!e.fromBytes(t)}catch{return!1}},randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:e=>iK(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}(e,r),p={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},y="compact";function g(e,t){if(!a.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class m{constructor(e,t,r){this.r=g("r",e),this.s=g("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=y){var r,n;let i,s;if(r=e,iM(n=t),s=f.signature,nM(r,"compact"===n?s:"recovered"===n?s+1:void 0,`${n} signature`),"der"===t){let{r:t,s:r}=iz.toSig(nM(e));return new m(t,r)}"recovered"===t&&(i=e[0],t="compact",e=e.subarray(1));let o=a.BYTES,l=e.subarray(0,o),c=e.subarray(o,2*o);return new m(a.fromBytes(l),a.fromBytes(c),i)}static fromHex(e,t){return this.fromBytes(t0(e),t)}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(t){let r=s.ORDER,{r:n,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");if(o*iW<r&&l>1)throw Error("recovery id is ambiguous for h>1 curve");let c=2===l||3===l?n+o:n;if(!s.isValid(c))throw Error("recovery id 2 or 3 invalid");let u=s.toBytes(c),d=e.fromBytes(t6(iG((1&l)==0),u)),h=a.inv(c),f=v(nW("msgHash",t)),p=a.create(-f*h),y=a.create(i*h),g=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(y));if(g.is0())throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>o>>iq}toBytes(e=y){if(iM(e),"der"===e)return t0(iz.hexFromSig(this));let t=a.toBytes(this.r),r=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return t6(Uint8Array.of(this.recovery),t,r)}return t6(t,r)}toHex(e){return tX(this.toBytes(e))}assertValidity(){}static fromCompact(e){return m.fromBytes(nW("sig",e),"compact")}static fromDER(e){return m.fromBytes(nW("sig",e),"der")}normalizeS(){return this.hasHighS()?new m(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return tX(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return tX(this.toBytes("compact"))}}let b=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=n$(tX(e)),r=8*e.length-l;return r>0?t>>BigInt(r):t},v=r.bits2int_modN||function(e){return a.create(b(e))},w=nG(l);function _(e){return nH("num < 2^"+l,e,iF,w),a.toBytes(e)}function x(e,r){return nM(e,void 0,"message"),r?nM(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:e,sign:function(r,s,l={}){let{seed:c,k2sig:u}=function(t,r,i){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{lowS:s,prehash:l,extraEntropy:c}=iL(i,p),u=v(t=x(t,l)),d=iK(a,r),h=[_(d),_(u)];if(null!=c&&!1!==c){let e=!0===c?n(f.secretKey):c;h.push(nW("extraEntropy",e))}return{seed:t6(...h),k2sig:function(t){let r=b(t);if(!a.isValidNot0(r))return;let n=a.inv(r),i=e.BASE.multiply(r).toAffine(),l=a.create(i.x);if(l===iF)return;let c=a.create(n*a.create(u+l*d));if(c===iF)return;let h=2*(i.x!==l)|Number(i.y&iq),f=c;return s&&c>o>>iq&&(f=a.neg(c),h^=1),new m(l,f,h)}}}(r=nW("message",r),s,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=n(e),s=n(e),a=0,o=()=>{i.fill(1),s.fill(0),a=0},l=(...e)=>r(s,i,...e),c=(e=n(0))=>{s=l(Uint8Array.of(0),e),i=l(),0!==e.length&&(s=l(Uint8Array.of(1),e),i=l())},u=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=l()).slice();r.push(t),e+=i.length}return t6(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(u()));)c();return o(),r}})(t.outputLen,a.BYTES,i)(c,u)},verify:function(t,r,n,i={}){let{lowS:s,prehash:o,format:l}=iL(i,p);if(n=nW("publicKey",n),r=x(nW("message",r),o),"strict"in i)throw Error("options.strict was renamed to lowS");let c=void 0===l?function(e){let t,r="string"==typeof e||tU(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new m(e.r,e.s);else if(r){try{t=m.fromBytes(nW("sig",e),"der")}catch(e){if(!(e instanceof iz.Err))throw e}if(!t)try{t=m.fromBytes(nW("sig",e),"compact")}catch{return!1}}return t||!1}(t):m.fromBytes(nW("sig",t),l);if(!1===c)return!1;try{let t=e.fromBytes(n);if(s&&c.hasHighS())return!1;let{r:i,s:o}=c,l=v(r),u=a.inv(o),d=a.create(l*u),h=a.create(i*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));return!f.is0()&&a.create(f.x)===i}catch{return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:n}=iL(r,p);return t=x(t,n),m.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:m,hash:t})}(function(e,t={}){let r=function(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>ih))throw Error(`CURVE.${e} must be positive bigint`)}let i=iA(t.p,r.Fp,n),s=iA(t.n,r.Fn,n);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!i.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:n,Fn:i}=r,s=r.CURVE,{h:a,n:o}=s;nZ(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=t;if(l&&(!n.is0(s.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let c=iZ(n,i);function u(){if(!n.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=t.toBytes||function(e,t,r){let{x:i,y:s}=t.toAffine(),a=n.toBytes(i);return(nj(r,"isCompressed"),r)?(u(),t6(iG(!n.isOdd(s)),a)):t6(Uint8Array.of(4),a,n.toBytes(s))},h=t.fromBytes||function(e){nM(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=c,i=e.length,s=e[0],a=e.subarray(1);if(i===t&&(2===s||3===s)){let e,t=n.fromBytes(a);if(!n.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=f(t);try{e=n.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&s)==1!==n.isOdd(e)&&(e=n.neg(e)),{x:t,y:e}}if(i===r&&4===s){let e=n.BYTES,t=n.fromBytes(a.subarray(0,e)),r=n.fromBytes(a.subarray(e,2*e));if(!p(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)};function f(e){let t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,s.a)),s.b)}function p(e,t){let r=n.sqr(t),i=f(e);return n.eql(r,i)}if(!p(s.Gx,s.Gy))throw Error("bad curve params: generator point");let y=n.mul(n.pow(s.a,iV),iH),g=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(y,g)))throw Error("bad curve params: a or b");function m(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}function v(e){if(!l||!l.basises)throw Error("no endo");return function(e,t,r){let[[n,i],[s,a]]=t,o=ij(a*e,r),l=ij(-i*e,r),c=e-o*n-l*s,u=-o*i-l*a,d=c<iF,h=u<iF;d&&(c=-c),h&&(u=-u);let f=nG(Math.ceil(nK(r)/2))+iq;if(c<iF||c>=f||u<iF||u>=f)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}(e,l.basises,i.ORDER)}let w=nJ((e,t)=>{let{X:r,Y:i,Z:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),_=nJ(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw Error("bad point: x or y not field elements");if(!p(r,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function x(e,t,r,i,s){return r=new E(n.mul(r.X,e),r.Y,r.Z),t=iy(i,t),r=iy(s,r),t.add(r)}class E{constructor(e,t,r){this.X=m("x",e),this.Y=m("y",t,!0),this.Z=m("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");return n.is0(t)&&n.is0(r)?E.ZERO:new E(t,r,n.ONE)}static fromBytes(e){let t=E.fromAffine(h(nM(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return E.fromBytes(nW("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return A.createCache(this,e),t||this.multiply(iV),this}assertValidity(){_(this)}hasEvenY(){let{y:e}=this.toAffine();if(!n.isOdd)throw Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){b(e);let{X:t,Y:r,Z:i}=this,{X:s,Y:a,Z:o}=e,l=n.eql(n.mul(t,o),n.mul(s,i)),c=n.eql(n.mul(r,o),n.mul(a,i));return l&&c}negate(){return new E(this.X,n.neg(this.Y),this.Z)}double(){let{a:e,b:t}=s,r=n.mul(t,iV),{X:i,Y:a,Z:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(i,i),h=n.mul(a,a),f=n.mul(o,o),p=n.mul(i,a);return p=n.add(p,p),u=n.mul(i,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(r,f),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(r,u),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,p),c=n.add(c,d),f=n.mul(a,o),f=n.add(f,f),d=n.mul(f,p),l=n.sub(l,d),u=n.mul(f,h),u=n.add(u,u),new E(l,c,u=n.add(u,u))}add(e){b(e);let{X:t,Y:r,Z:i}=this,{X:a,Y:o,Z:l}=e,c=n.ZERO,u=n.ZERO,d=n.ZERO,h=s.a,f=n.mul(s.b,iV),p=n.mul(t,a),y=n.mul(r,o),g=n.mul(i,l),m=n.add(t,r),v=n.add(a,o);m=n.mul(m,v),v=n.add(p,y),m=n.sub(m,v),v=n.add(t,i);let w=n.add(a,l);return v=n.mul(v,w),w=n.add(p,g),v=n.sub(v,w),w=n.add(r,i),c=n.add(o,l),w=n.mul(w,c),c=n.add(y,g),w=n.sub(w,c),d=n.mul(h,v),c=n.mul(f,g),d=n.add(c,d),c=n.sub(y,d),d=n.add(y,d),u=n.mul(c,d),y=n.add(p,p),y=n.add(y,p),g=n.mul(h,g),v=n.mul(f,v),y=n.add(y,g),g=n.sub(p,g),g=n.mul(h,g),v=n.add(v,g),p=n.mul(y,v),u=n.add(u,p),p=n.mul(w,v),c=n.mul(m,c),c=n.sub(c,p),p=n.mul(m,y),d=n.mul(w,d),new E(c,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}multiply(e){let r,n,{endo:s}=t;if(!i.isValidNot0(e))throw Error("invalid scalar: out of range");let a=e=>A.cached(this,e,e=>ig(E,e));if(s){let{k1neg:t,k1:i,k2neg:o,k2:l}=v(e),{p:c,f:u}=a(i),{p:d,f:h}=a(l);n=u.add(h),r=x(s.beta,c,d,t,o)}else{let{p:t,f:i}=a(e);r=t,n=i}return ig(E,[r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!i.isValid(e))throw Error("invalid scalar: out of range");if(e===iF||this.is0())return E.ZERO;if(e===iq)return this;if(A.hasCache(this))return this.multiply(e);if(!r)return A.unsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:s}=v(e),{p1:a,p2:o}=function(e,t,r,n){let i=t,s=e.ZERO,a=e.ZERO;for(;r>ih||n>ih;)r&ip&&(s=s.add(i)),n&ip&&(a=a.add(i)),i=i.double(),r>>=ip,n>>=ip;return{p1:s,p2:a}}(E,this,n,s);return x(r.beta,a,o,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return w(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===iq||(e?e(E,this):A.unsafe(this,o).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===iq?this:e?e(E,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(e=!0){return nj(e,"isCompressed"),this.assertValidity(),d(E,this,e)}toHex(e=!0){return tX(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return ig(E,e)}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,o=nK(BigInt(i)),l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);let c=nG(l),u=Array(Number(c)+1).fill(a),d=Math.floor((t.BITS-1)/l)*l,h=a;for(let e=d;e>=0;e-=l){u.fill(a);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&c);u[i]=u[i].add(r[t])}let t=a;for(let e=u.length-1,r=a;e>0;e--)r=r.add(u[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<l;e++)h=h.double()}return h}(E,i,e,t)}static fromPrivateKey(e){return E.BASE.multiply(iK(i,e))}}E.BASE=new E(s.Gx,s.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=i;let I=i.BITS,A=new iI(E,t.endo?Math.ceil(I/2):I);return E.BASE.precompute(8),E}(r,n),i,s);return t=a.Point,Object.assign({},a,{ProjectivePoint:t,CURVE:Object.assign({},e,il(t.Fn.ORDER,t.Fn.BITS))})})({...e,hash:t});return{...r(t),create:r}}let iY={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},iX={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},iQ={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},i0=ic(iY.p),i1=ic(iX.p),i2=ic(iQ.p),i6=iJ({...iY,Fp:i0,lowS:!1},rP);iJ({...iX,Fp:i1,lowS:!1},rO),iJ({...iQ,Fp:i2,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},rT);let i5="base10",i8="base16",i3="base64pad",i4="base64url",i9="utf8";function i7(){let e=t3(32);return(0,ed.dI)(e,i8)}function se(e){let t=rP((0,ed.sH)(e,i8));return(0,ed.dI)(t,i8)}function st(e){let t=rP((0,ed.sH)(e,i9));return(0,ed.dI)(t,i8)}function sr(e){return(0,ed.sH)(`${e}`,i5)}function sn(e){return Number((0,ed.dI)(e,i5))}function si(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ss(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function sa(e){if(2===sn(e.type))return(0,ed.dI)((0,ed.xW)([e.type,e.sealed]),i3);if(1===sn(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,ed.dI)((0,ed.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),i3)}return(0,ed.dI)((0,ed.xW)([e.type,e.iv,e.sealed]),i3)}function so(e){let t=(e.encoding||i3)===i4?ss(e.encoded):e.encoded,r=(0,ed.sH)(t,i3),n=r.slice(0,1);if(1===sn(n)){let e=r.slice(1,33),t=r.slice(33,45);return{type:n,sealed:r.slice(45),iv:t,senderPublicKey:e}}if(2===sn(n))return{type:n,sealed:r.slice(1),iv:t3(12)};let i=r.slice(1,13);return{type:n,sealed:r.slice(13),iv:i}}function sl(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function sc(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function su(e){return e?.relay||{protocol:"irn"}}function sd(e){let t=eh.CG[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var sh=Object.defineProperty,sf=Object.defineProperties,sp=Object.getOwnPropertyDescriptors,sy=Object.getOwnPropertySymbols,sg=Object.prototype.hasOwnProperty,sm=Object.prototype.propertyIsEnumerable,sb=(e,t,r)=>t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sv=(e,t)=>{for(var r in t||(t={}))sg.call(t,r)&&sb(e,r,t[r]);if(sy)for(var r of sy(t))sm.call(t,r)&&sb(e,r,t[r]);return e};function sw(e){var t;if(!e.includes("wc:")){let t=tg(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),s=e.substring(r+1,n).split("@"),a=Object.fromEntries(new URLSearchParams("u">typeof n?e.substring(n):"").entries()),o="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),s=e[t];r[i]=s}}),r}(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function s_(e){let t=new URLSearchParams;return Object.entries(sv(sv(sf(sv({},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay)),sp({symKey:e.symKey})),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")})).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,r])=>{void 0!==r&&t.append(e,String(r))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function sx(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var sE=Object.defineProperty,sI=Object.defineProperties,sA=Object.getOwnPropertyDescriptors,sS=Object.getOwnPropertySymbols,sk=Object.prototype.hasOwnProperty,sC=Object.prototype.propertyIsEnumerable,sP=(e,t,r)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sT=(e,t)=>{for(var r in t||(t={}))sk.call(t,r)&&sP(e,r,t[r]);if(sS)for(var r of sS(t))sC.call(t,r)&&sP(e,r,t[r]);return e},sO=(e,t)=>sI(e,sA(t));function sR(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function sD(e){return e.includes(":")}function sN(e){return sD(e)?e.split(":")[0]:e}function sB(e){var t,r,n;let i={};if(!sF(e))return i;for(let[s,a]of Object.entries(e)){let e=sD(s)?[s]:a.chains,o=a.methods||[],l=a.events||[],c=sN(s);i[c]=sO(sT({},i[c]),{chains:tu(e,null==(t=i[c])?void 0:t.chains),methods:tu(o,null==(r=i[c])?void 0:r.methods),events:tu(l,null==(n=i[c])?void 0:n.events)})}return i}function sU(e,t){var r;let n,i=(r=t=t.map(e=>e.replace("did:pkh:","")),n={},r?.forEach(e=>{var t;let[r,i]=e.split(":");n[r]||(n[r]={accounts:[],chains:[],events:[],methods:[]}),n[r].accounts.push(e),null==(t=n[r].chains)||t.push(`${r}:${i}`)}),n);for(let[t,r]of Object.entries(i))r.methods?r.methods=tu(r.methods,e):r.methods=e,r.events=["chainChanged","accountsChanged"];return i}let sj={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},sM={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function sL(e,t){let{message:r,code:n}=sM[e];return{message:t?`${r} ${t}`:r,code:n}}function s$(e,t){let{message:r,code:n}=sj[e];return{message:t?`${r} ${t}`:r,code:n}}function sz(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function sF(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function sq(e){return typeof e>"u"}function sW(e,t){return!!(t&&sq(e))||"string"==typeof e&&!!e.trim().length}function sV(e,t){return!!(t&&sq(e))||"number"==typeof e&&!isNaN(e)}function sH(e){return!!(sW(e,!1)&&e.includes(":"))&&2===e.split(":").length}function sK(e){let t=!0;return sz(e)?e.length&&(t=e.every(e=>sW(e,!1))):t=!1,t}function sG(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let s=(n=`${t}, namespace`,i=null,sK(e?.methods)?sK(e?.events)||(i=s$("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=s$("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);s&&(r=s)}),r}function sZ(e,t){let r=null;if(e&&sF(e)){let n,i=sG(e,t);i&&(r=i);let s=(n=null,Object.values(e).forEach(e=>{var r,i;let s;if(n)return;let a=(r=e?.accounts,i=`${t} namespace`,s=null,sz(r)?r.forEach(e=>{s||function(e){if(sW(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&sH(e)}}return!1}(e)||(s=s$("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=s$("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);a&&(n=a)}),n);s&&(r=s)}else r=sL("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function sJ(e){return sW(e.protocol,!0)}function sY(e){return"u">typeof e}function sX(e,t){let r;return!(!sH(t)||!(r=[],Object.values(e).forEach(e=>{r.push(...sR(e.accounts))}),r).includes(t))}function sQ(e,t,r){var n,i;let s,a,o=null,l=(s={},Object.keys(n=e).forEach(e=>{var t;e.includes(":")?s[e]=n[e]:null==(t=n[e].chains)||t.forEach(t=>{s[t]={methods:n[e].methods,events:n[e].events}})}),s),c=(a={},Object.keys(i=t).forEach(e=>{if(e.includes(":"))a[e]=i[e];else{let t=sR(i[e].accounts);t?.forEach(t=>{a[t]={accounts:i[e].accounts.filter(e=>e.includes(`${t}:`)),methods:i[e].methods,events:i[e].events}})}}),a),u=Object.keys(l),d=Object.keys(c),h=s0(Object.keys(e)),f=s0(Object.keys(t)),p=h.filter(e=>!f.includes(e));return p.length&&(o=sL("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(t).toString()}`)),te(u,d)||(o=sL("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${u.toString()}
      Approved: ${d.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||o)return;let n=sR(t[e].accounts);n.includes(e)||(o=sL("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${n.toString()}`))}),u.forEach(e=>{o||(te(l[e].methods,c[e].methods)?te(l[e].events,c[e].events)||(o=sL("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):o=sL("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),o}function s0(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function s1(){let e=e3();return new Promise(t=>{switch(e){case e2:t(e8()&&navigator?.onLine);break;case e0:t(s2());break;default:t(!0)}})}async function s2(){if(e5()&&"u">typeof global&&null!=global&&global.NetInfo){let e=await (null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}let s6={};class s5{static get(e){return s6[e]}static set(e,t){s6[e]=t}static delete(e){delete s6[e]}}function s8(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function s3({logger:e,name:t}){let r="string"==typeof e?eL({opts:{level:e,name:t}}).logger:e;return r.level="string"==typeof e?e:e.level,r}var s4=r(68794),s9=r(38439),s7=r(43436),ae=Object.defineProperty,at=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?ae(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class ar extends s7.H{constructor(e){super(),this.opts=e,at(this,"protocol","wc"),at(this,"version",2)}}var an=Object.defineProperty;class ai extends s7.H{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?an(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"records",new Map)}}class as{constructor(e,t){this.logger=e,this.core=t}}class aa extends s7.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class ao extends s7.H{constructor(e){super()}}class al{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class ac extends s7.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class au extends s7.H{constructor(e,t){super(),this.core=e,this.logger=t}}class ad{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class ah{constructor(e,t){this.projectId=e,this.logger=t}}class af{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var ap=Object.defineProperty,ay=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?ap(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};h();class ag{constructor(e){this.opts=e,ay(this,"protocol","wc"),ay(this,"version",2)}}d.EventEmitter;class am{constructor(e){this.client=e}}var ab=r(76899),av=r(83792),aw=r(21999),a_=r(60065).hp,ax=r(55036);let aE="core",aI=`wc@2:${aE}:`,aA={database:":memory:"},aS="client_ed25519_seed",ak=p.ONE_DAY,aC=p.SIX_HOURS,aP="wss://relay.walletconnect.org",aT="relayer_message",aO="relayer_message_ack",aR="relayer_connection_stalled",aD="relayer_publish",aN="payload",aB="connect",aU="disconnect",aj="error",aM="2.22.4",aL="link_mode",a$="relay",az="inbound",aF="WALLETCONNECT_LINK_MODE_APPS",aq="subscription_created",aW="subscription_deleted",aV=(p.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:p.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:p.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:p.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:p.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:p.ONE_DAY,prompt:!1,tag:0},res:{ttl:p.ONE_DAY,prompt:!1,tag:0}}}),aH="pairing_create",aK="pairing_delete",aG="history_created",aZ="history_updated",aJ="history_deleted",aY="expirer_created",aX="expirer_deleted",aQ="expirer_expired",a0="https://verify.walletconnect.org",a1=`${a0}/v3`,a2=["https://verify.walletconnect.com",a0],a6="malformed_pairing_uri",a5="session_approve_started";var a8=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw TypeError(s+" is ambiguous");r[a]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*a[h]>>>0,a[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===a[f];)f++;for(var p=new Uint8Array(n+(s-f)),y=n;f!==s;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*u+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],h=0,f=a-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let a3=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class a4{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a9{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return oe(this,e)}}class a7{constructor(e){this.decoders=e}or(e){return oe(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let oe=(e,t)=>new a7({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ot{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new a4(e,t,r),this.decoder=new a9(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let or=({name:e,prefix:t,encode:r,decode:n})=>new ot(e,t,r,n),on=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=a8(r,t);return or({prefix:e,name:t,encode:n,decode:e=>a3(i(e))})},oi=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>or({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),o=0,l=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);l=l<<r|s,(o+=r)>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return a})(t,n,r,e)});var os=Object.freeze({__proto__:null,identity:or({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),oa=Object.freeze({__proto__:null,base2:oi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),oo=Object.freeze({__proto__:null,base8:oi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),ol=Object.freeze({__proto__:null,base10:on({prefix:"9",name:"base10",alphabet:"0123456789"})}),oc=Object.freeze({__proto__:null,base16:oi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:oi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),ou=Object.freeze({__proto__:null,base32:oi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:oi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:oi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:oi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:oi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:oi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:oi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:oi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:oi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),od=Object.freeze({__proto__:null,base36:on({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:on({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),oh=Object.freeze({__proto__:null,base58btc:on({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:on({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),of=Object.freeze({__proto__:null,base64:oi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:oi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:oi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:oi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let op=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),oy=op.reduce((e,t,r)=>(e[r]=t,e),[]),og=op.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var om=Object.freeze({__proto__:null,base256emoji:or({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=oy[t],"")},decode:function(e){let t=[];for(let r of e){let e=og[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function ob(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,ob.bytes=r-n+1,t}var ov=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10};let ow=(e,t,r=0)=>(ob(e,t,r),t),o_=(e,t)=>{let r=t.byteLength,n=ov(e),i=n+ov(r),s=new Uint8Array(i+r);return ow(e,s,0),ow(r,s,n),s.set(t,i),new ox(e,r,t,s)};class ox{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let oE=({name:e,code:t,encode:r})=>new oI(e,t,r);class oI{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?o_(this.code,t):t.then(e=>o_(this.code,e))}throw Error("Unknown type, must be binary type")}}let oA=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var oS=Object.freeze({__proto__:null,sha256:oE({name:"sha2-256",code:18,encode:oA("SHA-256")}),sha512:oE({name:"sha2-512",code:19,encode:oA("SHA-512")})}),ok=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:a3,digest:e=>o_(0,a3(e))}});new TextEncoder,new TextDecoder;let oC={...os,...oa,...oo,...ol,...oc,...ou,...od,...oh,...of,...om};function oP(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function oT(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...oS,...ok});let oO=oT("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),oR=oT("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?oP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),oD={utf8:oO,"utf-8":oO,hex:oC.base16,latin1:oR,ascii:oR,binary:oR,...oC};var oN=Object.defineProperty,oB=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?oN(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class oU{constructor(e,t){this.core=e,this.logger=t,oB(this,"keychain",new Map),oB(this,"name","keychain"),oB(this,"version","0.3"),oB(this,"initialized",!1),oB(this,"storagePrefix",aI),oB(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),oB(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),oB(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),oB(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=sL("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),oB(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=eM(t,this.name)}get context(){return ej(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tt(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?tr(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}}var oj=Object.defineProperty,oM=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?oj(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class oL{constructor(e,t,r){this.core=e,this.logger=t,oM(this,"name","crypto"),oM(this,"keychain"),oM(this,"randomSessionIdentifier",i7()),oM(this,"initialized",!1),oM(this,"clientId"),oM(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),oM(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),oM(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let e=await this.getClientSeed(),t=eu.TZ(e),r=eu.UF(t.publicKey);return this.clientId=r,r}),oM(this,"generateKeyPair",()=>{let e,t;this.isInitialized();let r=(e=iU.utils.randomPrivateKey(),t=iU.getPublicKey(e),{privateKey:(0,ed.dI)(e,i8),publicKey:(0,ed.dI)(t,i8)});return this.setPrivateKey(r.publicKey,r.privateKey)}),oM(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=eu.TZ(t),n=this.randomSessionIdentifier;return await eu.FA(n,e,ak,r)}),oM(this,"generateSharedKey",(e,t,r)=>{var n,i,s;let a,o;this.isInitialized();let l=(n=this.getPrivateKey(e),a=iU.getSharedSecret((0,ed.sH)(n,i8),(0,ed.sH)(t,i8)),i=void 0,o=function(e,t,r,n=32){tL(e),tj(n);let i=e.outputLen;if(n>255*i)throw Error("Length should be <= 255*HashLen");let s=Math.ceil(n/i);void 0===r&&(r=nN);let a=new Uint8Array(s*i),o=nR.create(e,t),l=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let e=0;e<s;e++)nD[0]=e+1,l.update(0===e?nN:c).update(r).update(nD).digestInto(c),a.set(c,i*e),o._cloneInto(l);return o.destroy(),l.destroy(),tq(c,nD),a.slice(0,n)}(rP,(s=void 0,tL(rP),void 0===s&&(s=new Uint8Array(rP.outputLen)),nR(rP,t2(s),t2(a))),i,32),(0,ed.dI)(o,i8));return this.setSymKey(l,r)}),oM(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||se(e);return await this.keychain.set(r,e),r}),oM(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),oM(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),oM(this,"encode",async(e,t,r)=>{this.isInitialized();let n=sl(r),i=(0,eg.h)(t);if(2===n.type){var s;let e,t,n;return s=r?.encoding,e=sr(2),t=t3(12),n=sa({type:e,sealed:(0,ed.sH)(i,i9),iv:t}),s===i4?si(n):n}if(sc(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let a=this.getSymKey(e),{type:o,senderPublicKey:l}=n;return function(e){let t=sr("u">typeof e.type?e.type:0);if(1===sn(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?(0,ed.sH)(e.senderPublicKey,i8):void 0,n="u">typeof e.iv?(0,ed.sH)(e.iv,i8):t3(12),i=sa({type:t,sealed:nT((0,ed.sH)(e.symKey,i8),n).encrypt((0,ed.sH)(e.message,i9)),iv:n,senderPublicKey:r});return e.encoding===i4?si(i):i}({type:o,symKey:a,message:i,senderPublicKey:l,encoding:r?.encoding})}),oM(this,"decode",async(e,t,r)=>{let n;this.isInitialized();let i=sl({type:sn((n=so({encoded:t,encoding:r?.encoding})).type),senderPublicKey:"u">typeof n.senderPublicKey?(0,ed.dI)(n.senderPublicKey,i8):void 0,receiverPublicKey:r?.receiverPublicKey});if(2===i.type){let e=function(e,t){let{sealed:r}=so({encoded:e,encoding:t});return(0,ed.dI)(r,i9)}(t,r?.encoding);return(0,eg.j)(e)}if(sc(i)){let t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=(0,ed.sH)(e.symKey,i8),{sealed:r,iv:n}=so({encoded:e.encoded,encoding:e.encoding}),i=nT(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return(0,ed.dI)(i,i9)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,eg.j)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),oM(this,"getPayloadType",(e,t=i3)=>sn(so({encoded:e,encoding:t}).type)),oM(this,"getPayloadSenderPublicKey",(e,t=i3)=>{let r=so({encoded:e,encoding:t});return r.senderPublicKey?(0,ed.dI)(r.senderPublicKey,i8):void 0}),this.core=e,this.logger=eM(t,this.name),this.keychain=r||new oU(this.core,this.logger)}get context(){return ej(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(aS)}catch{e=i7(),await this.keychain.set(aS,e)}return function(e,t="utf8"){let r=oD[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?oP(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}}var o$=Object.defineProperty,oz=Object.defineProperties,oF=Object.getOwnPropertyDescriptors,oq=Object.getOwnPropertySymbols,oW=Object.prototype.hasOwnProperty,oV=Object.prototype.propertyIsEnumerable,oH=(e,t,r)=>t in e?o$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oK=(e,t,r)=>oH(e,"symbol"!=typeof t?t+"":t,r);class oG extends as{constructor(e,t){super(e,t),this.logger=e,this.core=t,oK(this,"messages",new Map),oK(this,"messagesWithoutClientAck",new Map),oK(this,"name","messages"),oK(this,"version","0.3"),oK(this,"initialized",!1),oK(this,"storagePrefix",aI),oK(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),oK(this,"set",async(e,t,r)=>{this.isInitialized();let n=st(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===az){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,oz(((e,t)=>{for(var r in t||(t={}))oW.call(t,r)&&oH(e,r,t[r]);if(oq)for(var r of oq(t))oV.call(t,r)&&oH(e,r,t[r]);return e})({},r),oF({[n]:t})))}return await this.persist(),n}),oK(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),oK(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),oK(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[st(t)])),oK(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=st(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),oK(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=eM(e,this.name),this.core=t}get context(){return ej(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tt(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tt(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?tr(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?tr(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}}var oZ=Object.defineProperty,oJ=Object.defineProperties,oY=Object.getOwnPropertyDescriptors,oX=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,o1=(e,t,r)=>t in e?oZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o2=(e,t)=>{for(var r in t||(t={}))oQ.call(t,r)&&o1(e,r,t[r]);if(oX)for(var r of oX(t))o0.call(t,r)&&o1(e,r,t[r]);return e},o6=(e,t,r)=>o1(e,"symbol"!=typeof t?t+"":t,r);class o5 extends aa{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,o6(this,"events",new d.EventEmitter),o6(this,"name","publisher"),o6(this,"queue",new Map),o6(this,"publishTimeout",(0,p.toMiliseconds)(p.ONE_MINUTE)),o6(this,"initialPublishTimeout",(0,p.toMiliseconds)(15*p.ONE_SECOND)),o6(this,"needsTransportRestart",!1),o6(this,"publish",async(e,t,r)=>{var n,i,s,a,o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let l=r?.ttl||aC,c=r?.prompt||!1,u=r?.tag||0,d=r?.id||(0,av.getBigIntRpcId)().toString(),h=sd(su().protocol),f={id:d,method:r?.publishMethod||h.publish,params:o2({topic:e,message:t,ttl:l,prompt:c,tag:u,attestation:r?.attestation},r?.tvf)},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{sq(null==(n=f.params)?void 0:n.prompt)&&(null==(i=f.params)||delete i.prompt),sq(null==(s=f.params)?void 0:s.tag)&&(null==(a=f.params)||delete a.tag);let o=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=f.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(aD,t),e())};this.relayer.events.on(aD,t);let n=ti(new Promise((e,t)=>{this.rpcPublish(f,r).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await n,this.events.removeListener(aD,t)}catch(e){this.queue.set(d,{request:f,opts:r,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:r}}),await ti(o,this.publishTimeout,p)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(o=r?.internal)&&o.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),o6(this,"publishCustom",async e=>{var t,r,n,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});let{payload:a,opts:o={}}=e,{attestation:l,tvf:c,publishMethod:u,prompt:d,tag:h,ttl:f=p.FIVE_MINUTES}=o,y=o.id||(0,av.getBigIntRpcId)().toString(),g=sd(su().protocol),m=u||g.publish,b={id:y,method:m,params:o2(oJ(o2({},a),oY({ttl:f,prompt:d,tag:h,attestation:l})),c)},v=`Failed to publish custom payload, please try again. id:${y} tag:${h}`;try{sq(null==(t=b.params)?void 0:t.prompt)&&(null==(r=b.params)||delete r.prompt),sq(null==(n=b.params)?void 0:n.tag)&&(null==(i=b.params)||delete i.tag);let e=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=b.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(aD,t),e())};this.relayer.events.on(aD,t);let r=ti(new Promise((e,t)=>{this.rpcPublish(b,o).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${y} tag:${h}`);try{await r,this.events.removeListener(aD,t)}catch(e){this.queue.set(y,{request:b,opts:o,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,payload:a,opts:o}}),await ti(e,this.publishTimeout,v)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=o?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(y)}}),o6(this,"on",(e,t)=>{this.events.on(e,t)}),o6(this,"once",(e,t)=>{this.events.once(e,t)}),o6(this,"off",(e,t)=>{this.events.off(e,t)}),o6(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=eM(t,this.name),this.registerEventListeners()}get context(){return ej(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(aD,o2(o2({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;let n=e.attempt+1;this.queue.set(t,oJ(o2({},e),oY({attempt:n}))),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(s4.li.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(aR);return}this.checkQueue()}),this.relayer.on(aO,e=>{this.removeRequestFromQueue(e.id.toString())})}}var o8=Object.defineProperty,o3=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?o8(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class o4{constructor(){o3(this,"map",new Map),o3(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),o3(this,"get",e=>this.map.get(e)||[]),o3(this,"exists",(e,t)=>this.get(e).includes(t)),o3(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);n.length?this.map.set(e,n):this.map.delete(e)}),o3(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var o9=Object.defineProperty,o7=Object.defineProperties,le=Object.getOwnPropertyDescriptors,lt=Object.getOwnPropertySymbols,lr=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,li=(e,t,r)=>t in e?o9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ls=(e,t)=>{for(var r in t||(t={}))lr.call(t,r)&&li(e,r,t[r]);if(lt)for(var r of lt(t))ln.call(t,r)&&li(e,r,t[r]);return e},la=(e,t,r)=>li(e,"symbol"!=typeof t?t+"":t,r);class lo extends ac{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,la(this,"subscriptions",new Map),la(this,"topicMap",new o4),la(this,"events",new d.EventEmitter),la(this,"name","subscription"),la(this,"version","0.3"),la(this,"pending",new Map),la(this,"cached",[]),la(this,"initialized",!1),la(this,"storagePrefix",aI),la(this,"subscribeTimeout",(0,p.toMiliseconds)(p.ONE_MINUTE)),la(this,"initialSubscribeTimeout",(0,p.toMiliseconds)(15*p.ONE_SECOND)),la(this,"clientId"),la(this,"batchSubscribeTopicsLimit",500),la(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),la(this,"subscribe",async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let n=su(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);let s=await this.rpcSubscribe(e,n,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),la(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),la(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),la(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),la(this,"on",(e,t)=>{this.events.on(e,t)}),la(this,"once",(e,t)=>{this.events.once(e,t)}),la(this,"off",(e,t)=>{this.events.off(e,t)}),la(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),la(this,"start",async()=>{await this.onConnect()}),la(this,"stop",async()=>{await this.onDisconnect()}),la(this,"restart",async()=>{await this.restore(),await this.onRestart()}),la(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),la(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(s4.li.pulse,async()=>{await this.checkPending()}),this.events.on(aq,async e=>{this.logger.info(`Emitting ${aq}`),this.logger.debug({type:"event",event:aq,data:e}),await this.persist()}),this.events.on(aW,async e=>{this.logger.info(`Emitting ${aW}`),this.logger.debug({type:"event",event:aW,data:e}),await this.persist()})}),this.relayer=e,this.logger=eM(t,this.name),this.clientId=""}get context(){return ej(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=su(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=s$("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;let s=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return s;r&&r?.transportType!==a$||await this.restartToComplete({topic:e,id:e,relay:t});let a={method:sd(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});let o=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===aL)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(e=>this.logger.warn(e))},(0,p.toMiliseconds)(p.ONE_SECOND)),s;let t=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(aq,r),t(n.id))};this.events.on(aq,r);try{let n=await ti(new Promise((e,t)=>{this.relayer.request(a).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(aq,r),t(n)}catch{}}),n=await ti(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&o)throw Error(`Subscribing to ${e} failed, please try again`);return n?s:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(aR),o)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:sd(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await ti(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(aR)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:sd(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await ti(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(aR)}return t}rpcUnsubscribe(e,t,r){let n={method:sd(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,o7(ls({},t),le({id:e}))),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,ls({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ls({},t)),this.topicMap.set(t.topic,e),this.events.emit(aq,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=sL("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(aW,o7(ls({},r),le({reason:t})))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit("subscription_resubscribed")}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){let{message:e}=sL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>o7(ls({},e),le({id:await this.getSubscriptionId(e.topic)}))))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,p.toMiliseconds)(p.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return st(e+await this.getClientId())}}var ll=Object.defineProperty,lc=Object.getOwnPropertySymbols,lu=Object.prototype.hasOwnProperty,ld=Object.prototype.propertyIsEnumerable,lh=(e,t,r)=>t in e?ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lf=(e,t)=>{for(var r in t||(t={}))lu.call(t,r)&&lh(e,r,t[r]);if(lc)for(var r of lc(t))ld.call(t,r)&&lh(e,r,t[r]);return e},lp=(e,t,r)=>lh(e,"symbol"!=typeof t?t+"":t,r);class ly extends ao{constructor(e){var t;super(e),lp(this,"protocol","wc"),lp(this,"version",2),lp(this,"core"),lp(this,"logger"),lp(this,"events",new d.EventEmitter),lp(this,"provider"),lp(this,"messages"),lp(this,"subscriber"),lp(this,"publisher"),lp(this,"name","relayer"),lp(this,"transportExplicitlyClosed",!1),lp(this,"initialized",!1),lp(this,"connectionAttemptInProgress",!1),lp(this,"relayUrl"),lp(this,"projectId"),lp(this,"packageName"),lp(this,"bundleId"),lp(this,"hasExperiencedNetworkDisruption",!1),lp(this,"pingTimeout"),lp(this,"heartBeatTimeout",(0,p.toMiliseconds)(p.THIRTY_SECONDS+p.FIVE_SECONDS)),lp(this,"reconnectTimeout"),lp(this,"connectPromise"),lp(this,"reconnectInProgress",!1),lp(this,"requestsInFlight",[]),lp(this,"connectTimeout",(0,p.toMiliseconds)(15*p.ONE_SECOND)),lp(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,av.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),lp(this,"resetPingTimeout",()=>{e6()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),lp(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),lp(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit("relayer_connect")}),lp(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),lp(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit("relayer_error",e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),lp(this,"registerProviderListeners",()=>{this.provider.on(aN,this.onPayloadHandler),this.provider.on(aB,this.onConnectHandler),this.provider.on(aU,this.onDisconnectHandler),this.provider.on(aj,this.onProviderErrorHandler)}),this.core=e.core,this.logger=s3({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new oG(this.logger,e.core),this.subscriber=new lo(this,this.logger),this.publisher=new o5(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||aP,e5()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)&&(null==global?void 0:global.Platform.OS)==="android"?this.packageName=e4():e5()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)&&(null==global?void 0:global.Platform.OS)==="ios"&&(this.bundleId=e4()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return ej(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:a$},"outbound")}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let s=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",o,l=t=>{t.topic===e&&(this.subscriber.off(aq,l),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(aq,l)}),new Promise(async(r,n)=>{a=await this.subscriber.subscribe(e,lf({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&n(e)})||a,r()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ti(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics)return void this.logger.info("Starting WS connection skipped because the client has no topics to work with.");if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await s1())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0)return void this.logger.trace("Batch message events is empty. Ignoring...");let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=to(p.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(aT,e),await this.recordMessageEvent(e,az)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to connect"))};this.provider.once(aU,r),await ti(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(aU,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,r)=>{let n=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(aU,n),await this.subscriber.start().then(e).catch(r).finally(()=>{this.provider.off(aU,n)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,p.toMiliseconds)(+t))),t++}}startPingTimeout(){var e,t,r,n,i;if(e6())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ab.F(new aw.A(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:l}){var c,u;let d,h=r.split("?"),f=e7(e,t,n),p=(c=h[1]||"",u={auth:i,ua:f,projectId:s,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:o||void 0},d=new URLSearchParams(c),Object.entries(u).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,t])=>{null!=t&&d.set(e,String(t))}),d.toString());return h[0]+"?"+p}({sdkVersion:aM,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,av.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:s}=t.data,a={topic:r,message:n,publishedAt:i,transportType:a$,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(lf({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else(0,av.isJsonRpcResponse)(e)&&this.events.emit(aO,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,az),this.events.emit(aT,e))}async acknowledgePayload(e){let t=(0,av.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(aN,this.onPayloadHandler),this.provider.off(aB,this.onConnectHandler),this.provider.off(aU,this.onDisconnectHandler),this.provider.off(aj,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await s1();(function(e){var t,r;switch(e3()){case e2:t=e,!e5()&&e8()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)));break;case e0:r=e,e5()&&"u">typeof global&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}})(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(s4.li.pulse,async()=>{var e;if(!this.transportExplicitlyClosed&&!this.connected&&(!(e8()&&(0,y.getDocument)())||(null==(e=(0,y.getDocument)())?void 0:e.visibilityState)==="visible"))try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit("relayer_disconnect"),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,p.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function lg(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function lm(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let lb="[object Arguments]",lv="[object Object]";function lw(){}function l_(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}var lx=Object.defineProperty,lE=Object.getOwnPropertySymbols,lI=Object.prototype.hasOwnProperty,lA=Object.prototype.propertyIsEnumerable,lS=(e,t,r)=>t in e?lx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lk=(e,t)=>{for(var r in t||(t={}))lI.call(t,r)&&lS(e,r,t[r]);if(lE)for(var r of lE(t))lA.call(t,r)&&lS(e,r,t[r]);return e},lC=(e,t,r)=>lS(e,"symbol"!=typeof t?t+"":t,r);class lP extends al{constructor(e,t,r,n=aI,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,lC(this,"map",new Map),lC(this,"version","0.3"),lC(this,"cached",[]),lC(this,"initialized",!1),lC(this,"getKey"),lC(this,"storagePrefix",aI),lC(this,"recentlyDeleted",[]),lC(this,"recentlyDeletedLimit",200),lC(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{var t;this.getKey&&null!==e&&!sq(e)?this.map.set(this.getKey(e),e):(null==(t=e?.proposer)?void 0:t.publicKey)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),lC(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),lC(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),lC(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>{var n;return n=t[r],function e(t,r,n,i,s,a,o){let l=o(t,r,n,i,s,a);if(void 0!==l)return l;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,s){if(Object.is(r,n))return!0;let a=lm(r),o=lm(n);if(a===lb&&(a=lv),o===lb&&(o=lv),a!==o)return!1;switch(a){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let l=(i=i??new Map).get(r),c=i.get(n);if(null!=l&&null!=c)return l===n;i.set(r,n),i.set(n,r);try{switch(a){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,a]of r.entries())if(!n.has(t)||!e(a,n.get(t),t,r,n,i,s))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),a=Array.from(n.values());for(let o=0;o<t.length;o++){let l=t[o],c=a.findIndex(t=>e(l,t,void 0,r,n,i,s));if(-1===c)return!1;a.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof a_&&a_.isBuffer(r)!==a_.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,s))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,s);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,s);case"[object Error]":return r.name===n.name&&r.message===n.message;case lv:{if(!(t(r.constructor,n.constructor,i,s)||l_(r)&&l_(n)))return!1;let a=[...Object.keys(r),...lg(r)],o=[...Object.keys(n),...lg(n)];if(a.length!==o.length)return!1;for(let t=0;t<a.length;t++){let o=a[t],l=r[o];if(!Object.hasOwn(n,o))return!1;let c=n[o];if(!e(l,c,o,r,n,i,s))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,a,o)}(n,e[r],void 0,void 0,void 0,void 0,lw)})):this.values)),lC(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=lk(lk({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),lC(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=eM(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return ej(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=sL("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=sL("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=sL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}}var lT=Object.defineProperty,lO=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?lT(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class lR{constructor(e,t){this.core=e,this.logger=t,lO(this,"name","pairing"),lO(this,"version","0.3"),lO(this,"events",new d),lO(this,"pairings"),lO(this,"initialized",!1),lO(this,"storagePrefix",aI),lO(this,"ignoredPayloadTypes",[1]),lO(this,"registeredMethods",[]),lO(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),lO(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),lO(this,"create",async e=>{this.isInitialized();let t=i7(),r=await this.core.crypto.setSymKey(t),n=to(p.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},a=s_({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(aH,s),this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:a}}),lO(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:["pairing_started"]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:s,expiryTimestamp:a,methods:o}=sw(e.uri);if(r.props.properties.topic=n,r.addTrace("pairing_uri_validation_success"),r.addTrace("pairing_uri_not_expired"),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace("existing_pairing"),t.active)throw r.setError("active_pairing_already_exists"),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace("pairing_not_expired")}let l=a||to(p.FIVE_MINUTES),c={topic:n,relay:s,expiry:l,active:!1,methods:o};this.core.expirer.set(n,l),await this.pairings.set(n,c),r.addTrace("store_new_pairing"),e.activatePairing&&await this.activate({topic:n}),this.events.emit(aH,c),r.addTrace("emit_inactive_pairing"),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace("subscribing_pairing_topic");try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError("no_internet_connection")}try{await this.core.relayer.subscribe(n,{relay:s})}catch(e){throw r.setError("subscribe_pairing_topic_failure"),e}return r.addTrace("subscribe_pairing_topic_success"),c}),lO(this,"activate",async({topic:e})=>{this.isInitialized();let t=to(p.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),lO(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=tn();this.events.once(tc("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),lO(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),lO(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),lO(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),lO(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",s$("USER_DISCONNECTED")),await this.deletePairing(t))}),lO(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,s=this.core.crypto.keychain.get(t);return s_({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:n,methods:i})}),lO(this,"sendRequest",async(e,t,r)=>{let n=(0,av.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),s=aV[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id}),lO(this,"sendResult",async(e,t,r)=>{let n=(0,av.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),s=aV[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)}),lO(this,"sendError",async(e,t,r)=>{let n=(0,av.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),s=(await this.core.history.get(t,e)).request.method,a=aV[s]?aV[s].res:aV.unregistered_method.res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)}),lO(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,s$("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),lO(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>tl(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),lO(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),lO(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),lO(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit("pairing_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),lO(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,av.isJsonRpcResult)(t)?this.events.emit(tc("pairing_ping",r),{}):(0,av.isJsonRpcError)(t)&&this.events.emit(tc("pairing_ping",r),{error:t.error})},500)}),lO(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(aK,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),lO(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=s$("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),lO(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(s$("WC_METHOD_UNSUPPORTED",e))}),lO(this,"isValidPair",(e,t)=>{var r;if(!sY(e)){let{message:r}=sL("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(a6),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(sW(e,!1)){if(t(e))return!0;let r=tg(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=sL("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(a6),Error(r)}let n=sw(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=sL("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(a6),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=sL("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(a6),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,p.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError("pairing_expired");let{message:e}=sL("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),lO(this,"isValidPing",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),lO(this,"isValidDisconnect",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),lO(this,"isValidPairingTopic",async e=>{if(!sW(e,!1)){let{message:t}=sL("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=sL("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(tl(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=sL("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=eM(t,this.name),this.pairings=new lP(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ej(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(aT,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==aL&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);(0,av.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,av.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(aQ,async e=>{let{topic:t}=ta(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}var lD=Object.defineProperty,lN=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?lD(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class lB extends ai{constructor(e,t){super(e,t),this.core=e,this.logger=t,lN(this,"records",new Map),lN(this,"events",new d.EventEmitter),lN(this,"name","history"),lN(this,"version","0.3"),lN(this,"cached",[]),lN(this,"initialized",!1),lN(this,"storagePrefix",aI),lN(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),lN(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:to(p.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(aG,n)}),lN(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,av.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(aZ,t))}),lN(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),lN(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic===e&&("u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(aJ,r)))}),this.persist()}),lN(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),lN(this,"on",(e,t)=>{this.events.on(e,t)}),lN(this,"once",(e,t)=>{this.events.once(e,t)}),lN(this,"off",(e,t)=>{this.events.off(e,t)}),lN(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=eM(t,this.name)}get context(){return ej(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,av.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=sL("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=sL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(aG,e=>{this.logger.info(`Emitting ${aG}`),this.logger.debug({type:"event",event:aG,record:e})}),this.events.on(aZ,e=>{this.logger.info(`Emitting ${aZ}`),this.logger.debug({type:"event",event:aZ,record:e})}),this.events.on(aJ,e=>{this.logger.info(`Emitting ${aJ}`),this.logger.debug({type:"event",event:aJ,record:e})}),this.core.heartbeat.on(s4.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,p.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(aJ,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}}var lU=Object.defineProperty,lj=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?lU(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class lM extends au{constructor(e,t){super(e,t),this.core=e,this.logger=t,lj(this,"expirations",new Map),lj(this,"events",new d.EventEmitter),lj(this,"name","expirer"),lj(this,"version","0.3"),lj(this,"cached",[]),lj(this,"initialized",!1),lj(this,"storagePrefix",aI),lj(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),lj(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),lj(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(aY,{target:r,expiration:n})}),lj(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),lj(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(aX,{target:t,expiration:r})}}),lj(this,"on",(e,t)=>{this.events.on(e,t)}),lj(this,"once",(e,t)=>{this.events.once(e,t)}),lj(this,"off",(e,t)=>{this.events.off(e,t)}),lj(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=eM(t,this.name)}get context(){return ej(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return ts("topic",e);if("number"==typeof e)return ts("id",e);let{message:t}=sL("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=sL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=sL("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,p.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(aQ,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(s4.li.pulse,()=>this.checkExpirations()),this.events.on(aY,e=>{this.logger.info(`Emitting ${aY}`),this.logger.debug({type:"event",event:aY,data:e}),this.persist()}),this.events.on(aQ,e=>{this.logger.info(`Emitting ${aQ}`),this.logger.debug({type:"event",event:aQ,data:e}),this.persist()}),this.events.on(aX,e=>{this.logger.info(`Emitting ${aX}`),this.logger.debug({type:"event",event:aX,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}}var lL=Object.defineProperty,l$=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?lL(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class lz extends ad{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,l$(this,"name","verify-api"),l$(this,"abortController"),l$(this,"isDevEnv"),l$(this,"verifyUrlV3",a1),l$(this,"storagePrefix",aI),l$(this,"version",2),l$(this,"publicKey"),l$(this,"fetchPromise"),l$(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,p.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),l$(this,"register",async e=>{if(!e8()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,y.getDocument)(),t=this.startAbortTimer(5*p.ONE_SECOND),n=await new Promise((n,s)=>{let a=()=>{window.removeEventListener("message",l),e.body.removeChild(o),s("attestation aborted")};this.abortController.signal.addEventListener("abort",a);let o=e.createElement("iframe");o.src=i,o.style.display="none",o.addEventListener("error",a,{signal:this.abortController.signal});let l=i=>{if(i.data&&"string"==typeof i.data)try{let s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,eu.Cq)(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(o),this.abortController.signal.removeEventListener("abort",a),window.removeEventListener("message",l),n(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(o),window.addEventListener("message",l,{signal:this.abortController.signal})});return this.logger.debug(n,"jwt attestation"),n}catch(e){this.logger.warn(e)}return""}),l$(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,eu.Cq)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),l$(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*p.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),l$(this,"getVerifyUrl",e=>{let t=e||a0;return a2.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${a0}`),t=a0),t}),l$(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(p.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),l$(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),l$(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),l$(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),l$(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),l$(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),l$(this,"validateAttestation",(e,t)=>{let r=function(e,t){let r,n,[i,s,a]=e.split("."),o=ez.from(ss(a),"base64");if(64!==o.length)throw Error("Invalid signature length");let l=o.slice(0,32),c=o.slice(32,64),u=rP(`${i}.${s}`),d=(r=ez.from(t.x,"base64"),n=ez.from(t.y,"base64"),(0,ed.xW)([new Uint8Array([4]),r,n]));if(!i6.verify((0,ed.xW)([l,c]),u,d))throw Error("Invalid signature");return(0,eu.Cq)(e).payload}(e,t.publicKey),n={hasExpired:(0,p.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=eM(t,this.name),this.abortController=new AbortController,this.isDevEnv=ty(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ej(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,p.toMiliseconds)(e))}}var lF=Object.defineProperty,lq=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?lF(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class lW extends ah{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,lq(this,"context","echo"),lq(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=eM(t,this.context)}}var lV=Object.defineProperty,lH=Object.getOwnPropertySymbols,lK=Object.prototype.hasOwnProperty,lG=Object.prototype.propertyIsEnumerable,lZ=(e,t,r)=>t in e?lV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lJ=(e,t)=>{for(var r in t||(t={}))lK.call(t,r)&&lZ(e,r,t[r]);if(lH)for(var r of lH(t))lG.call(t,r)&&lZ(e,r,t[r]);return e},lY=(e,t,r)=>lZ(e,"symbol"!=typeof t?t+"":t,r);class lX extends af{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,lY(this,"context","event-client"),lY(this,"storagePrefix",aI),lY(this,"storageVersion",.1),lY(this,"events",new Map),lY(this,"shouldPersist",!1),lY(this,"init",async()=>{if(!ty())try{let e={eventId:tp(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:e7(this.core.relayer.protocol,this.core.relayer.version,aM)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),lY(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,s=tp(),a=this.core.projectId||"",o=lJ({eventId:s,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:a,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,o),this.shouldPersist=!0),o}),lY(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return lJ(lJ({},n),this.setMethods(n.eventId))}),lY(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),lY(this,"setEventListeners",()=>{this.core.heartbeat.on(s4.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,p.fromMiliseconds)(Date.now())-(0,p.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),lY(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),lY(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),lY(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),lY(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),lY(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,lJ(lJ({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),lY(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),lY(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${aM}${t}`,{method:"POST",body:JSON.stringify(e)})}),lY(this,"getAppDomain",()=>e9().url),this.logger=eM(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var lQ=Object.defineProperty,l0=Object.getOwnPropertySymbols,l1=Object.prototype.hasOwnProperty,l2=Object.prototype.propertyIsEnumerable,l6=(e,t,r)=>t in e?lQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l5=(e,t)=>{for(var r in t||(t={}))l1.call(t,r)&&l6(e,r,t[r]);if(l0)for(var r of l0(t))l2.call(t,r)&&l6(e,r,t[r]);return e},l8=(e,t,r)=>l6(e,"symbol"!=typeof t?t+"":t,r);class l3 extends ar{constructor(e){var t;super(e),l8(this,"protocol","wc"),l8(this,"version",2),l8(this,"name",aE),l8(this,"relayUrl"),l8(this,"projectId"),l8(this,"customStoragePrefix"),l8(this,"events",new d.EventEmitter),l8(this,"logger"),l8(this,"heartbeat"),l8(this,"relayer"),l8(this,"crypto"),l8(this,"storage"),l8(this,"history"),l8(this,"expirer"),l8(this,"pairing"),l8(this,"verify"),l8(this,"echoClient"),l8(this,"linkModeSupportedApps"),l8(this,"eventClient"),l8(this,"initialized",!1),l8(this,"logChunkController"),l8(this,"on",(e,t)=>this.events.on(e,t)),l8(this,"once",(e,t)=>this.events.once(e,t)),l8(this,"off",(e,t)=>this.events.off(e,t)),l8(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),l8(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:aL};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||aP,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const{logger:n,chunkLoggerController:i}=eL({opts:function(e){return eT(eU({},e),eO({level:e?.level||"info"}))}({level:"string"==typeof e?.logger&&e.logger?e.logger:"error",name:aE}),maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=i,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=eM(n,this.name),this.heartbeat=new s4.VH,this.crypto=new oL(this,this.logger,e?.keychain),this.history=new lB(this,this.logger),this.expirer=new lM(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new s9.A(l5(l5({},aA),e?.storageOptions)),this.relayer=new ly({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new lR(this,this.logger),this.verify=new lz(this,this.logger,this.storage),this.echoClient=new lW(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new lX(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new l3(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return ej(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(aF,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(aF)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof ax&&"true"===ax.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let l4="client",l9=`wc@2:${l4}:`,l7="WALLETCONNECT_DEEPLINK_CHOICE",ce="Proposal expired",ct=p.SEVEN_DAYS,cr={wc_sessionPropose:{req:{ttl:p.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:p.ONE_DAY,prompt:!1,tag:1104},res:{ttl:p.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:p.ONE_DAY,prompt:!1,tag:1106},res:{ttl:p.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:p.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:p.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:p.ONE_DAY,prompt:!1,tag:1112},res:{ttl:p.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:p.ONE_DAY,prompt:!1,tag:1114},res:{ttl:p.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:p.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:p.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:p.FIVE_MINUTES,prompt:!1,tag:1119}}},cn={min:p.FIVE_MINUTES,max:p.SEVEN_DAYS},ci="IDLE",cs="ACTIVE",ca={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},co=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],cl="wc@1.5:auth:",cc=`${cl}:PUB_KEY`;var cu=Object.defineProperty,cd=Object.defineProperties,ch=Object.getOwnPropertyDescriptors,cf=Object.getOwnPropertySymbols,cp=Object.prototype.hasOwnProperty,cy=Object.prototype.propertyIsEnumerable,cg=(e,t,r)=>t in e?cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cm=(e,t)=>{for(var r in t||(t={}))cp.call(t,r)&&cg(e,r,t[r]);if(cf)for(var r of cf(t))cy.call(t,r)&&cg(e,r,t[r]);return e},cb=(e,t,r)=>cg(e,"symbol"!=typeof t?t+"":t,r);class cv extends am{constructor(e){super(e),cb(this,"name","engine"),cb(this,"events",new d),cb(this,"initialized",!1),cb(this,"requestQueue",{state:ci,queue:[]}),cb(this,"sessionRequestQueue",{state:ci,queue:[]}),cb(this,"emittedSessionRequests",new tm({limit:500})),cb(this,"requestQueueDelay",p.ONE_SECOND),cb(this,"expectedPairingMethodMap",new Map),cb(this,"recentlyDeletedMap",new Map),cb(this,"recentlyDeletedLimit",200),cb(this,"relayMessageCache",[]),cb(this,"pendingSessions",new Map),cb(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(cr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,p.toMiliseconds)(this.requestQueueDelay)))}),cb(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=cd(cm({},e),ch({requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}}));await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var r,n,i,s,a,o;let l=sB(e),c=sB(t),u={};for(let e of Object.keys(l).concat(Object.keys(c)))u[e]={chains:tu(null==(r=l[e])?void 0:r.chains,null==(n=c[e])?void 0:n.chains),methods:tu(null==(i=l[e])?void 0:i.methods,null==(s=c[e])?void 0:s.methods),events:tu(null==(a=l[e])?void 0:a.events,null==(o=c[e])?void 0:o.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,scopedProperties:a,relays:o}=t,l=r,c,u=!1;try{if(l){let e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!u){let{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,c=t}if(!l){let{message:e}=sL("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw Error(e)}let d=await this.client.core.crypto.generateKeyPair(),h=cr.wc_sessionPropose.req.ttl||p.FIVE_MINUTES,f=to(h),y=cd(cm(cm({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),a&&{scopedProperties:a}),ch({id:(0,av.payloadId)()})),g=tc("session_connect",y.id),{reject:m,resolve:b,done:v}=tn(h,ce),w=({id:e})=>{e===y.id&&(this.client.events.off("proposal_expire",w),this.pendingSessions.delete(y.id),this.events.emit(g,{error:{message:ce,code:0}}))};return this.client.events.on("proposal_expire",w),this.events.once(g,({error:e,session:t})=>{this.client.events.off("proposal_expire",w),e?m(e):t&&b(t)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:c,approval:v}}),cb(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),cb(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[a5]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError("no_internet_connection"),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError("proposal_not_found"),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError("session_approve_namespace_validation_failure"),e}let{id:s,relayProtocol:a,namespaces:o,sessionProperties:l,scopedProperties:c,sessionConfig:u}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:y}=d,g=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});g||(g=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:a5,properties:{topic:h,trace:[a5,"session_namespaces_validation_success"]}}));let m=await this.client.core.crypto.generateKeyPair(),b=f.publicKey,v=await this.client.core.crypto.generateSharedKey(m,b),w=cm(cm(cm({relay:{protocol:a??"irn"},namespaces:o,controller:{publicKey:m,metadata:this.client.metadata},expiry:to(ct)},l&&{sessionProperties:l}),c&&{scopedProperties:c}),u&&{sessionConfig:u});g.addTrace("subscribing_session_topic");try{await this.client.core.relayer.subscribe(v,{transportType:a$,internal:{skipSubscribe:!0}})}catch(e){throw g.setError("subscribe_session_topic_failure"),e}g.addTrace("subscribe_session_topic_success");let _=cd(cm({},w),ch({topic:v,requiredNamespaces:p,optionalNamespaces:y,pairingTopic:h,acknowledged:!1,self:w.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:m,transportType:a$}));await this.client.session.set(v,_),g.addTrace("store_session");try{await this.sendApproveSession({sessionTopic:v,proposal:d,pairingProposalResponse:{relay:{protocol:a??"irn"},responderPublicKey:m},sessionSettleRequest:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),g.addTrace("session_approve_publish_success")}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,s$("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(v,to(ct)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),cb(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&await this.sendError({id:r,topic:t,error:n,rpcOpts:cr.wc_sessionPropose.reject}),await this.deleteProposal(r)}),cb(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:s}=tn(),a=(0,av.payloadId)(),o=(0,av.getBigIntRpcId)().toString(),l=this.client.session.get(t).namespaces;return this.events.once(tc("session_update",a),({error:e})=>{e?s(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:o}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),s(e)}),{acknowledged:n}}),cb(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,av.payloadId)(),{done:n,resolve:i,reject:s}=tn();return this.events.once(tc("session_extend",r),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,to(ct)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:n}}),cb(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=cr.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(n);s?.transportType===a$&&await this.confirmOnlineStateOrThrow();let a=(0,av.payloadId)(),o=(0,av.getBigIntRpcId)().toString(),{done:l,resolve:c,reject:u}=tn(i,"Request expired. Please try again.");this.events.once(tc("session_request",a),({error:e,result:t})=>{e?u(e):c(t)});let d="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:a,relayRpcId:o,topic:n,method:d,params:{request:cd(cm({},r),ch({expiryTimestamp:to(i)})),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),await l();let f={request:cd(cm({},r),ch({expiryTimestamp:to(i)})),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:a,relayRpcId:o,topic:n,method:d,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),e()}),new Promise(async e=>{var t;if(!(null!=(t=s.sessionConfig)&&t.disableDeepLink)){let e=await th(this.client.core.storage,l7);await td({id:a,topic:n,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),cb(this,"respond",async e=>{var t,r;this.isInitialized();let n=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(r=null==(t=e?.response)?void 0:t.id)?void 0:r.toString()),trace:["session_request_response_started"]}});try{await this.isValidRespond(e)}catch(e){throw n.addTrace(e?.message),n.setError("session_request_response_validation_failure"),e}n.addTrace("session_request_response_validation_success");let{topic:i,response:s}=e,{id:a}=s,o=this.client.session.get(i);o.transportType===a$&&await this.confirmOnlineStateOrThrow();let l=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);try{n.addTrace("session_request_response_publish_started"),(0,av.isJsonRpcResult)(s)?await this.sendResult({id:a,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:l}):(0,av.isJsonRpcError)(s)&&await this.sendError({id:a,topic:i,error:s.error,appLink:l}),this.cleanupAfterResponse(e)}catch(e){throw n.addTrace(e?.message),n.setError("session_request_response_publish_failure"),e}}),cb(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,av.payloadId)(),r=(0,av.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:s}=tn();this.events.once(tc("session_ping",e),({error:e})=>{e?s(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),cb(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,av.getBigIntRpcId)().toString(),s=(0,av.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),cb(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:s$("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=sL("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),cb(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),s=!0;return!!te(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:a}=e.namespaces[t],o=sR(n),l=r[t];te(eW(t,l),o)&&te(l.methods,i)&&te(l.events,a)||(s=!1)}),s)})(t,e)))),cb(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),cb(this,"authenticate",async(e,t)=>{var r,n,i,s,a;let o;this.isInitialized(),this.isValidAuthenticate(e);let l=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),c=l?aL:a$;c===a$&&await this.confirmOnlineStateOrThrow();let{chains:u,statement:d="",uri:h,domain:f,nonce:p,type:y,exp:g,nbf:m,methods:b=[],expiry:v}=e,w=[...e.resources||[]],{topic:_,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:_,uri:x}});let E=await this.client.core.crypto.generateKeyPair(),I=se(E);if(await Promise.all([this.client.auth.authKeys.set(cc,{responseTopic:I,publicKey:E}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:_})]),await this.client.core.relayer.subscribe(I,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${_}`),b.length>0){let e,t,{namespace:r}=eF(u[0]),o=r3(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(r,"request",b));ne(w)&&(n=o,i=w.pop(),o=r3((s=r4(n),a=r4(i),r8(s),r8(a),e=Object.keys(s.att).concat(Object.keys(a.att)).sort((e,t)=>e.localeCompare(t)),t={att:{}},e.forEach(e=>{var r,n;Object.keys((null==(r=s.att)?void 0:r[e])||{}).concat(Object.keys((null==(n=a.att)?void 0:n[e])||{})).sort((e,t)=>e.localeCompare(t)).forEach(r=>{var n,i;t.att[e]=rG(((e,t)=>{for(var r in t||(t={}))rY.call(t,r)&&rQ(e,r,t[r]);if(rJ)for(var r of rJ(t))rX.call(t,r)&&rQ(e,r,t[r]);return e})({},t.att[e]),rZ({[r]:(null==(n=s.att[e])?void 0:n[r])||(null==(i=a.att[e])?void 0:i[r])}))})}),t))),w.push(o)}let A=v&&v>cr.wc_sessionAuthenticate.req.ttl?v:cr.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:y??"caip122",chains:u,statement:d,aud:h,domain:f,version:"1",nonce:p,iat:new Date().toISOString(),exp:g,nbf:m,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:to(A)},k={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:u,methods:[...new Set(["personal_sign",...b])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:_,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:to(cr.wc_sessionPropose.req.ttl),id:(0,av.payloadId)()},{done:C,resolve:P,reject:T}=tn(A,"Request expired"),O=(0,av.payloadId)(),R=tc("session_connect",k.id),D=tc("session_request",O),N=async({error:e,session:t})=>{this.events.off(D,B),e?T(e):t&&P({session:t})},B=async e=>{var r,n,i;let s;if(await this.deletePendingAuthRequest(O,{message:"fulfilled",code:0}),e.error){let t=s$("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(R,N),T(e.error.message))}await this.deleteProposal(k.id),this.events.off(R,N);let{cacaos:a,responder:o}=e.result,l=[],u=[];for(let e of a){await r6({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),T(s$("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=ne(t.resources),n=[r1(t.iss)],i=r2(t.iss);if(r){let e=r9(r),t=r7(r);l.push(...e),n.push(...t)}for(let e of n)u.push(`${e}:${i}`)}let d=await this.client.core.crypto.generateSharedKey(E,o.publicKey);l.length>0&&(s={topic:d,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:o,controller:o.publicKey,expiry:to(ct),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_,namespaces:sU([...new Set(l)],[...new Set(u)]),transportType:c},await this.client.core.relayer.subscribe(d,{transportType:c}),await this.client.session.set(d,s),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:o.metadata}),s=this.client.session.get(d)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=o.metadata.redirect)&&n.linkMode&&null!=(i=o.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(o.metadata.redirect.universal),this.client.session.update(d,{transportType:aL})),P({auths:a,session:s})};this.events.once(R,N),this.events.once(D,B);try{if(l){let e=(0,av.formatJsonRpcRequest)("wc_sessionAuthenticate",S,O);this.client.core.history.set(_,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:i4});o=sx(t,_,r)}else await Promise.all([this.sendRequest({topic:_,method:"wc_sessionAuthenticate",params:S,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:O}),this.sendRequest({topic:_,method:"wc_sessionPropose",params:k,expiry:cr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(e){throw this.events.off(R,N),this.events.off(D,B),e}return await this.setProposal(k.id,k),await this.setAuthRequest(O,{request:cd(cm({},S),ch({verifyContext:{}})),pairingTopic:_,transportType:c}),{uri:o??x,response:C}}),cb(this,"approveSessionAuthenticate",async e=>{let t,{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:["authenticated_session_approve_started"]}});try{this.isInitialized()}catch(e){throw i.setError("no_internet_connection"),e}let s=this.getPendingAuthRequest(r);if(!s)throw i.setError("authenticated_session_pending_request_not_found"),Error(`Could not find pending auth request with id ${r}`);let a=s.transportType||a$;a===a$&&await this.confirmOnlineStateOrThrow();let o=s.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),c=se(o),u={type:1,receiverPublicKey:o,senderPublicKey:l},d=[],h=[];for(let e of n){if(!await r6({cacao:e,projectId:this.client.core.projectId})){i.setError("invalid_cacao");let e=s$("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:c,error:e,encodeOpts:u}),Error(e.message)}i.addTrace("cacaos_verified");let{p:t}=e,n=ne(t.resources),s=[r1(t.iss)],a=r2(t.iss);if(n){let e=r9(n),t=r7(n);d.push(...e),s.push(...t)}for(let e of s)h.push(`${e}:${a}`)}let f=await this.client.core.crypto.generateSharedKey(l,o);if(i.addTrace("create_authenticated_session_topic"),d?.length>0){t={topic:f,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:o,metadata:s.requester.metadata},controller:o,expiry:to(ct),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:sU([...new Set(d)],[...new Set(h)]),transportType:a},i.addTrace("subscribing_authenticated_session_topic");try{await this.client.core.relayer.subscribe(f,{transportType:a})}catch(e){throw i.setError("subscribe_authenticated_session_topic_failure"),e}i.addTrace("subscribe_authenticated_session_topic_success"),await this.client.session.set(f,t),i.addTrace("store_authenticated_session"),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}i.addTrace("publishing_authenticated_session_approve");try{await this.sendResult({topic:c,id:r,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,a)})}catch(e){throw i.setError("authenticated_session_approve_publish_failure"),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),cb(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===a$&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),a=se(i);await this.sendError({id:t,topic:a,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:s},rpcOpts:cr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),cb(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return r5(t,r)}),cb(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),cb(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),cb(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=e,{self:a}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,s$("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(l7).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,s$("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=ci),i&&this.client.events.emit("session_delete",{id:s,topic:r})}),cb(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError("proposal_expired")}catch{}await Promise.all([this.client.proposal.delete(e,s$("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),cb(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=ci,this.client.events.emit("session_request_expire",{id:e}))}),cb(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),cb(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),cb(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,to(cr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),cb(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=a$}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),cb(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||to(cr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),cb(this,"sendRequest",async e=>{let t,r,{topic:n,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:d,publishOpts:h={}}=e,f=(0,av.formatJsonRpcRequest)(i,s,l),p=!!u;try{let e=p?i4:i3;t=await this.client.core.crypto.encode(n,f,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),e}if(co.includes(i)){let e=st(JSON.stringify(f)),n=st(t);r=await this.client.core.verify.register({id:n,decryptedId:e})}let y=cm(cm({},cr[i].req),h);if(y.attestation=r,a&&(y.ttl=a),o&&(y.id=o),this.client.core.history.set(n,f),p){let e=sx(u,n,t);await global.Linking.openURL(e,this.client.name)}else{let e;y.tvf=cd(cm({},d),ch({correlationId:f.id})),c?(e=cm({},y.internal),y.internal=cd(e,ch({throwOnFailedPublish:!0})),await this.client.core.relayer.publish(n,t,y)):this.client.core.relayer.publish(n,t,y).catch(e=>this.client.logger.error(e))}return f.id}),cb(this,"sendProposeSession",async e=>{let{proposal:t,publishOpts:r}=e,n=(0,av.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);let i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:i3}),s=st(JSON.stringify(n)),a=st(i),o=await this.client.core.verify.register({id:a,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:cd(cm({},r),ch({publishMethod:"wc_proposeSession",attestation:o}))})}),cb(this,"sendApproveSession",async e=>{let{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:s}=e,a=(0,av.formatJsonRpcResult)(n.id,r),o=await this.client.core.crypto.encode(n.pairingTopic,a,{encoding:i3}),l=(0,av.formatJsonRpcRequest)("wc_sessionSettle",i,s?.id),c=await this.client.core.crypto.encode(t,l,{encoding:i3});this.client.core.history.set(t,l),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:o,sessionSettlementRequest:c},opts:cd(cm({},s),ch({publishMethod:"wc_approveSession"}))})}),cb(this,"sendResult",async e=>{let t,r,n,{id:i,topic:s,result:a,throwOnFailedPublish:o,encodeOpts:l,appLink:c}=e,u=(0,av.formatJsonRpcResult)(i,a),d=c&&"u">typeof(null==global?void 0:global.Linking);try{let e,r,n=d?i4:i3;t=await this.client.core.crypto.encode(s,u,(e=cm({},l||{}),r={encoding:n},cd(e,ch(r))))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),e}try{let e=(r=await this.client.core.history.get(s,i)).request;try{n=this.getTVFParams(i,e.params,a)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${i}) failed`),e}if(d){let e=sx(c,s,t);await global.Linking.openURL(e,this.client.name)}else{let e,a=cr[r.request.method].res;a.tvf=cd(cm({},n),ch({correlationId:i})),o?(e=cm({},a.internal),a.internal=cd(e,ch({throwOnFailedPublish:!0})),await this.client.core.relayer.publish(s,t,a)):this.client.core.relayer.publish(s,t,a).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(u)}),cb(this,"sendError",async e=>{let t,r,{id:n,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:l}=e,c=(0,av.formatJsonRpcError)(n,s),u=l&&"u">typeof(null==global?void 0:global.Linking);try{let e,r,n=u?i4:i3;t=await this.client.core.crypto.encode(i,c,(e=cm({},a||{}),r={encoding:n},cd(e,ch(r))))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),e}try{r=await this.client.core.history.get(i,n)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),e}if(u){let e=sx(l,i,t);await global.Linking.openURL(e,this.client.name)}else{let e=r.request.method,n=o||cr[e].res;this.client.core.relayer.publish(i,t,n)}await this.client.core.history.resolve(c)}),cb(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;tl(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{tl(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),cb(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),cb(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),cb(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===cs)return void this.client.logger.info("Request queue already active, skipping...");for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=cs;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=ci}),cb(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:s}=e,a=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),cb(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),cb(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=sL("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),cb(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),cb(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:s,id:a}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError("proposal_listener_not_found")),this.isValidConnect(cm({},r.params));let o=s.expiryTimestamp||to(cr.wc_sessionPropose.req.ttl),l=cm({id:a,pairingTopic:t,expiryTimestamp:o,attestation:n,encryptedId:i},s);await this.setProposal(a,l);let c=await this.getVerifyContext({attestationId:n,hash:st(JSON.stringify(r)),encryptedId:i,metadata:l.proposer.metadata});e?.addTrace("emit_session_proposal"),this.client.events.emit("session_proposal",{id:a,params:l,verifyContext:c})}catch(e){await this.sendError({id:a,topic:t,error:e,rpcOpts:cr.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),cb(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if((0,av.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let a=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let o=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});let l=await this.client.core.crypto.generateSharedKey(a,o);this.pendingSessions.set(n,{sessionTopic:l,pairingTopic:e,proposalId:n,publicKey:a});let c=await this.client.core.relayer.subscribe(l,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else if((0,av.isJsonRpcError)(t)){await this.deleteProposal(n);let e=tc("session_connect",n);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),cb(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{let r,i;this.isValidSessionSettleRequest(n);let{relay:s,controller:a,expiry:o,namespaces:l,sessionProperties:c,scopedProperties:u,sessionConfig:d}=t.params,h=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!h)return this.client.logger.error(`Pending session not found for topic ${e}`);let f=this.client.proposal.get(h.proposalId),p=(r=cm(cm(cm({topic:e,relay:s,expiry:o,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},c&&{sessionProperties:c}),u&&{scopedProperties:u}),d&&{sessionConfig:d}),i={transportType:a$},cd(r,ch(i)));await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:p.peer.metadata}),this.client.events.emit("session_connect",{session:p}),this.events.emit(tc("session_connect",h.proposalId),{session:p}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),cb(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;(0,av.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(tc("session_approve",r),{})):(0,av.isJsonRpcError)(t)&&(await this.client.session.delete(e,s$("USER_DISCONNECTED")),this.events.emit(tc("session_approve",r),{error:t.error}))}),cb(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=s5.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:s$("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(cm({topic:e},r));try{s5.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw s5.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),cb(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),cb(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=tc("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,av.isJsonRpcResult)(t)?this.events.emit(tc("session_update",r),{}):(0,av.isJsonRpcError)(t)&&this.events.emit(tc("session_update",r),{error:t.error})}),cb(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,to(ct)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),cb(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=tc("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,av.isJsonRpcResult)(t)?this.events.emit(tc("session_extend",r),{}):(0,av.isJsonRpcError)(t)&&this.events.emit(tc("session_extend",r),{error:t.error})}),cb(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),cb(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=tc("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners 2176`);(0,av.isJsonRpcResult)(t)?this.events.emit(tc("session_ping",r),{}):(0,av.isJsonRpcError)(t)&&this.events.emit(tc("session_ping",r),{error:t.error})},500)}),cb(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(aD,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:s$("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),cb(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:s,attestation:a,encryptedId:o,transportType:l}=e,{id:c,params:u}=s;try{await this.isValidRequest(cm({topic:i},u));let e=this.client.session.get(i),s=await this.getVerifyContext({attestationId:a,hash:st(JSON.stringify((0,av.formatJsonRpcRequest)("wc_sessionRequest",u,c))),encryptedId:o,metadata:e.peer.metadata,transportType:l}),d={id:c,topic:i,params:u,verifyContext:s};await this.setPendingSessionRequest(d),l===aL&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(e){await this.sendError({id:c,topic:i,error:e}),this.client.logger.error(e)}}),cb(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=tc("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,av.isJsonRpcResult)(t)?this.events.emit(tc("session_request",r),{result:t.result}):(0,av.isJsonRpcError)(t)&&this.events.emit(tc("session_request",r),{error:t.error})}),cb(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=s5.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(cm({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),s5.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),cb(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,av.isJsonRpcResult)(t)?this.events.emit(tc("session_request",r),{result:t.result}):(0,av.isJsonRpcError)(t)&&this.events.emit(tc("session_request",r),{error:t.error})}),cb(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:s,transportType:a}=e;try{let{requester:e,authPayload:o,expiryTimestamp:l}=n.params,c=await this.getVerifyContext({attestationId:i,hash:st(JSON.stringify(n)),encryptedId:s,metadata:e.metadata,transportType:a}),u={requester:e,pairingTopic:r,id:n.id,authPayload:o,verifyContext:c,expiryTimestamp:l};await this.setAuthRequest(n.id,{request:u,pairingTopic:r,transportType:a}),a===aL&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:c})}catch(s){this.client.logger.error(s);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,a);await this.sendError({id:n.id,topic:r,error:s,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:cr.wc_sessionAuthenticate.autoReject,appLink:i})}}),cb(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),cb(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ci,this.processSessionRequestQueue()},(0,p.toMiliseconds)(this.requestQueueDelay))}),cb(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=tc("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(tc("session_request",e.request.id),{error:t})})}),cb(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===cs)return void this.client.logger.info("session request queue is already active.");let e=this.sessionRequestQueue.queue[0];if(!e)return void this.client.logger.info("session request queue is empty.");try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),cb(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=cs,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),cb(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,av.formatJsonRpcRequest)("wc_sessionPropose",cd(cm({},t),ch({requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties})),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),cb(this,"isValidConnect",async e=>{let t;if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,scopedProperties:a,relays:o}=e;if(sq(r)||await this.isValidPairingTopic(r),t=!1,o?o&&sz(o)&&o.length&&o.forEach(e=>{t=sJ(e)}):t=!0,!t){let{message:e}=sL("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}if(n&&!sq(n)&&0!==sF(n)){let e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(i&&!sq(i)&&0!==sF(i)&&this.validateNamespaces(i,"optionalNamespaces"),s&&!sq(s)&&this.validateSessionProps(s,"sessionProperties"),a&&!sq(a)){this.validateSessionProps(a,"scopedProperties");let e=Object.keys(n||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(t=>e.includes(t.split(":")[0])))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),cb(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let n=null;if(e&&sF(e)){let i,s=sG(e,t);s&&(n=s);let a=(i=null,Object.entries(e).forEach(([e,n])=>{var s,a;let o;if(i)return;let l=(s=eW(e,n),a=`${t} ${r}`,o=null,sz(s)&&s.length?s.forEach(e=>{o||sH(e)||(o=s$("UNSUPPORTED_CHAINS",`${a}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):sH(e)||(o=s$("UNSUPPORTED_CHAINS",`${a}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),o);l&&(i=l)}),i);a&&(n=a)}else n=sL("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)}),cb(this,"isValidApprove",async e=>{if(!sY(e))throw Error(sL("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let a=this.client.proposal.get(t),o=sZ(r,"approve()");if(o)throw Error(o.message);let l=sQ(a.requiredNamespaces,r,"approve()");if(l)throw Error(l.message);if(!sW(n,!0)){let{message:e}=sL("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(i&&!sq(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!sq(s)){this.validateSessionProps(s,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),cb(this,"isValidReject",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!r||"object"!=typeof r||!r.code||!sV(r.code,!1)||!r.message||!sW(r.message,!1)){let{message:e}=sL("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),cb(this,"isValidSessionSettleRequest",e=>{let t;if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:r,controller:n,namespaces:i,expiry:s}=e;if(!sJ(r)){let{message:e}=sL("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let a=(t=null,sW(n?.publicKey,!1)||(t=sL("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t);if(a)throw Error(a.message);let o=sZ(i,"onSessionSettleRequest()");if(o)throw Error(o.message);if(tl(s)){let{message:e}=sL("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),cb(this,"isValidUpdate",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=sZ(r,"update()");if(i)throw Error(i.message);let s=sQ(n.requiredNamespaces,r,"update()");if(s)throw Error(s.message)}),cb(this,"isValidExtend",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),cb(this,"isValidRequest",async e=>{var t;let r;if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:n,request:i,chainId:s,expiry:a}=e;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!sX(o,s)){let{message:e}=sL("MISSING_OR_INVALID",`request() chainId: ${s}`);throw Error(e)}if(sq(i)||!sW(i.method,!1)){let{message:e}=sL("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw Error(e)}if(!(sW(t=i.method,!1)&&(r=[],Object.values(o).forEach(e=>{sR(e.accounts).includes(s)&&r.push(...e.methods)}),r).includes(t))){let{message:e}=sL("MISSING_OR_INVALID",`request() method: ${i.method}`);throw Error(e)}if(a&&(!sV(a,!1)||!(a<=cn.max)||!(a>=cn.min))){let{message:e}=sL("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${cn.min} and ${cn.max}`);throw Error(e)}}),cb(this,"isValidRespond",async e=>{var t;if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(sq(n)||sq(n.result)&&sq(n.error)||!sV(n.id,!1)||!sW(n.jsonrpc,!1)){let{message:e}=sL("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}let i=this.client.pendingRequest.get(n.id);if(i.topic!==r){let{message:e}=sL("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${n.id}, expected topic: ${i.topic}, received topic: ${r}`);throw Error(e)}}),cb(this,"isValidPing",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),cb(this,"isValidEmit",async e=>{var t;let r;if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:n,event:i,chainId:s}=e;await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!sX(a,s)){let{message:e}=sL("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw Error(e)}if(sq(i)||!sW(i.name,!1)||!(sW(t=i.name,!1)&&(r=[],Object.values(a).forEach(e=>{sR(e.accounts).includes(s)&&r.push(...e.events)}),r).includes(t))){let{message:e}=sL("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw Error(e)}}),cb(this,"isValidDisconnect",async e=>{if(!sY(e)){let{message:t}=sL("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),cb(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!sW(r,!1))throw Error("uri is required parameter");if(!sW(n,!1))throw Error("domain is required parameter");if(!sW(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>eF(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=eF(t[0]);if("eip155"!==s)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),cb(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:s}=e,a={verified:{verifyUrl:i.verifyUrl||a0,validation:"UNKNOWN",origin:i.url||""}};try{if(s===aL){let e=this.getAppLinkIfEnabled(i,s);return a.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",a}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(a.verified.origin=e.origin,a.verified.isScam=e.isScam,a.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),cb(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=sL("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw Error(i)}})}),cb(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),cb(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),cb(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=sL("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),cb(this,"isLinkModeEnabled",(e,t)=>{var r,n,i,s,a,o,l,c,u;return!!e&&t===aL&&(null==(n=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:n.linkMode)===!0&&(null==(s=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:s.universal)!==void 0&&(null==(o=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:o.universal)!==""&&(null==(l=e?.redirect)?void 0:l.universal)!==void 0&&(null==(c=e?.redirect)?void 0:c.universal)!==""&&(null==(u=e?.redirect)?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==global?void 0:global.Linking)}),cb(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),cb(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=tf(e,"topic")||"",r=decodeURIComponent(tf(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:aL}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})}),cb(this,"registerLinkModeListeners",async()=>{var e;if(ty()||e5()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==global?void 0:global.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),cb(this,"getTVFParams",(e,t,r)=>{var n,i,s;if(!(null!=(n=t.request)&&n.method))return{};let a={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{a.txHashes=this.extractTxHashesFromResult(t.request,r),a.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return a}),cb(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),cb(this,"extractTxHashesFromResult",(e,t)=>{var r,n,i,s,a;try{if(!t)return[];let o=e.method,l=ca[o];if("sui_signTransaction"===o){let e,r,n,s;return[(i=t.transactionBytes,e=new Uint8Array(ez.from(i,"base64")),r=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),(n=new Uint8Array(r.length+e.length)).set(r),n.set(e,r.length),s=r$(n,{dkLen:32}),ea.A.encode(s))]}if("near_signTransaction"===o)return[rW(t)];if("near_signTransactions"===o)return t.map(e=>rW(e));if("xrpl_signTransactionFor"===o||"xrpl_signTransaction"===o)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===o){let r,i,s,a;return[(n={transaction:e.params.transactionPayload,signature:t.signature},s=Uint8Array.from(ez.from(n.signature,"hex")),a=function({publicKey:e,signature:t,payload:r}){var n,i,s;let a,o=s8(r.method),l=128|parseInt((null==(n=r.version)?void 0:n.toString())||"4"),c=(i=r.address,a=ea.A.decode(i)[0],42===a?0:60===a?2:1),u="00"===r.era?new Uint8Array([0]):s8(r.era);if(1!==u.length&&2!==u.length)throw Error("Invalid era length");let d=parseInt(r.nonce,16),h=new Uint8Array([255&d,d>>8&255]),f=new Uint8Array([0,...e,c,...t,...u,...h,...function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}(BigInt(`0x${(s=r.tip).startsWith("0x")?s.slice(2):s}`)),...o]);return new Uint8Array([...function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<0x40000000){let t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw Error("Compact encoding > 2^30 not supported")}(f.length+1),l,...f])}({publicKey:function(e){let t=ea.A.decode(e);if(t.length<33)throw Error("Too short to contain a public key");return t.slice(1,33)}(n.transaction.address),signature:s,payload:n.transaction}),r=s8(ez.from(a).toString("hex")),i=(0,ef.blake2b)(r,void 0,32),"0x"+ez.from(i).toString("hex"))]}if("algo_signTxn"===o)return sz(t)?t.map(e=>rV(e)):[rV(t)];if("cosmos_signDirect"===o){let e,r,n,i,s;return[(e=ez.from(t.signed.bodyBytes,"base64"),r=ez.from(t.signed.authInfoBytes,"base64"),n=ez.from(t.signature.signature,"base64"),(i=[]).push(ez.from([10])),i.push(rH(e.length)),i.push(e),i.push(ez.from([18])),i.push(rH(r.length)),i.push(r),i.push(ez.from([26])),i.push(rH(n.length)),i.push(n),s=rP(ez.concat(i)),ez.from(s).toString("hex").toUpperCase())]}if("wallet_sendCalls"===o){let e=[];try{if("string"==typeof t)return e.push(t),e;if("object"!=typeof t)return e;null!=t&&t.id&&e.push(t.id);let r=null==(a=null==(s=t?.capabilities)?void 0:s.caip345)?void 0:a.transactionHashes;r&&e.push(...r)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return e}if("string"==typeof t)return[t];let c=t[l.key];if(sz(c))return"solana_signAllTransactions"===o?c.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=ez.from(e,"base64").slice(1,65);return ea.A.encode(i)})(e)):c;if("string"==typeof c)return[c]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:e}=sL("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(aT,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(cc)?this.client.auth.authKeys.get(cc):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:i===aL?i4:i3});(0,av.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:st(r)})):(0,av.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(aQ,async e=>{let{topic:t,id:r}=ta(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,sL("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,sL("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(aH,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(aK,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!sW(e,!1)){let{message:t}=sL("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=sL("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(tl(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=sL("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!sW(e,!1)){let{message:t}=sL("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=sL("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(tl(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=sL("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=sL("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(sW(e,!1)){let{message:t}=sL("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=sL("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=sL("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=sL("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(tl(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=sL("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class cw extends lP{constructor(e,t){super(e,t,"proposal",l9),this.core=e,this.logger=t}}class c_ extends lP{constructor(e,t){super(e,t,"session",l9),this.core=e,this.logger=t}}class cx extends lP{constructor(e,t){super(e,t,"request",l9,e=>e.id),this.core=e,this.logger=t}}class cE extends lP{constructor(e,t){super(e,t,"authKeys",cl,()=>cc),this.core=e,this.logger=t}}class cI extends lP{constructor(e,t){super(e,t,"pairingTopics",cl),this.core=e,this.logger=t}}class cA extends lP{constructor(e,t){super(e,t,"requests",cl,e=>e.id),this.core=e,this.logger=t}}var cS=Object.defineProperty,ck=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?cS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class cC{constructor(e,t){this.core=e,this.logger=t,ck(this,"authKeys"),ck(this,"pairingTopics"),ck(this,"requests"),this.authKeys=new cE(this.core,this.logger),this.pairingTopics=new cI(this.core,this.logger),this.requests=new cA(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var cP=Object.defineProperty,cT=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?cP(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class cO extends ag{constructor(e){super(e),cT(this,"protocol","wc"),cT(this,"version",2),cT(this,"name",l4),cT(this,"metadata"),cT(this,"core"),cT(this,"logger"),cT(this,"events",new d.EventEmitter),cT(this,"engine"),cT(this,"session"),cT(this,"proposal"),cT(this,"pendingRequest"),cT(this,"auth"),cT(this,"signConfig"),cT(this,"on",(e,t)=>this.events.on(e,t)),cT(this,"once",(e,t)=>this.events.once(e,t)),cT(this,"off",(e,t)=>this.events.off(e,t)),cT(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),cT(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),cT(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),cT(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),cT(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||l4,this.metadata=function(e){var t,r;let n=e9();try{let i,s;return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),i=eX(eX({},n),e),s={url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons},eH(i,eK(s))}catch(t){return console.warn("Error populating app metadata",t),e||n}}(e?.metadata),this.signConfig=e?.signConfig;const t=s3({logger:e?.logger||"error",name:this.name});this.logger=t,this.core=e?.core||new l3(e),this.session=new c_(this.core,this.logger),this.proposal=new cw(this.core,this.logger),this.pendingRequest=new cx(this.core,this.logger),this.engine=new cv(this),this.auth=new cC(this.core,this.logger)}static async init(e){let t=new cO(e);return await t.initialize(),t}get context(){return ej(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var cR=r(49638),cD=r(60065).hp;function cN(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function cB(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function cU(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let cj="[object String]",cM="[object Number]",cL="[object Boolean]",c$="[object Arguments]";function cz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cF(e,t,r,n=new Map,i){let s=i?.(e,t,r,n);if(null!=s)return s;if(cN(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=cF(e[s],s,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[s,a]of(n.set(e,t),e))t.set(s,cF(a,s,r,n,i));return t}if(e instanceof Set){let t=new Set;for(let s of(n.set(e,t),e))t.add(cF(s,void 0,r,n,i));return t}if("u">typeof cD&&cD.isBuffer(e))return e.subarray();if(cz(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=cF(e[s],s,r,n,i);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),cq(t,e,r,n,i),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),cq(t,e,r,n,i),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),cq(t,e,r,n,i),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,cq(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(cU(e)){case c$:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case cL:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case cM:case"[object Object]":case"[object RegExp]":case"[object Set]":case cj:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),cq(t,e,r,n,i),t}return e}function cq(e,t,r=e,n,i){let s=[...Object.keys(t),...cB(t)];for(let a=0;a<s.length;a++){let o=s[a],l=Object.getOwnPropertyDescriptor(e,o);(null==l||l.writable)&&(e[o]=cF(t[o],o,r,n,i))}}function cW(e){var t;return t=(t,r,n,i)=>{let s;if(null!=s)return s;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case cM:case cj:case cL:{let t=new e.constructor(e?.valueOf());return cq(t,e),t}case c$:{let t={};return cq(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}},cF(e,void 0,e,new Map,t)}function cV(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===cU(e)}function cH(e){return"object"==typeof e&&null!==e}function cK(){}let cG="error",cZ="universal_provider",cJ=`wc@2:${cZ}:`,cY="https://rpc.walletconnect.org/v1/",cX="generic",cQ=`${cY}bundler`,c0="call_status",c1="default_chain_changed";var c2=Object.defineProperty,c6=Object.defineProperties,c5=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,c3=Object.prototype.hasOwnProperty,c4=Object.prototype.propertyIsEnumerable,c9=(e,t,r)=>t in e?c2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c7=(e,t)=>{for(var r in t||(t={}))c3.call(t,r)&&c9(e,r,t[r]);if(c8)for(var r of c8(t))c4.call(t,r)&&c9(e,r,t[r]);return e},ue=(e,t)=>c6(e,c5(t));function ut(e,t,r){var n;let i=eF(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${cY}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function ur(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function un(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>{var r,n;return(null==(r=t?.chains)?void 0:r.length)&&(null==(n=t?.chains)?void 0:n.length)>0}))}function ui(e={},t={}){return function(e,...t){return function(e,...t){let r=t.slice(0,-1),n=t[t.length-1],i=e;for(let e=0;e<r.length;e++)i=function e(t,r,n,i){if(cN(t)&&(t=Object(t)),null==r||"object"!=typeof r)return t;if(i.has(r))return function(e){if(cN(e))return e;if(Array.isArray(e)||cz(e)||e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}return"u">typeof File&&e instanceof File?new r([e],e.name,{type:e.type,lastModified:e.lastModified}):"object"==typeof e?Object.assign(Object.create(t),e):e}(i.get(r));if(i.set(r,t),Array.isArray(r)){r=r.slice();for(let e=0;e<r.length;e++)r[e]=r[e]??void 0}let s=[...Object.keys(r),...cB(r)];for(let a=0;a<s.length;a++){let o=s[a],l=r[o],c=t[o];if(cV(l)&&(l={...l}),cV(c)&&(c={...c}),"u">typeof cD&&cD.isBuffer(l)&&(l=cW(l)),Array.isArray(l))if("object"==typeof c&&null!=c){let e=[],t=Reflect.ownKeys(c);for(let r=0;r<t.length;r++){let n=t[r];e[n]=c[n]}c=e}else c=[];let u=n(c,l,o,t,r,i);null!=u?t[o]=u:Array.isArray(l)||cH(c)&&cH(l)?t[o]=e(c,l,n,i):null==c&&function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(l)?t[o]=e({},l,n,i):null==c&&cz(l)?t[o]=cW(l):(void 0===c||void 0!==l)&&(t[o]=l)}return t}(i,r[e],n,new Map);return i}(e,...t,cK)}(un(us(e)),un(us(t)))}function us(e){var t,r,n,i,s;let a={};if(!sF(e))return a;for(let[o,l]of Object.entries(e)){let e=sD(o)?[o]:l.chains,c=l.methods||[],u=l.events||[],d=l.rpcMap||{},h=sN(o);a[h]=ue(c7(c7({},a[h]),l),{chains:tu(e,null==(t=a[h])?void 0:t.chains),methods:tu(c,null==(r=a[h])?void 0:r.methods),events:tu(u,null==(n=a[h])?void 0:n.events)}),(sF(d)||sF((null==(i=a[h])?void 0:i.rpcMap)||{}))&&(a[h].rpcMap=c7(c7({},d),null==(s=a[h])?void 0:s.rpcMap))}return a}function ua(e){return e.includes(":")?e.split(":")[2]:e}function uo(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],s=n.accounts||[],a=sD(r)?[r]:n.chains?n.chains:ur(n.accounts);t[r]={chains:a,methods:e,events:i,accounts:s}}return t}function ul(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let uc={},uu=e=>uc[e],ud=(e,t)=>{uc[e]=t};var uh=Object.defineProperty,uf=Object.getOwnPropertySymbols,up=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,ug=(e,t,r)=>t in e?uh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,um=(e,t)=>{for(var r in t||(t={}))up.call(t,r)&&ug(e,r,t[r]);if(uf)for(var r of uf(t))uy.call(t,r)&&ug(e,r,t[r]);return e};let ub="eip155",uv=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],uw=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,u_=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,ux=e=>Object.keys(e).filter(e=>uv.includes(e)).reduce((t,r)=>(t[r]=uE(e[r]),t),{}),uE=e=>"string"==typeof e&&function(e){try{let t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch{return!1}}(e)?JSON.parse(e):e;var uI=Object.defineProperty;class uA{constructor(e){((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?uI(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return n||(n=new uA(e)),n}}var uS=Object.defineProperty,uk=Object.defineProperties,uC=Object.getOwnPropertyDescriptors,uP=Object.getOwnPropertySymbols,uT=Object.prototype.hasOwnProperty,uO=Object.prototype.propertyIsEnumerable,uR=(e,t,r)=>t in e?uS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;async function uD(e,t){let r,n=eF(e.result.capabilities.caip345.caip2),i=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(i.map(e=>uN(n.reference,e,t))),a=s.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);s.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));let o=!a.length||a.some(e=>!e),l=a.every(e=>e?.status==="0x1"),c=a.every(e=>e?.status==="0x0"),u=a.some(e=>e?.status==="0x0");return o?r=100:l?r=200:c?r=500:u&&(r=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:a,status:r}}async function uN(e,t,r){return await r(parseInt(e)).request((0,av.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}async function uB({sendCalls:e,storage:t}){let r=await t.getItem(c0);await t.setItem(c0,uk(((e,t)=>{for(var r in t||(t={}))uT.call(t,r)&&uR(e,r,t[r]);if(uP)for(var r of uP(t))uO.call(t,r)&&uR(e,r,t[r]);return e})({},r),uC({[e.result.id]:{request:e.request,result:e.result,expiry:to(86400)}})))}async function uU({resultId:e,storage:t}){let r=await t.getItem(c0);if(r){for(let n in delete r[e],await t.setItem(c0,r),r)tl(r[n].expiry)&&delete r[n];await t.setItem(c0,r)}}async function uj({resultId:e,storage:t}){let r=await t.getItem(c0),n=r?.[e];if(n&&!tl(n.expiry))return n;await uU({resultId:e,storage:t})}var uM=Object.defineProperty,uL=Object.defineProperties,u$=Object.getOwnPropertyDescriptors,uz=Object.getOwnPropertySymbols,uF=Object.prototype.hasOwnProperty,uq=Object.prototype.propertyIsEnumerable,uW=(e,t,r)=>t in e?uM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uV=(e,t)=>{for(var r in t||(t={}))uF.call(t,r)&&uW(e,r,t[r]);if(uz)for(var r of uz(t))uq.call(t,r)&&uW(e,r,t[r]);return e},uH=(e,t,r)=>uW(e,"symbol"!=typeof t?t+"":t,r);class uK{constructor(e){uH(this,"name","eip155"),uH(this,"client"),uH(this,"chainId"),uH(this,"namespace"),uH(this,"httpProviders"),uH(this,"events"),uH(this,"storage"),this.namespace=e.namespace,this.events=uu("events"),this.client=uu("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=uA.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);let r=this.chainId;this.chainId=parseInt(e),this.events.emit(c1,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||ut(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ab.F(new cR.V(r,uu("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(t.includes(":")?t.split(":")[1]:t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){let t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=uL(uV({},this.httpProviders),u$({[t]:this.createHttpProvider(t)})),this.httpProviders[t])}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n,i,s;let a,o=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0],l=(null==(i=null==(n=e.request)?void 0:n.params)?void 0:i[1])||[];if(!o)throw Error("Missing address parameter in `wallet_getCapabilities` request");let c=this.client.session.get(e.topic),u=(null==(s=c?.sessionProperties)?void 0:s.capabilities)||{},d=`${o}${l.join(",")}`,h=u?.[d];if(h)return h;try{a=((e,t,r)=>{let{sessionProperties:n={},scopedProperties:i={}}=e,s={};if(!sF(i)&&!sF(n))return;let a=ux(n);for(let e of r){let r=uw(e);if(!r)continue;s[u_(r)]=a;let n=i?.[`${ub}:${r}`];if(n){let e=n?.[`${ub}:${r}:${t}`];s[u_(r)]=um(um({},s[u_(r)]),ux(e||n))}}for(let[e,t]of Object.entries(s))0===Object.keys(t).length&&delete s[e];return Object.keys(s).length>0?s:void 0})(c,o,l)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(a)return a;let f=await this.client.request(e);try{let t,r,n,i;await this.client.session.update(e.topic,{sessionProperties:(n=uV({},c.sessionProperties||{}),i={capabilities:(t=uV({},u||{}),r={[d]:f},uL(t,u$(r)))},uL(n,u$(i)))})}catch(e){console.warn("Failed to update session with capabilities",e)}return f}async getCallStatus(e){var t,r,n;let i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){let t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let a=null==(r=i.sessionProperties)?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,a)}let o=await uj({resultId:null==(n=e.request.params)?void 0:n[0],storage:this.storage});if(o)try{return await uD(o,this.getHttpProvider.bind(this))}catch(e){console.warn("Failed to fetch call status from stored send calls",e,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,av.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${cQ}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,r,n;let i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],a=i?.id,o=i?.capabilities||{},l=null==(r=o?.caip345)?void 0:r.caip2,c=null==(n=o?.caip345)?void 0:n.transactionHashes;return a&&l&&null!=c&&c.length&&await uB({sendCalls:{request:s,result:i},storage:this.storage}),i}}var uG=Object.defineProperty,uZ=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?uG(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class uJ{constructor(e){uZ(this,"name",cX),uZ(this,"client"),uZ(this,"httpProviders"),uZ(this,"events"),uZ(this,"namespace"),uZ(this,"chainId"),this.namespace=e.namespace,this.events=uu("events"),this.client=uu("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);let r=this.chainId;this.chainId=e,this.events.emit(c1,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return eF(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,n;let i=eF(e),s=null==(n=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:n[`${i.namespace}:${i.reference}`];r[i.reference]=this.createHttpProvider(e,s)}),r}getHttpProvider(e){let t=eF(e).reference,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||ut(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ab.F(new cR.A(r,uu("disableProviderPing")))}}var uY=Object.defineProperty,uX=Object.defineProperties,uQ=Object.getOwnPropertyDescriptors,u0=Object.getOwnPropertySymbols,u1=Object.prototype.hasOwnProperty,u2=Object.prototype.propertyIsEnumerable,u6=(e,t,r)=>t in e?uY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u5=(e,t)=>{for(var r in t||(t={}))u1.call(t,r)&&u6(e,r,t[r]);if(u0)for(var r of u0(t))u2.call(t,r)&&u6(e,r,t[r]);return e},u8=(e,t,r)=>u6(e,"symbol"!=typeof t?t+"":t,r);class u3{constructor(e){var t,r;u8(this,"client"),u8(this,"namespaces"),u8(this,"optionalNamespaces"),u8(this,"sessionProperties"),u8(this,"scopedProperties"),u8(this,"events",new d),u8(this,"rpcProviders",{}),u8(this,"session"),u8(this,"providerOpts"),u8(this,"logger"),u8(this,"uri"),u8(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=s3({logger:null!=(t=e.logger)?t:cG,name:null!=(r=this.providerOpts.name)?r:cZ}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new u3(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:u5({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,av.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:s$("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=uo(this.session.namespaces);this.namespaces=ui(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){let{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));let n=await r();this.session=n;let i=uo(n.namespaces);return this.namespaces=ui(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(!sz(t))return;for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn(e,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await cO.init({core:this.providerOpts.core,logger:this.providerOpts.logger||cG,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{let e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>sN(e)))];ud("client",this.client),ud("events",this.events),ud("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session);if(t?.length===0)return;let r=ur(t),n=uX(u5({},ui(this.namespaces,this.optionalNamespaces)[e]),uQ({accounts:t,chains:r}));"eip155"===e?this.rpcProviders[e]=new uK({namespace:n}):this.rpcProviders[e]=new uJ({namespace:n})})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;let{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;let{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{event:i}=r;if("accountsChanged"===i.name){let e=i.data;e&&sz(e)&&this.events.emit("accountsChanged",e.map(ua))}else if("chainChanged"===i.name){let e=r.chainId,t=r.event.data,n=sN(e),i=ul(e)!==ul(t)?`${n}:${ul(t)}`:e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,n;if(e!==(null==(r=this.session)?void 0:r.topic))return;let{namespaces:i}=t,s=null==(n=this.client)?void 0:n.session.get(e);this.session=uX(u5({},s),uQ({namespaces:i})),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",uX(u5({},s$("USER_DISCONNECTED")),uQ({data:e.topic}))))}),this.on(c1,e=>{this.onChainChanged(uX(u5({},e),uQ({internal:!0})))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[cX]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t={},optionalNamespaces:r={},sessionProperties:n,scopedProperties:i}=e;this.optionalNamespaces=ui(t,r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>sN(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=sN(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:t,internal:r=!1}){if(!this.namespaces)return;let[n,i]=this.validateChain(e);i&&(this.updateNamespaceChain(n,i),r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,currentCaipChainId:e,previousCaipChainId:t})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:t,previousCaipChainId:r}){var n,i;try{if(r===t)return;let s=null==(i=null==(n=this.session)?void 0:n.namespaces[e])?void 0:i.accounts;if(!s)return;let a=s.filter(e=>e.includes(`${t}:`)).map(ua);if(!sz(a))return;this.events.emit("accountsChanged",a)}catch(e){this.logger.warn(e,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;let r=this.namespaces[e]?e:`${e}:${t}`;this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]={chains:[],methods:[],events:[],defaultChain:t}}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;let n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem(`${cJ}/${e}${n}`,t)}async getFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${cJ}/${e}${r}`)}async deleteFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${cJ}/${e}${r}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;for(let e of(await this.client.core.storage.getKeys()))e.startsWith(cJ)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn(e,"Failed to cleanup storage")}}}let u4=["eth_sendTransaction","personal_sign"],u9=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],u7=["chainChanged","accountsChanged"],de=["chainChanged","accountsChanged","message","disconnect","connect"],dt=async()=>{let{createAppKit:e}=await r.e(6029).then(r.bind(r,96029));return e};var dr=Object.defineProperty,dn=Object.defineProperties,di=Object.getOwnPropertyDescriptors,ds=Object.getOwnPropertySymbols,da=Object.prototype.hasOwnProperty,dl=Object.prototype.propertyIsEnumerable,dc=(e,t,r)=>t in e?dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,du=(e,t)=>{for(var r in t||(t={}))da.call(t,r)&&dc(e,r,t[r]);if(ds)for(var r of ds(t))dl.call(t,r)&&dc(e,r,t[r]);return e},dd=(e,t,r)=>dc(e,"symbol"!=typeof t?t+"":t,r);function dh(e){return Number(e[0].split(":")[1])}function df(e){return`0x${e.toString(16)}`}class dp{constructor(){dd(this,"events",new d.EventEmitter),dd(this,"namespace","eip155"),dd(this,"accounts",[]),dd(this,"signer"),dd(this,"chainId",1),dd(this,"modal"),dd(this,"rpc"),dd(this,"STORAGE_KEY","wc@2:ethereum_provider:"),dd(this,"on",(e,t)=>(this.events.on(e,t),this)),dd(this,"once",(e,t)=>(this.events.once(e,t),this)),dd(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),dd(this,"off",(e,t)=>(this.events.off(e,t),this)),dd(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){let t=new dp;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:r,optional:n}=function(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:a,rpcMap:o}=e;if(!sz(t))throw Error("Invalid chains");let l={chains:t,methods:n||u4,events:s||u7,rpcMap:du({},t.length?{[dh(t)]:o[dh(t)]}:{})},c=s?.filter(e=>!u7.includes(e)),u=n?.filter(e=>!u4.includes(e));if(!r&&!a&&!i&&!(null!=c&&c.length)&&!(null!=u&&u.length))return{required:t.length?l:void 0};let d={chains:[...new Set(c?.length&&u?.length||!r?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(null!=i&&i.length?i:u9))],events:[...new Set(l.events.concat(null!=a&&a.length?a:de))],rpcMap:o};return{required:t.length?l:void 0,optional:r.length?d:void 0}}(this.rpc);try{let t=await new Promise(async(t,i)=>{var s,a;let o,l;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(a=this.modal)||a.subscribeState(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),i(Error("Connection request reset. Please try again.")))}));let c=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect((o=du({namespaces:du({},r&&{[this.namespace]:r})},n&&{optionalNamespaces:{[this.namespace]:n}}),l={pairingTopic:e?.pairingTopic,scopedProperties:c},dn(o,di(l)))).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(Error(e.message))})});if(!t)return;let i=eq(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:df(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var r;if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{let r=await new Promise(async(r,n)=>{var i,s;let a,o;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),n(Error("Connection request reset. Please try again.")))})),await this.signer.authenticate((a=du({},e),o={chains:this.rpc.chains},dn(a,di(o))),t).then(e=>{r(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),n(Error(e.message))})}),n=r.session;if(n){let e=eq(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:df(this.chainId)})}return r}catch(e){throw this.signer.logger.error(e),e}finally{null==(r=this.modal)||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",df(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",dn(du({},s$("USER_DISCONNECTED")),di({data:e.topic,name:"USER_DISCONNECTED"})))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",df(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw Error("No chains specified in either `chains` or `optionalChains`");let a=n.length?e?.methods||u4:[],o=n.length?e?.events||u7:[],l=e?.optionalMethods||[],c=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),d=e?.qrModalOptions||void 0;return{chains:n?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:a,events:o,optionalMethods:l,optionalEvents:c,rpcMap:u,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:d,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?dh(this.rpc.chains):dh(this.rpc.optionalChains),this.signer=await u3.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let r,n,i,s,a=await dt(),{convertWCMToAppKitOptions:o}=await Promise.resolve().then(function(){return dS}),l=o((r=du({},this.rpc.qrModalOptions),n={chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId},dn(r,di(n))));if(!l.networks.length)throw Error("No networks found for WalletConnect\xb7");e=a((i=du({},l),s={universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:(null==(t=this.rpc.qrModalOptions)?void 0:t.enableMobileFullScreen)===!0},dn(i,di(s))))}catch(e){throw console.warn(e),Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:n}=e;t&&sz(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})),r&&sz(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}let dy=dp;var dg=Object.defineProperty,dm=Object.defineProperties,db=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,dw=Object.prototype.hasOwnProperty,d_=Object.prototype.propertyIsEnumerable,dx=(e,t,r)=>t in e?dg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dE=(e,t)=>{for(var r in t||(t={}))dw.call(t,r)&&dx(e,r,t[r]);if(dv)for(var r of dv(t))d_.call(t,r)&&dx(e,r,t[r]);return e};let dI=e=>{let[t,r]=e.split(":");return dA({id:r,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function dA(e){return dE({formatters:void 0,fees:void 0,serializers:void 0},e)}var dS=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,r,n,i,s,a,o;let l=null==(t=e.chains)?void 0:t.map(dI).filter(Boolean);if(0===l.length)throw Error("At least one chain must be specified");let c=l.find(t=>{var r;return t.id===(null==(r=e.defaultChain)?void 0:r.id)}),u={projectId:e.projectId,networks:l,themeMode:e.themeMode,themeVariables:function(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:c,metadata:dm(dE({},e.metadata),db({name:(null==(r=e.metadata)?void 0:r.name)||"WalletConnect",description:(null==(n=e.metadata)?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]})),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(a=e.mobileWallets)&&a.length||null!=(o=e.desktopWallets)&&o.length){let t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],r=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],n=t.filter(e=>!r.includes(e.id));n.length&&(u.customWallets=n)}return u},defineChain:dA})},14717:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>a,J8:()=>o,MU:()=>l});var n=r(30095),i=r(42213),s=r(34845);class a extends i.C{constructor({body:e,cause:t,details:r,headers:i,status:a,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${(0,s.I)(o)}`,e&&`Request body: ${(0,n.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=o}}i.C;class o extends i.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,s.I)(r)}`,`Request body: ${(0,n.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}i.C;class l extends i.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,s.I)(t)}`,`Request body: ${(0,n.A)(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}},14893:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(65936),i=r(38073),s=r(9643),a=r(65991);function o(e,t){let r=(0,n.useId)(),o=i.D.get(t),[l,c]=(0,s.y)(o,(0,n.useCallback)(e=>[o.selectors.isTop(e,r),o.selectors.inStack(e,r)],[o,r]));return(0,a.s)(()=>{if(e)return o.actions.push(r),()=>o.actions.pop(r)},[o,e,r]),!!e&&(!c||l)}},15097:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,t:()=>i});let n="0x6492649264926492649264926492649264926492649264926492649264926492",i="0x0000000000000000000000000000000000000000000000000000000000000000"},16216:(e,t,r)=>{"use strict";t.g=void 0;let n=r(24578);t.g=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let s=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),a=i("description","og:description","twitter:description","keywords"),o=t.origin;return{description:a,url:o,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:s}}},16339:(e,t,r)=>{"use strict";function n(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}r.d(t,{x:()=>n})},16350:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>o});let i="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));let o=function(e,t,r){if(i&&!t&&!e)return i();let o=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(o)}},16430:(e,t,r)=>{"use strict";r.d(t,{Sl:()=>i,X:()=>a,eV:()=>o,kK:()=>s});var n=r(56658);function i(e,t){if(n.Ej(e)>t)throw new n.u({givenSize:n.Ej(e),maxSize:t})}function s(e,t){if("number"==typeof t&&t>0&&t>n.Ej(e)-1)throw new n.ii({offset:t,position:"start",size:n.Ej(e)})}function a(e,t,r){if("number"==typeof t&&"number"==typeof r&&n.Ej(e)!==r-t)throw new n.ii({offset:r,position:"end",size:n.Ej(e)})}function o(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let s=e.replace("0x","");if(s.length>2*i)throw new n.Fl({size:Math.ceil(s.length/2),targetSize:i,type:"Hex"});return`0x${s["right"===r?"padEnd":"padStart"](2*i,"0")}`}},16676:(e,t,r)=>{"use strict";r.d(t,{BC:()=>c,Iz:()=>d,Ul:()=>h,nZ:()=>l});var n=r(82230),i=r(64450);function s(e,t){let[r,n]=e.split(RegExp(`((?!${t}).*)`));return[r,n]}function a(e,t){let r=BigInt(t.length),n=0n;for(let i of e)n*=r,n+=BigInt(t.indexOf(i));return n}var o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",l=()=>(0,i.xv)({getSizeFromValue:e=>{let[t,r]=s(e,o[0]);if(!r)return e.length;let n=a(r,o);return t.length+Math.ceil(n.toString(16).length/2)},write(e,t,r){if(!function(e,t,r=t){if(!t.match(RegExp(`^[${e}]*$`)))throw new n.tsw(n.mZ_,{alphabet:e,base:e.length,value:r})}(o,e),""===e)return r;let[i,l]=s(e,o[0]);if(!l)return t.set(new Uint8Array(i.length).fill(0),r),r+i.length;let c=a(l,o),u=[];for(;c>0n;)u.unshift(Number(c%256n)),c/=256n;let d=[...Array(i.length).fill(0),...u];return t.set(d,r),r+d.length}}),c=()=>(0,i.$C)({read(e,t){let r=0===t?e:e.slice(t);if(0===r.length)return["",0];let n=r.findIndex(e=>0!==e);n=-1===n?r.length:n;let i=o[0].repeat(n);return n===r.length?[i,e.length]:[i+function(e,t){let r=BigInt(t.length),n=[];for(;e>0n;)n.unshift(t[Number(e%r)]),e/=r;return n.join("")}(r.slice(n).reduce((e,t)=>256n*e+BigInt(t),0n),o),e.length]}}),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=()=>(0,i.xv)({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new n.tsw(n.mZ_,{alphabet:u,base:64,value:e})}},write(e,t,r){try{let n=atob(e).split("").map(e=>e.charCodeAt(0));return t.set(n,r),n.length+r}catch{throw new n.tsw(n.mZ_,{alphabet:u,base:64,value:e})}}}),h=()=>(0,i.$C)({read:(e,t=0)=>[btoa(String.fromCharCode(...e.slice(t))),e.length]})},16726:(e,t,r)=>{var n=r(60065).hp;let i=r(32352),s=r(68648),a={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},o={encodeData(e,t,r,a=!0){let o=["bytes32"],l=[this.hashType(e,r)];if(a){let c=(e,t,o)=>{if(void 0!==r[t])return["bytes32",null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,o,r,a))];if(void 0===o)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(o)];if("string"===t)return"string"==typeof o&&(o=n.from(o,"utf8")),["bytes32",i.keccak(o)];if(t.lastIndexOf("]")===t.length-1){let r=t.slice(0,t.lastIndexOf("[")),n=o.map(t=>c(e,r,t));return["bytes32",i.keccak(s.rawEncode(n.map(([e])=>e),n.map(([,e])=>e)))]}return[t,o]};for(let n of r[e]){let[e,r]=c(n.name,n.type,t[n.name]);o.push(e),l.push(r)}}else for(let s of r[e]){let e=t[s.name];if(void 0!==e)if("bytes"===s.type)o.push("bytes32"),e=i.keccak(e),l.push(e);else if("string"===s.type)o.push("bytes32"),"string"==typeof e&&(e=n.from(e,"utf8")),e=i.keccak(e),l.push(e);else if(void 0!==r[s.type])o.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,r,a)),l.push(e);else if(s.type.lastIndexOf("]")===s.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else o.push(s.type),l.push(e)}return s.rawEncode(o,l)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let i of n=[e].concat(n.sort())){if(!t[i])throw Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;for(let n of(r.push(e),t[e]))for(let e of this.findTypeDependencies(n.type,t,r))r.includes(e)||r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in a.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),s=[n.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&s.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(s))}};e.exports={TYPED_MESSAGE_SCHEMA:a,TypedDataUtils:o,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let r=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),n=e.map(function(e){return e.type}),a=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(Array(e.length).fill("string"),a),s.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return o.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return o.hash(e.data)}}},16891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(77097);n.__exportStar(r(55573),t),n.__exportStar(r(79052),t),n.__exportStar(r(95961),t),n.__exportStar(r(83045),t)},17158:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function i(e){return n(e)&&"tagName"in e}function s(e){return i(e)&&"accessKey"in e}function a(e){return i(e)&&"tabIndex"in e}function o(e){return i(e)&&"style"in e}function l(e){return s(e)&&"IFRAME"===e.nodeName}function c(e){return s(e)&&"INPUT"===e.nodeName}function u(e){return s(e)&&"LABEL"===e.nodeName}function d(e){return s(e)&&"FIELDSET"===e.nodeName}function h(e){return s(e)&&"LEGEND"===e.nodeName}function f(e){return!!i(e)&&e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]')}r.d(t,{A3:()=>c,Er:()=>d,Gu:()=>l,H5:()=>f,Jb:()=>h,Lk:()=>a,Ll:()=>n,kS:()=>u,pv:()=>o,sb:()=>s,vq:()=>i})},17916:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(38252),i=r(73634),s=r(94770),a=r(42213);function o(e){var t;return t=function(e){let t=!0,r="",n=0,i="",s=!1;for(let a=0;a<e.length;a++){let o=e[a];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function",""].includes(i))i="";else if(i+=o,")"===o){s=!0;break}continue}if(" "===o){","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!s)throw new a.C("Unable to normalize signature.");return i}("string"==typeof e?e:(0,s.B)(e)),(0,i.S)((0,n.ZJ)(t))}},18139:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return n(e)&&"method"in e}function s(e){return n(e)&&(a(e)||o(e))}function a(e){return"result"in e}function o(e){return"error"in e}r.d(t,{U$:()=>o,p3:()=>i,tq:()=>s,xT:()=>a})},18146:(e,t,r)=>{"use strict";let n,i;r.d(t,{Ac:()=>l,Ci:()=>u,FX:()=>y,mK:()=>c,oE:()=>g,v6:()=>p,zv:()=>b});var s=r(65936),a=r(16339),o=r(83879),l=((n=l||{})[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n),c=((i=c||{})[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i);function u(){let e,t,r=(e=(0,s.useRef)([]),t=(0,s.useCallback)(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]),(...r)=>{if(!r.every(e=>null==e))return e.current=r,t});return(0,s.useCallback)(e=>(function({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:a,mergeRefs:l}){l=null!=l?l:h;let c=f(t,e);if(s)return d(c,r,n,a,l);let u=null!=i?i:0;if(2&u){let{static:e=!1,...t}=c;if(e)return d(t,r,n,a,l)}if(1&u){let{unmount:e=!0,...t}=c;return(0,o.Y)(+!e,{0:()=>null,1:()=>d({...t,hidden:!0,style:{display:"none"}},r,n,a,l)})}return d(c,r,n,a,l)})({mergeRefs:r,...e}),[r])}function d(e,t={},r,n,i){let{as:o=r,children:l,refName:c="ref",...u}=m(e,["unmount","static"]),h=void 0!==e.ref?{[c]:e.ref}:{},p="function"==typeof l?l(t):l;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let y={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e)for(let e of(y["data-headlessui-state"]=r.join(" "),r))y[`data-${e}`]=""}if(b(o)&&(Object.keys(g(u)).length>0||Object.keys(g(y)).length>0))if(!(0,s.isValidElement)(p)||Array.isArray(p)&&p.length>1||b(p.type)){if(Object.keys(g(u)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(g(u)).concat(Object.keys(g(y))).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`))}else{var v;let e=p.props,t=null==e?void 0:e.className,r="function"==typeof t?(...e)=>(0,a.x)(t(...e),u.className):(0,a.x)(t,u.className),n=f(p.props,g(m(u,["ref"])));for(let e in y)e in n&&delete y[e];return(0,s.cloneElement)(p,Object.assign({},n,y,h,{ref:i((v=p,s.version.split(".")[0]>="19"?v.props.ref:v.ref),h.ref)},r?{className:r}:{}))}return(0,s.createElement)(o,Object.assign({},m(u,["ref"]),!b(o)&&h,!b(o)&&y),p)}function h(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function f(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])for(let e in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(r[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in r)Object.assign(t,{[e](t,...n){for(let i of r[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;i(t,...n)}}});return t}function p(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];for(let e in r)Object.assign(t,{[e](...t){for(let n of r[e])null==n||n(...t)}});return t}function y(e){var t;return Object.assign((0,s.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function g(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function m(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}function b(e){return e===s.Fragment||e===Symbol.for("react.fragment")}},19122:(e,t,r)=>{"use strict";r.d(t,{PW:()=>u,Tq:()=>_,Vm:()=>d,XF:()=>y,Xg:()=>p,hl:()=>h,jw:()=>f,o0:()=>w});var n,i,s=r(64450),a=r(16676),o=r(82230),l=r(92402);function c(){return n||(n=(0,a.nZ)()),n}function u(e){if(e.length<32||e.length>44)return!1;let t=c();try{return 32===t.encode(e).byteLength}catch{return!1}}function d(e){if(e.length<32||e.length>44)throw new o.tsw(o.VCG,{actualLength:e.length});let t=c().encode(e).byteLength;if(32!==t)throw new o.tsw(o.ncp,{actualLength:t})}function h(e){return d(e),e}function f(){return(0,s.FU)((0,s.Ns)(c(),32),e=>h(e))}function p(){return(0,s.pI)((i||(i=(0,a.BC)()),i),32)}function y(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}function g(e){let t=e%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn;return t>=0n?t:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn+t}function m(e,t){let r=e;for(;t-- >0n;)r*=r,r%=0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn;return r}var b=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function v({programAddress:e,seeds:t}){let r;if((0,l.cr)(),t.length>16)throw new o.tsw(o.R_T,{actual:t.length,maxSeeds:16});let n=t.reduce((e,t,n)=>{let i="string"==typeof t?(r||=new TextEncoder).encode(t):t;if(i.byteLength>32)throw new o.tsw(o.nNU,{actual:i.byteLength,index:n,maxSeedLength:32});return e.push(...i),e},[]),i=(0,s.mC)(f(),p()),a=i.encode(e),c=await crypto.subtle.digest("SHA-256",new Uint8Array([...n,...a,...b])),u=new Uint8Array(c);if(function(e){var t,r,n;let i,s,a,o,l,c,u,d,h,f,p,y,b,v,w,_,x,E,I,A,S,k,C;return 32===e.byteLength&&(i=e.reduce((e,t,r)=>{let n;return`${1===(n=(31===r?-129&t:t).toString(16)).length?`0${n}`:n}${e}`},""),t=BigInt(`0x${i}`),r=e[31],s=g(t*t),a=g(s-1n),o=g(0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n*s+1n),l=g(o*o*o),u=m(c=(n=a*g(l*l*o))*n%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn*n%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,2n)*c%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,d=m(u,1n)*n%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,h=m(d,5n)*d%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,f=m(h,10n)*h%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,p=m(f,20n)*f%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,y=m(p,40n)*p%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,b=m(y,80n)*y%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,v=m(b,80n)*y%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,w=m(v,10n)*h%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,_=g(a*l*(m(w,2n)*n%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn)),x=g(o*_*_),E=_,I=g(0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n*_),A=x===a,S=x===g(-a),k=x===g(-(0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n*a)),null!==(A&&(_=E),(S||k)&&(_=I),(1n&g(_))===1n&&(_=g(-_)),C=A||S?_:null)&&(0n!==C||(128&r)==0))}(u))throw new o.tsw(o.Ji6);return i.decode(u)}async function w({programAddress:e,seeds:t}){let r=255;for(;r>0;)try{return[await v({programAddress:e,seeds:[...t,new Uint8Array([r])]}),r]}catch(e){if((0,o.zbS)(e,o.Ji6))r--;else throw e}throw new o.tsw(o.Y0g)}async function _(e){if((0,l.sw)(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new o.tsw(o.xZX);let t=await crypto.subtle.exportKey("raw",e);return p().decode(new Uint8Array(t))}},19514:(e,t,r)=>{"use strict";r.d(t,{BX:()=>f,RO:()=>m,i5:()=>y,iW:()=>g,l9:()=>h});var n=r(19122),i=r(64450),s=r(33918),a=r(77020),o=r(82230),l=r(66010),c=r(16676),u=r(4080);function d(e){let t=Object.values(e);if(0===t.length)throw new o.tsw(o.BUQ);return t.map(e=>e||new Uint8Array(64).fill(0))}function h(){return(0,s.a5)([["signatures",(0,i.FU)((0,s.is)((0,i.Ns)((0,s.Im)(),64),{size:(0,a.tD)()}),d)],["messageBytes",(0,s.Im)()]])}function f(){return(0,i.vt)((0,s.ci)([["signatures",(0,s.O_)((0,i.pI)((0,s.EK)(),64),{size:(0,a.vU)()})],["messageBytes",(0,s.EK)()]]),p)}function p(e){let{messageBytes:t,signatures:r}=e,[c,u,d]=(0,s.xQ)([(0,l.N0)(),(0,i.iO)((0,a.eh)(),2),(0,s.O_)((0,n.Xg)(),{size:(0,a.vU)()})]).decode(t),h=d.slice(0,u);if(h.length!==r.length)throw new o.tsw(o.Ipf,{numRequiredSignatures:u,signaturesLength:r.length,signerAddresses:h});let f={};return h.forEach((e,t)=>{let n=r[t];n.every(e=>0===e)?f[e]=null:f[e]=n}),{messageBytes:t,signatures:Object.freeze(f)}}function y(e){let t,r=(0,l.rt)(e),n=(0,l.dU)().encode(r),i=r.staticAccounts.slice(0,r.header.numSignerAccounts),s={};for(let e of i)s[e]=null;return(0,l.q0)(e)?t={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:(0,l.vm)(e)&&(t={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address}),Object.freeze({...t?{lifetimeConstraint:t}:void 0,messageBytes:n,signatures:Object.freeze(s)})}async function g(e,t){let r,s;if(await Promise.all(e.map(async e=>{let a=await (0,n.Tq)(e.publicKey),o=t.signatures[a];if(void 0===o)return void(s||=new Set).add(a);if(s)return;let l=await (0,u.b_)(e.privateKey,t.messageBytes);null!==o&&(0,i.O6)(l,o)||((r||={})[a]=l)})),s&&s.size>0){let e=Object.keys(t.signatures);throw new o.tsw(o.Ngb,{expectedAddresses:e,unexpectedAddresses:[...s]})}return r?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...r})}):t}function m(e){let t=h().encode(e);return(0,c.Ul)().decode(t)}},19782:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(1296),i=r(58813);function s(e,t="wei"){return(0,i.J)(e,n.sz[t])}},19842:(e,t,r)=>{"use strict";r.d(t,{sc:()=>n});let n=r(85110).sc},21724:(e,t,r)=>{"use strict";r.d(t,{xW:()=>v,sH:()=>eq,dI:()=>eW});var n={};r.r(n),r.d(n,{identity:()=>T});var i={};r.r(i),r.d(i,{base2:()=>O});var s={};r.r(s),r.d(s,{base8:()=>R});var a={};r.r(a),r.d(a,{base10:()=>D});var o={};r.r(o),r.d(o,{base16:()=>N,base16upper:()=>B});var l={};r.r(l),r.d(l,{base32:()=>U,base32hex:()=>$,base32hexpad:()=>F,base32hexpadupper:()=>q,base32hexupper:()=>z,base32pad:()=>M,base32padupper:()=>L,base32upper:()=>j,base32z:()=>W});var c={};r.r(c),r.d(c,{base36:()=>V,base36upper:()=>H});var u={};r.r(u),r.d(u,{base58btc:()=>K,base58flickr:()=>G});var d={};r.r(d),r.d(d,{base64:()=>Z,base64pad:()=>J,base64url:()=>Y,base64urlpad:()=>X});var h={};r.r(h),r.d(h,{base256emoji:()=>er});var f={};r.r(f),r.d(f,{sha256:()=>ef,sha512:()=>ep});var p={};r.r(p),r.d(p,{identity:()=>ey});var y={};r.r(y),r.d(y,{code:()=>em,decode:()=>ev,encode:()=>eb,name:()=>eg});var g={};function m(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function b(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?m(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function v(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=b(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return m(r)}r.r(g),r.d(g,{code:()=>eE,decode:()=>eA,encode:()=>eI,name:()=>ex});let w=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw TypeError(s+" is ambiguous");r[a]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*a[h]>>>0,a[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===a[f];)f++;for(var p=new Uint8Array(n+(s-f)),y=n;f!==s;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*u+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],h=0,f=a-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let _=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class x{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class E{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return A(this,e)}}class I{constructor(e){this.decoders=e}or(e){return A(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let A=(e,t)=>new I({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new x(e,t,r),this.decoder=new E(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let k=({name:e,prefix:t,encode:r,decode:n})=>new S(e,t,r,n),C=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=w(r,t);return k({prefix:e,name:t,encode:n,decode:e=>_(i(e))})},P=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>k({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),o=0,l=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);l=l<<r|s,(o+=r)>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return a})(t,n,r,e)}),T=k({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)}),O=P({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),R=P({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),D=C({prefix:"9",name:"base10",alphabet:"0123456789"}),N=P({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B=P({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),U=P({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),j=P({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),M=P({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),L=P({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$=P({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),z=P({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),F=P({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),q=P({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),W=P({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),V=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),H=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),K=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),G=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Z=P({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),J=P({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Y=P({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X=P({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Q=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ee=Q.reduce((e,t,r)=>(e[r]=t,e),[]),et=Q.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),er=k({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ee[t],"")},decode:function(e){let t=[];for(let r of e){let e=et[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});function en(e,t,r){t=t||[];for(var n=r=r||0;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,en.bytes=r-n+1,t}function ei(e,t){var r,n=0,t=t||0,i=0,s=t,a=e.length;do{if(s>=a)throw ei.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return ei.bytes=s-t,n}let es=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10},ea=(e,t=0)=>[ei(e,t),ei.bytes],eo=(e,t,r=0)=>(en(e,t,r),t),el=(e,t)=>{let r=t.byteLength,n=es(e),i=n+es(r),s=new Uint8Array(i+r);return eo(e,s,0),eo(r,s,n),s.set(t,i),new ec(e,r,t,s)};class ec{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let eu=({name:e,code:t,encode:r})=>new ed(e,t,r);class ed{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?el(this.code,t):t.then(e=>el(this.code,e))}throw Error("Unknown type, must be binary type")}}let eh=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ef=eu({name:"sha2-256",code:18,encode:eh("SHA-256")}),ep=eu({name:"sha2-512",code:19,encode:eh("SHA-512")}),ey={code:0,name:"identity",encode:_,digest:e=>el(0,_(e))},eg="raw",em=85,eb=e=>_(e),ev=e=>_(e),ew=new TextEncoder,e_=new TextDecoder,ex="json",eE=512,eI=e=>ew.encode(JSON.stringify(e)),eA=e=>JSON.parse(e_.decode(e));class eS{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eB,byteLength:eB,code:eN,version:eN,multihash:eN,bytes:eN,_baseCache:eB,asCID:eB})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eT)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eO)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eS.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=el(e,t);return eS.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){var t,r;return e&&this.code===e.code&&this.version===e.version&&((t=this.multihash)===(r=e.multihash)||t.code===r.code&&t.size===r.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(t.bytes,r.bytes))}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eC(t,n,e||K.encoder):eP(t,n,e||U.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eU(/^0\.0/,ej),!!(e&&(e[eD]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eS)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new eS(t,r,n,i||eR(t,r,n.bytes))}if(null==e||!0!==e[eD])return null;{let{version:t,multihash:r,code:n}=e,i=(e=>{let t=_(e),[r,n]=ea(t),[i,s]=ea(t.subarray(n)),a=t.subarray(n+s);if(a.byteLength!==i)throw Error("Incorrect length");return new ec(r,i,a,t)})(r);return eS.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eT)return new eS(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eT}) block encoding`);case 1:{let n=eR(e,t,r.bytes);return new eS(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return eS.create(0,eT,e)}static createV1(e,t){return eS.create(1,e,t)}static decode(e){let[t,r]=eS.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eS.inspectBytes(e),r=t.size-t.multihashSize,n=_(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),s=new ec(t.multihashCode,t.digestSize,i,n);return[0===t.version?eS.createV0(s):eS.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ea(e.subarray(t));return t+=n,r},n=r(),i=eT;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let s=t,a=r(),o=r(),l=t+o;return{version:n,codec:i,multihashCode:a,digestSize:o,multihashSize:l-s,size:l}}static parse(e,t){let[r,n]=ek(e,t),i=eS.decode(n);return i._baseCache.set(r,e),i}}let ek=(e,t)=>{switch(e[0]){case"Q":{let r=t||K;return[K.prefix,r.decode(`${K.prefix}${e}`)]}case K.prefix:{let r=t||K;return[K.prefix,r.decode(e)]}case U.prefix:{let r=t||U;return[U.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eC=(e,t,r)=>{let{prefix:n}=r;if(n!==K.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},eP=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eT=112,eO=18,eR=(e,t,r)=>{let n=es(e),i=n+es(t),s=new Uint8Array(i+r.byteLength);return eo(e,s,0),eo(t,s,n),s.set(r,i),s},eD=Symbol.for("@ipld/js-cid/CID"),eN={writable:!1,configurable:!1,enumerable:!0},eB={writable:!1,enumerable:!1,configurable:!1},eU=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},ej=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eM={...n,...i,...s,...a,...o,...l,...c,...u,...d,...h};function eL(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...f,...p});let e$=eL("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ez=eL("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=b((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eF={utf8:e$,"utf-8":e$,hex:eM.base16,latin1:ez,ascii:ez,binary:ez,...eM};function eq(e,t="utf8"){let r=eF[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?m(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function eW(e,t="utf8"){let r=eF[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}},21999:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(50863),i=r(22706),s=r(83792);let a=e=>e.split("?")[0],o="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(97267);class l{constructor(e){if(this.url=e,this.events=new n.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{let i=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},a=new o(e,[],i);"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?a.onerror=e=>{n(this.emitError(e.error))}:a.on("error",e=>{n(this.emitError(e))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,s.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,s.parseConnectionError)(e,a(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${a(this.url)}`));return this.events.emit("register_error",t),t}}},22211:(e,t,r)=>{"use strict";r.d(t,{yH:()=>c});var n=r(76956),i=r(34244),s=r(53861),a=r(13437),o=r(16678);function l(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.NV({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.NV({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function c(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,a.P)(r,{strict:!1}))throw new n.M({address:r});if(t[r])throw new s.Hi({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:a}=e,c={};if(void 0!==a&&(c.code=a),void 0!==t&&(c.balance=(0,o.cK)(t)),void 0!==r&&(c.nonce=(0,o.cK)(r)),void 0!==n&&(c.state=l(n)),void 0!==i){if(c.state)throw new s.ft;c.stateDiff=l(i)}return c}(i)}return t}},22307:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},22353:(e,t,r)=>{"use strict";function n(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function s(e){if("function"!=typeof e)throw Error("function expected");return!0}function a(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function o(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function l(e){if(!Array.isArray(e))throw Error("array expected")}function c(e,t){if(!i(!0,t))throw Error(`${e}: array of strings expected`)}function u(e,t){if(!i(!1,t))throw Error(`${e}: array of numbers expected`)}function d(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function h(e){let t="string"==typeof e?e.split(""):e,r=t.length;c("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(l(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(l(t),t.map(t=>{a("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function f(e=""){return a("join",e),{encode:t=>(c("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function p(e,t="="){return o(e),a("padding",t),{encode(r){for(c("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){c("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function y(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(l(e),!e.length)return[];let n=0,i=[],s=Array.from(e,e=>{if(o(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),a=s.length;for(;;){let e=0,o=!0;for(let i=n;i<a;i++){let a=s[i],l=t*e,c=l+a;if(!Number.isSafeInteger(c)||l/t!==e||c-a!==l)throw Error("convertRadix: carry overflow");let u=c/r;e=c%r;let d=Math.floor(u);if(s[i]=d,!Number.isSafeInteger(d)||d*r+e!==c)throw Error("convertRadix: carry overflow");o&&(d?o=!1:n=i)}if(i.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}r.d(t,{K3:()=>x,RG:()=>_,tw:()=>E});let g=(e,t)=>0===t?e:g(t,e%t),m=(e,t)=>e+(t-g(e,t)),b=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function v(e,t,r,n){if(l(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(m(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${m(t,r)}`);let i=0,s=0,a=b[t],c=b[r]-1,u=[];for(let n of e){if(o(n),n>=a)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)u.push((i>>s-r&c)>>>0);let e=b[s];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-s&c,!n&&s>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&s>0&&u.push(i>>>0),u}function w(e,t=!1){if(o(e),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(m(8,e)>32||m(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw Error("radix2.encode input should be Uint8Array");return v(Array.from(r),8,e,!t)},decode:r=>(u("radix2.decode",r),Uint8Array.from(v(r,e,8,t)))}}let _=d(w(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p(5),f("")),x="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64?{encode:e=>((function(e,...t){if(!n(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)})(e),e.toBase64()),decode:e=>((e,t)=>{if(a("base64",e),e.length>0&&!(t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/).test(e))throw Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:t?"base64url":"base64",lastChunkHandling:"strict"})})(e,!1)}:d(w(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p(6),f("")),E=d((o(58),{encode:e=>{if(!n(e))throw Error("radix.encode input should be Uint8Array");return y(Array.from(e),256,58)},decode:e=>(u("radix.decode",e),Uint8Array.from(y(e,58,256)))}),h("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),f("")),I=d(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),f(""));"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex||s(e=>{if("string"!=typeof e||e.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})},22513:(e,t,r)=>{"use strict";r.d(t,{BH:()=>f,vB:()=>h,yM:()=>p});var n=r(5805),i=r(42213),s=r(41347),a=r(65906),o=r(99859),l=r(68549),c=r(16678),u=r(49336),d=r(69316);let h="0x5792579257925792579257925792579257925792579257925792579257925792",f=(0,c.cK)(0,{size:32});async function p(e,t){let{account:r=e.account,chain:p=e.chain,experimental_fallback:y,experimental_fallbackDelay:g=32,forceAtomic:m=!1,id:b,version:v="2.0.0"}=t,w=r?(0,n.J)(r):null,_=t.capabilities;e.dataSuffix&&!t.capabilities?.dataSuffix&&(_="string"==typeof e.dataSuffix?{...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:{...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});let x=t.calls.map(e=>{let t=e.abi?(0,a.p)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,o.xW)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,c.cK)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:m,calls:x,capabilities:_,chainId:(0,c.cK)(p.id),from:w?.address,id:b,version:v}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(r){if(y&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(_&&Object.values(_).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.L5(new i.C(e,{details:e}))}if(m&&x.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.jz(new i.C(e,{details:e}))}let t=[];for(let r of x){let n=(0,d.v)(e,{account:w,chain:p,data:r.data,to:r.to,value:r.value?(0,l.uU)(r.value):void 0});t.push(n),g>0&&await new Promise(e=>setTimeout(e,g))}let r=await Promise.allSettled(t);if(r.every(e=>"rejected"===e.status))throw r[0].reason;let n=r.map(e=>"fulfilled"===e.status?e.value:f);return{id:(0,o.xW)([...n,(0,c.cK)(p.id,{size:32}),h])}}throw(0,u.p)(r,{...t,account:w,chain:t.chain})}}},22706:(e,t,r)=>{"use strict";function n(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)}catch(t){return e}}function i(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)||""}r.d(t,{h:()=>i,j:()=>n})},22909:(e,t,r)=>{"use strict";let n;r.d(t,{$x:()=>c,El:()=>l,O_:()=>o,Uw:()=>a});var i=r(65936);let s=(0,i.createContext)(null);s.displayName="OpenClosedContext";var a=((n=a||{})[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n);function o(){return(0,i.useContext)(s)}function l({value:e,children:t}){return i.createElement(s.Provider,{value:e},t)}function c({children:e}){return i.createElement(s.Provider,{value:null},e)}},23439:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},23667:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(41216),i=r(37585),s=r(27860),a=r(60065).hp;async function o(e,t){let r=i(t);if(void 0===r)throw new s.wE({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=a.from(r).toString("base64"),{signature:o}=await e({message:n});return{signature:o}}async function l(e,t,{wallet_id:r,...i}){let s={version:1,url:e.getCompiledPath(n.H_,{params:{wallet_id:r}}),method:n.H_.method,headers:{"privy-app-id":e.app.appId},body:{...i}},{signature:a}=await o(t,s);return await e.fetchPrivyRoute(n.H_,{body:i,params:{wallet_id:r},headers:{"privy-authorization-signature":a}})}},23797:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(5805),i=r(90943),s=r(98588);async function a(e,t){let{account:r=e.account,domain:a,message:o,primaryType:l}=t;if(!r)throw new i.T({docsPath:"/docs/actions/wallet/signTypedData"});let c=(0,n.J)(r),u={EIP712Domain:(0,s.H4)({domain:a}),...t.types};if((0,s.$$)({domain:a,message:o,primaryType:l,types:u}),c.signTypedData)return c.signTypedData({domain:a,message:o,primaryType:l,types:u});let d=(0,s.v8)({domain:a,message:o,primaryType:l,types:u});return e.request({method:"eth_signTypedData_v4",params:[c.address,d]},{retryCount:0})}},24578:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},26027:(e,t,r)=>{"use strict";r.d(t,{OT:()=>l});var n=r(30019);let i=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}(),s=i.fetch?(...e)=>i.fetch(...e):()=>Promise.reject(Error("[ofetch] global.fetch is not supported!")),a=i.Headers,o=i.AbortController,l=(0,n.c)({fetch:s,Headers:a,AbortController:o})},26983:(e,t,r)=>{"use strict";r.d(t,{Bv:()=>a,bm:()=>o});var n=r(16678),i=r(4932);let s={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function a(e,t){let r={};return void 0!==e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.cK)(BigInt(e.r)):e.r,s:e.s?(0,n.cK)(BigInt(e.s)):e.s,chainId:(0,n.cK)(e.chainId),nonce:(0,n.cK)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.cK)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.cK)(e.v)}:{}}))),void 0!==e.accessList&&(r.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?r.blobs=e.blobs.map(e=>(0,n.My)(e)):r.blobs=e.blobs),void 0!==e.data&&(r.data=e.data),e.account&&(r.from=e.account.address),void 0!==e.from&&(r.from=e.from),void 0!==e.gas&&(r.gas=(0,n.cK)(e.gas)),void 0!==e.gasPrice&&(r.gasPrice=(0,n.cK)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(r.maxFeePerBlobGas=(0,n.cK)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(r.maxFeePerGas=(0,n.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=(0,n.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(r.nonce=(0,n.cK)(e.nonce)),void 0!==e.to&&(r.to=e.to),void 0!==e.type&&(r.type=s[e.type]),void 0!==e.value&&(r.value=(0,n.cK)(e.value)),r}let o=(0,i.q)("transactionRequest",a)},26986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},27860:(e,t,r)=>{"use strict";r.d(t,{VQ:()=>n,gn:()=>s,wE:()=>i});class n extends Error{constructor({error:e,code:t}){super(e),this.error=e,this.code=t}}class i extends Error{constructor({error:e,code:t}){super(e),this.code=t,this.error=e}}class s extends Error{constructor({error:e,code:t,response:r}){super(e),this.code=t,this.error=e,this.response=r}}},28779:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var n=r(5805),i=r(90943),s=r(65906),a=r(10106),o=r(85436),l=r(69316);async function c(e,t){return c.internal(e,l.v,"sendTransaction",t)}(c||(c={})).internal=async function(e,t,r,l){let{abi:c,account:u=e.account,address:d,args:h,functionName:f,...p}=l;if(void 0===u)throw new i.T({docsPath:"/docs/contract/writeContract"});let y=u?(0,n.J)(u):null,g=(0,s.p)({abi:c,args:h,functionName:f});try{return await (0,o.T)(e,t,r)({data:g,to:d,account:y,...p})}catch(e){throw(0,a.j)(e,{abi:c,address:d,args:h,docsPath:"/docs/contract/writeContract",functionName:f,sender:y?.address})}}},30095:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},30392:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},30460:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>I,FO:()=>y,If:()=>_,Ji:()=>d,Rv:()=>l,WL:()=>p,Yo:()=>b,ej:()=>h,fC:()=>A,iB:()=>c,kz:()=>a,l9:()=>m,pc:()=>s,sP:()=>E,v7:()=>S,v8:()=>w});var n=r(75104);let i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(e){return i.test(e)}function a(e){return(0,n.Yv)(i,e)}let o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function l(e){return o.test(e)}function c(e){return(0,n.Yv)(o,e)}let u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function h(e){return(0,n.Yv)(u,e)}let f=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return f.test(e)}function y(e){return(0,n.Yv)(f,e)}let g=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function m(e){return g.test(e)}function b(e){return(0,n.Yv)(g,e)}let v=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function w(e){return v.test(e)}function _(e){return(0,n.Yv)(v,e)}let x=/^receive\(\) external payable$/;function E(e){return x.test(e)}let I=new Set(["memory","indexed","storage","calldata"]),A=new Set(["indexed"]),S=new Set(["calldata","memory","storage"])},30782:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(5805),i=r(84984);function s(e){let{batch:t,chain:r,ccipRead:s,dataSuffix:a,key:o="base",name:l="Base Client",type:c="base"}=e,u=e.experimental_blockTag??("number"==typeof r?.experimental_preconfirmationTime?"pending":void 0),d=Math.min(Math.max(Math.floor((r?.blockTime??12e3)/2),500),4e3),h=e.pollingInterval??d,f=e.cacheTime??h,p=e.account?(0,n.J)(e.account):void 0,{config:y,request:g,value:m}=e.transport({account:p,chain:r,pollingInterval:h}),b={account:p,batch:t,cacheTime:f,ccipRead:s,chain:r,dataSuffix:a,key:o,name:l,pollingInterval:h,request:g,transport:{...y,...m},type:c,uid:(0,i.L)(),...u?{experimental_blockTag:u}:{}};return Object.assign(b,{extend:function e(t){return r=>{let n=r(t);for(let e in b)delete n[e];let i={...t,...n};return Object.assign(i,{extend:e(i)})}}(b)})}},31070:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(5805),i=r(57059),s=r(76956),a=r(1176),o=r(13437);function l(e){let{account:t,maxFeePerGas:r,maxPriorityFeePerGas:l,to:c}=e,u=t?(0,n.J)(t):void 0;if(u&&!(0,o.P)(u.address))throw new s.M({address:u.address});if(c&&!(0,o.P)(c))throw new s.M({address:c});if(r&&r>i.Ao)throw new a.BG({maxFeePerGas:r});if(l&&r&&l>r)throw new a.lN({maxFeePerGas:r,maxPriorityFeePerGas:l})}},31182:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,b:()=>l});var n=r(51804),i=r(68549),s=r(85436),a=r(55015),o=r(94120);async function l(e,t){return c(e,t)}async function c(e,t){let{block:r,chain:l=e.chain,request:c}=t||{};try{let t=l?.fees?.maxPriorityFeePerGas??l?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await (0,s.T)(e,a.g,"getBlock")({}),i=await t({block:n,client:e,request:c});if(null===i)throw Error();return i}if(void 0!==t)return t;let n=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.uU)(n)}catch{let[t,i]=await Promise.all([r?Promise.resolve(r):(0,s.T)(e,a.g,"getBlock")({}),(0,s.T)(e,o.L,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new n.pw;let l=i-t.baseFeePerGas;if(l<0n)return 0n;return l}}},32352:(e,t,r)=>{var n=r(60065).hp;let{keccak_256:i}=r(67120);function s(e){return n.allocUnsafe(e).fill(0)}function a(e,t){let r=e.toString(16);r.length%2!=0&&(r="0"+r);let i=r.match(/.{1,2}/g).map(e=>parseInt(e,16));for(;i.length<t;)i.unshift(0);return n.from(i)}function o(e,t,r){let n=s(t);return(e=l(e),r)?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function l(e){if(!n.isBuffer(e))if(Array.isArray(e))e=n.from(e);else if("string"==typeof e){var t;e=c(e)?n.from((t=u(e)).length%2?"0"+t:t,"hex"):n.from(e)}else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=n.allocUnsafe(0);else if("bigint"==typeof e)e=a(e);else if(e.toArray)e=n.from(e.toArray());else throw Error("invalid type");return e}function c(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function u(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:s,setLength:o,setLengthRight:function(e,t){return o(e,t,!0)},isHexString:c,stripHexPrefix:u,toBuffer:l,bufferToHex:function(e){return"0x"+(e=l(e)).toString("hex")},keccak:function(e,t){if(e=l(e),t||(t=256),256!==t)throw Error("unsupported");return n.from(i(new Uint8Array(e)))},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:a,twosFromBigInt:function(e,t){return(e<0n?(~e&(1n<<BigInt(t))-1n)+1n:e)&(1n<<BigInt(t))-1n}}},32551:(e,t,r)=>{"use strict";r.d(t,{q:()=>c});var n=r(68549),i=r(85436),s=r(72182),a=r(46403),o=r(30095),l=r(47866);function c(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:c,onError:u,poll:d,pollingInterval:h=e.pollingInterval}){let f,p,y;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(p=(0,o.A)(["watchBlockNumber",e.uid,t,r,h]),(0,s.lB)(p,{onBlockNumber:c,onError:u},n=>(0,a.w)(async()=>{try{let t=await (0,i.T)(e,l.G,"getBlockNumber")({cacheTime:0});if(void 0!==f){if(t===f)return;if(t-f>1&&r)for(let e=f+1n;e<t;e++)n.onBlockNumber(e,f),f=e}(void 0===f||t>f)&&(n.onBlockNumber(t,f),f=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:h}))):(y=(0,o.A)(["watchBlockNumber",e.uid,t,r]),(0,s.lB)(y,{onBlockNumber:c,onError:u},t=>{let r=!0,i=()=>r=!1;return(async()=>{try{let s=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!r)return;let i=(0,n.uU)(e.result?.number);t.onBlockNumber(i,f),f=i},onError(e){t.onError?.(e)}});i=a,r||i()}catch(e){u?.(e)}})(),()=>i()}))}},32709:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,s){if("undefined"!=typeof document){"number"==typeof(s=n({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in s)s[o]&&(a+="; "+o,!0!==s[o]&&(a+="="+s[o].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var s=r[i].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=t.read(a,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},33191:(e,t,r)=>{"use strict";e.exports=r(34397)},33297:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(68549),i=r(16678);async function s(e,{address:t,blockTag:r="latest",blockNumber:s}){let a=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof s?(0,i.cK)(s):r]},{dedupe:!!s});return(0,n.ME)(a)}},33668:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n=e=>window.open(e?.location,void 0,(({w:e,h:t})=>{let r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(i-e)/2/(i/window.screen.availWidth)+r},top=${(s-t)/2/(s/window.screen.availHeight)+n}`})({w:440,h:680}))},33759:(e,t,r)=>{"use strict";r.d(t,{A9:()=>i,NO:()=>o,Pj:()=>l,dV:()=>s,nx:()=>c,zd:()=>a});var n=r(7506);n.C;class i extends n.C{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class s extends n.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class a extends n.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class o extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class l extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class c extends n.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},33918:(e,t,r)=>{"use strict";r.d(t,{EK:()=>f,Im:()=>h,J8:()=>p,O_:()=>u,a5:()=>b,ci:()=>v,is:()=>c,md:()=>g,xQ:()=>y});var n=r(64450),i=r(77020),s=r(82230);function a(e){return e.reduce((e,t)=>null===e||null===t?null:e+t,0)}function o(e){return(0,n.Sc)(e)?e.fixedSize:null}function l(e){return(0,n.Sc)(e)?e.fixedSize:e.maxSize??null}function c(e,t={}){let r=t.size??(0,i.PL)(),a=d(r,o(e)),u=d(r,l(e))??void 0;return(0,n.xv)({...null!==a?{fixedSize:a}:{getSizeFromValue:t=>("object"==typeof r?(0,n.QM)(t.length,r):0)+[...t].reduce((t,r)=>t+(0,n.QM)(r,e),0),maxSize:u},write:(t,n,i)=>("number"==typeof r&&function(e,t,r){if(t!==r)throw new s.tsw(s.lUj,{actual:r,codecDescription:e,expected:t})}("array",r,t.length),"object"==typeof r&&(i=r.write(t.length,n,i)),t.forEach(t=>{i=e.write(t,n,i)}),i)})}function u(e,t={}){let r=t.size??(0,i.VI)(),s=d(r,o(e)),a=d(r,l(e))??void 0;return(0,n.$C)({...null!==s?{fixedSize:s}:{maxSize:a},read:(t,n)=>{let i=[];if("object"==typeof r&&0===t.slice(n).length)return[i,n];if("remainder"===r){for(;n<t.length;){let[r,s]=e.read(t,n);n=s,i.push(r)}return[i,n]}let[s,a]="number"==typeof r?[r,n]:r.read(t,n);n=a;for(let r=0;r<s;r+=1){let[r,s]=e.read(t,n);n=s,i.push(r)}return[i,n]}})}function d(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function h(){return(0,n.xv)({getSizeFromValue:e=>e.length,write:(e,t,r)=>(t.set(e,r),r+e.length)})}function f(){return(0,n.$C)({read:(e,t)=>{let r=e.slice(t);return[r,t+r.length]}})}function p(e){return(0,n.xv)({fixedSize:e.length,write:(t,r,n)=>(r.set(e,n),n+e.length)})}function y(e){let t=a(e.map(o)),r=a(e.map(l))??void 0;return(0,n.$C)({...null===t?{maxSize:r}:{fixedSize:t},read:(t,r)=>{let n=[];return e.forEach(e=>{let[i,s]=e.read(t,r);n.push(i),r=s}),[n,r]}})}function g(e,t){let r=function(e){if(0===e.length)return 0;if(!(0,n.Sc)(e[0]))return null;let t=e[0].fixedSize;return e.every(e=>(0,n.Sc)(e)&&e.fixedSize===t)?t:null}(e),i=(r,n,i)=>{let s=t(r);return m(e,s),e[s].write(r,n,i)};if(null!==r)return(0,n.xv)({fixedSize:r,write:i});let s=e.map(e=>l(e)).reduce((e,t)=>null===e||null===t?null:Math.max(e,t),0);return(0,n.xv)({...null!==s?{maxSize:s}:{},getSizeFromValue:r=>{let i=t(r);return m(e,i),(0,n.QM)(r,e[i])},write:i})}function m(e,t){if(void 0===e[t])throw new s.tsw(s.bg4,{maxRange:e.length-1,minRange:0,variant:t})}function b(e){let t=e.map(([,e])=>e),r=a(t.map(o)),i=a(t.map(l))??void 0;return(0,n.xv)({...null===r?{getSizeFromValue:t=>e.map(([e,r])=>(0,n.QM)(t[e],r)).reduce((e,t)=>e+t,0),maxSize:i}:{fixedSize:r},write:(t,r,n)=>(e.forEach(([e,i])=>{n=i.write(t[e],r,n)}),n)})}function v(e){let t=e.map(([,e])=>e),r=a(t.map(o)),i=a(t.map(l))??void 0;return(0,n.$C)({...null===r?{maxSize:i}:{fixedSize:r},read:(t,r)=>{let n={};return e.forEach(([e,i])=>{let[s,a]=i.read(t,r);r=a,n[e]=s}),[n,r]}})}},33980:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});class n extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}}},34226:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(55467),i=r(59670),s=r(45855),a=r(92751),o=r(69435),l=r(36487);function c(e){let{abi:t,data:r}=e,c=(0,s.di)(r,0,4);if("0x"===c)throw new i.O;let u=[...t||[],n.Mc,n.J9].find(e=>"error"===e.type&&c===(0,a.V)((0,l.B)(e)));if(!u)throw new i.Wq(c,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,o.n)(u.inputs,(0,s.di)(r,4)):void 0,errorName:u.name}}},34397:(e,t,r)=>{"use strict";var n=r(65936),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,a=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,u){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=s(e,(d=l(function(){function e(e){if(!o){if(o=!0,s=e,e=n(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var r=n(e);return void 0!==u&&u(t,r)?(s=e,t):(s=e,a=r)}var s,a,o=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,u]))[0],d[1]);return o(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}},34533:(e,t,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},34815:(e,t,r)=>{"use strict";r.d(t,{IX:()=>u,Rx:()=>f,v:()=>p});var n=r(13209),i=r(29027),s=r(49038),a=r(89983),o=r(20618),l=r(90510),c=r(41095);let u={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}},d=new Set([n.r.id,i.D.id,s.E.id,a.n.id,o.m.id,l.A.id]),h=new Set([n.r.id,i.D.id,c.R.id,s.E.id,a.n.id,o.m.id]);function f(e,t){switch(t){case"native-currency":return d.has(e);case"USDC":return h.has(e);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function p(e,t){switch(e){case i.D.id:return"native-currency"===t?"ETH_ARBITRUM":"USDC_ARBITRUM";case o.m.id:return"native-currency"===t?"AVAX_CCHAIN":"USDC_CCHAIN";case s.E.id:return"native-currency"===t?"ETH_BASE":"USDC_BASE";case l.A.id:return"CELO_CELO";case a.n.id:return"native-currency"===t?"MATIC_POLYGON":"USDC_POLYGON";case n.r.id:return"native-currency"===t?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}},34845:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,R:()=>n});let n=e=>e,i=e=>e},35251:(e,t,r)=>{"use strict";r.d(t,{PK:()=>l,iq:()=>s,uP:()=>o,zF:()=>a});var n=r(80044),i=r(42213);class s extends i.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class a extends i.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class o extends i.C{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class l extends i.C{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${n.E}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}},35640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(77097);n.__exportStar(r(34533),t),n.__exportStar(r(1183),t)},35790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},36345:(e,t,r)=>{let n=r(69112);function i(e,t,r){let n=e[t]+e[r],i=e[t+1]+e[r+1];n>=0x100000000&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){let i=e[t]+r;r<0&&(i+=0x100000000);let s=e[t+1]+n;i>=0x100000000&&s++,e[t]=i,e[t+1]=s}function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,r,n,a,o){let l=d[a],c=d[a+1],h=d[o],f=d[o+1];i(u,e,t),s(u,e,l,c);let p=u[n]^u[e],y=u[n+1]^u[e+1];u[n]=y,u[n+1]=p,i(u,r,n),p=u[t]^u[r],y=u[t+1]^u[r+1],u[t]=p>>>24^y<<8,u[t+1]=y>>>24^p<<8,i(u,e,t),s(u,e,h,f),p=u[n]^u[e],y=u[n+1]^u[e+1],u[n]=p>>>16^y<<16,u[n+1]=y>>>16^p<<16,i(u,r,n),p=u[t]^u[r],y=u[t+1]^u[r+1],u[t]=y>>>31^p<<1,u[t+1]=p>>>31^y<<1}let l=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){let r=0;for(r=0;r<16;r++)u[r]=e.h[r],u[r+16]=l[r];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/0x100000000,t&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)d[r]=a(e.b,4*r);for(r=0;r<12;r++)o(0,8,16,24,c[16*r+0],c[16*r+1]),o(2,10,18,26,c[16*r+2],c[16*r+3]),o(4,12,20,28,c[16*r+4],c[16*r+5]),o(6,14,22,30,c[16*r+6],c[16*r+7]),o(0,10,20,30,c[16*r+8],c[16*r+9]),o(2,12,22,24,c[16*r+10],c[16*r+11]),o(4,14,16,26,c[16*r+12],c[16*r+13]),o(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^u[r]^u[r+16]}let f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,n){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,r&&f.set(r,32),n&&f.set(n,48);for(let e=0;e<16;e++)i.h[e]=l[e]^a(f,4*e);return t&&(y(i,t),i.c=128),i}function y(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function m(e,t,r,i,s){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),s&&(s=n.normalizeInput(s));let a=p(r,t,i,s);return y(a,e),g(a)}e.exports={blake2b:m,blake2bHex:function(e,t,r,i,s){let a=m(e,t,r,i,s);return n.toHex(a)},blake2bInit:p,blake2bUpdate:y,blake2bFinal:g}},36487:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,B:()=>i});var n=r(59670);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.d_(e.type);return`${e.name}(${s(e.inputs,{includeName:t})})`}function s(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${s(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}},36501:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(42213);class i extends n.C{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}},36550:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(65936),i=r(58037);function s(){let[e]=(0,n.useState)(i.e);return(0,n.useEffect)(()=>()=>e.dispose(),[e]),e}},36688:(e,t,r)=>{"use strict";function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):null===e.blockTimestamp?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}r.d(t,{e:()=>n})},36983:(e,t,r)=>{"use strict";r.d(t,{a:()=>o,g:()=>a});var n=r(9587),i=r(92658),s=r(86249);let a=(e,t,r,a)=>{let l=Number(e),c=t.find(e=>e.id===l);if(!c)throw new s.P(`Unsupported chainId ${e}`,4901);return(0,n.l)({transport:(0,i.L)(o(c,r,a.appId)),chain:c})},o=(e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new s.P(`No RPC url found for ${i}`);return n}},37585:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw Error("Infinity is not allowed");if(null===t||"object"!=typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){let r=t.reduce((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`,"");return`[${r}]`}let r=Object.keys(t).sort().reduce((r,n)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;let i=0===r.length?"":",";return`${r}${i}${e(n)}:${e(t[n])}`},"");return`{${r}}`}},38073:(e,t,r)=>{"use strict";let n;r.d(t,{D:()=>h,Q:()=>c});var i=r(13029),s=r(33980),a=r(83879),o=Object.defineProperty,l=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?o(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r},c=((n=c||{})[n.Push=0]="Push",n[n.Pop=1]="Pop",n);let u={0(e,t){let r=t.id,n=e.stack,i=e.stack.indexOf(r);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(r),n=t,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(-1===n)return e;let i=e.stack.slice();return i.splice(n,1),{...e,stack:i}}};class d extends i.u5{constructor(){super(...arguments),l(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),l(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new d({stack:[]})}reduce(e,t){return(0,a.Y)(t.type,u,e,t)}}let h=new s.G(()=>d.new())},38290:(e,t,r)=>{"use strict";r.d(t,{D7:()=>a,Lt:()=>d,Pl:()=>l,Y6:()=>o,bY:()=>h,pt:()=>c});var n=r(19122),i=r(4080),s=r(19514);function a(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}function o(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}function l(e){return o(e)||a(e)||"signAndSendTransactions"in e&&"function"==typeof e.signAndSendTransactions}function c(e,t){Object.freeze(e);let r={...t,feePayer:e};return Object.freeze(r),r}async function u(e){let t=await (0,n.Tq)(e.publicKey);return Object.freeze({address:t,keyPair:e,signMessages:r=>Promise.all(r.map(async r=>Object.freeze({[t]:await (0,i.b_)(e.privateKey,r.content)}))),signTransactions:r=>Promise.all(r.map(async r=>Object.freeze({[t]:(await (0,s.iW)([e],r)).signatures[t]})))})}async function d(e,t){return await u(await (0,i.RL)(e,t))}async function h(e,t){return await u(await (0,i.Hx)(e,t))}},38439:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>S});var i=r(28631),s=r(60065).hp;function a(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function o(e){let t,r;if(t=typeof e,null===e||"object"!==t&&"function"!==t)return String(e);if(!(r=Object.getPrototypeOf(e))||r.isPrototypeOf(Object)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return o(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let l="base64:";function c(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function u(e){return(e=c(e))?e+":":""}function d(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function h(e){"function"==typeof e.dispose&&await a(e.dispose)}function f(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function p(e,t){let r;return(n,i)=>(()=>{if(r)return r;let n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),(r=f(n)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>i(e.transaction(t,n).objectStore(t)))}function y(){return n||(n=p("keyval-store","keyval")),n}function g(e,t=y()){return t("readonly",t=>f(t.get(e)))}var m=r(22706);class b{constructor(){this.indexedDb=function(e={}){let t,r={mounts:{"":e.driver||(t=new Map,{name:"memory",getInstance:()=>t,hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys:()=>[...t.keys()],clear(){t.clear()},dispose(){t.clear()}})},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=e=>{for(let t of r.mountpoints)if(e.startsWith(t))return{base:t,relativeKey:e.slice(t.length),driver:r.mounts[t]};return{base:"",relativeKey:e,driver:r.mounts[""]}},f=(e,t)=>r.mountpoints.filter(r=>r.startsWith(e)||t&&e.startsWith(r)).map(t=>({relativeBase:e.length>t.length?e.slice(t.length):void 0,mountpoint:t,driver:r.mounts[t]})),p=(e,t)=>{if(r.watching)for(let n of(t=c(t),r.watchListeners))n(e,t)},y=async()=>{if(!r.watching)for(let e in r.watching=!0,r.mounts)r.unwatch[e]=await d(r.mounts[e],p,e)},g=async()=>{if(r.watching){for(let e in r.unwatch)await r.unwatch[e]();r.unwatch={},r.watching=!1}},m=(e,t,r)=>{let i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let r of e){let e="string"==typeof r,i=c(e?r:r.key),a=e?void 0:r.value,o=e||!r.options?t:{...t,...r.options},l=n(i);s(l).items.push({key:i,value:a,relativeKey:l.relativeKey,options:o})}return Promise.all([...i.values()].map(e=>r(e))).then(e=>e.flat())},b={hasItem(e,t={}){let{relativeKey:r,driver:i}=n(e=c(e));return a(i.hasItem,r,t)},getItem(e,t={}){let{relativeKey:r,driver:s}=n(e=c(e));return a(s.getItem,r,t).then(e=>(0,i.Ay)(e))},getItems:(e,t={})=>m(e,t,e=>e.driver.getItems?a(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return c(e.join(":"))}(e.base,t.key),value:(0,i.Ay)(t.value)}))):Promise.all(e.items.map(t=>a(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:(0,i.Ay)(e)}))))),getItemRaw(e,t={}){let{relativeKey:r,driver:i}=n(e=c(e));return i.getItemRaw?a(i.getItemRaw,r,t):a(i.getItem,r,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(l)?(t=e.slice(l.length),globalThis.Buffer?s.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,r={}){if(void 0===t)return b.removeItem(e);let{relativeKey:i,driver:s}=n(e=c(e));s.setItem&&(await a(s.setItem,i,o(t),r),s.watch||p("update",e))},async setItems(e,t){await m(e,t,async e=>{if(e.driver.setItems)return a(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:o(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>a(e.driver.setItem,t.relativeKey,o(t.value),t.options)))})},async setItemRaw(e,t,r={}){if(void 0===t)return b.removeItem(e,r);let{relativeKey:i,driver:o}=n(e=c(e));if(o.setItemRaw)await a(o.setItemRaw,i,t,r);else{var u;if(!o.setItem)return;await a(o.setItem,i,"string"==typeof t?t:l+(u=t,globalThis.Buffer?s.from(u).toString("base64"):globalThis.btoa(String.fromCodePoint(...u))),r)}o.watch||p("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:r,driver:i}=n(e=c(e));i.removeItem&&(await a(i.removeItem,r,t),(t.removeMeta||t.removeMata)&&await a(i.removeItem,r+"$",t),i.watch||p("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:r,driver:s}=n(e=c(e)),o=Object.create(null);if(s.getMeta&&Object.assign(o,await a(s.getMeta,r,t)),!t.nativeOnly){let e=await a(s.getItem,r+"$",t).then(e=>(0,i.Ay)(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=f(e=u(e),!0),n=[],i=[],s=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(s=!1),await a(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+c(r);n.some(e=>t.startsWith(e))||i.push(t)}n=[e.mountpoint,...n.filter(t=>!t.startsWith(e.mountpoint))]}let o=void 0!==t.maxDepth&&!s;return i.filter(r=>{var n;return(!o||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&((n=e)?r.startsWith(n)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=u(e),await Promise.all(f(e,!1).map(async e=>e.driver.clear?a(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(r.mounts).map(e=>h(e)))},watch:async e=>(await y(),r.watchListeners.push(e),async()=>{r.watchListeners=r.watchListeners.filter(t=>t!==e),0===r.watchListeners.length&&await g()}),async unwatch(){r.watchListeners=[],await g()},mount(e,t){if((e=u(e))&&r.mounts[e])throw Error(`already mounted at ${e}`);return e&&(r.mountpoints.push(e),r.mountpoints.sort((e,t)=>t.length-e.length)),r.mounts[e]=t,r.watching&&Promise.resolve(d(t,p,e)).then(t=>{r.unwatch[e]=t}).catch(console.error),b},async unmount(e,t=!0){(e=u(e))&&r.mounts[e]&&(r.watching&&e in r.unwatch&&(r.unwatch[e]?.(),delete r.unwatch[e]),t&&await h(r.mounts[e]),r.mountpoints=r.mountpoints.filter(t=>t!==e),delete r.mounts[e])},getMount(e=""){let t=n(e=c(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>f(e=c(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>b.getKeys(e,t),get:(e,t={})=>b.getItem(e,t),set:(e,t,r={})=>b.setItem(e,t,r),has:(e,t={})=>b.hasItem(e,t),del:(e,t={})=>b.removeItem(e,t),remove:(e,t={})=>b.removeItem(e,t)};return b}({driver:((e={})=>{let t,r=e.base&&e.base.length>0?`${e.base}:`:"";return e.dbName&&e.storeName&&(t=p(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await g(r+e,t)>"u"),getItem:async e=>await g(r+e,t)??null,setItem:(e,n)=>(function(e,t,r=y()){return r("readwrite",r=>(r.put(t,e),f(r.transaction)))})(r+e,n,t),removeItem:e=>(function(e,t=y()){return t("readwrite",t=>(t.delete(e),f(t.transaction)))})(r+e,t),getKeys:()=>(function(e=y()){return e("readonly",e=>{var t;if(e.getAllKeys)return f(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},f(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=y()){return e("readwrite",e=>(e.clear(),f(e.transaction)))})(t)}})({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,m.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var v="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},w={exports:{}};function _(e){var t;return[e[0],(0,m.j)(null!=(t=e[1])?t:"")]}function x(){}x.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},x.prototype.setItem=function(e,t){this[e]=String(t)},x.prototype.removeItem=function(e){delete this[e]},x.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},x.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},x.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof v&&v.localStorage?w.exports=v.localStorage:"u">typeof window&&window.localStorage?w.exports=window.localStorage:w.exports=new x;class E{constructor(){this.localStorage=w.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(_)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,m.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,m.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let I=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1)return void r(t);let s=await e.getKeys();if(!s.length)return void r(t);let a=[];for(;s.length;){let r=s.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),a.push(r)}}await t.setItem(n,1),r(t),A(e,a)},A=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class S{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new E;this.storage=e;try{const t=new b;I(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},38509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return i},imageConfigDefault:function(){return s}};for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]});let i=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},38636:(e,t,r)=>{"use strict";r.d(t,{CG:()=>n});let n={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},38653:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>a,E5:()=>d,Rm:()=>c,SJ:()=>l,UW:()=>u,b2:()=>i,oX:()=>o,v2:()=>n,xw:()=>h});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],s=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],a=[...s,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...s,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],l=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],c=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],h=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]},38683:(e,t,r)=>{"use strict";function n(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}r.d(t,{D:()=>w});var i=r(61676),s=r(67218),a=r(41012),o=r(63331);class l{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let n=this.caches[r-1];e:for(let i of n){let n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue e;return i.str}return null}store(e,t){let r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){let n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;let i=(0,a.Zf)(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i}}var c=r(88099);let u="array",d="map_key",h="map_value",f=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new c.X("The type of key must be string or number but "+typeof e)};class p{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=u,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=d,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===u&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===d||e.type===h)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let y=new DataView(new ArrayBuffer(0)),g=new Uint8Array(y.buffer);try{y.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let m=RangeError("Insufficient data"),b=new l;class v{constructor(e){this.totalPos=0,this.pos=0,this.view=y,this.bytes=g,this.headByte=-1,this.stack=new p,this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??s.f7,this.maxBinLength=e?.maxBinLength??s.f7,this.maxArrayLength=e?.maxArrayLength??s.f7,this.maxMapLength=e?.maxMapLength??s.f7,this.maxExtLength=e?.maxExtLength??s.f7,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:b,this.mapKeyConverter=e?.mapKeyConverter??f}clone(){return new v({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=(0,o.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=(0,o.C)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:i,pos:s,totalPos:a}=this;throw RangeError(`Insufficient data in parsing ${n(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,n=-1;for await(let i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--n;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){let e,t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new c.X(`Unrecognized type byte: ${n(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===u)if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue t;else if(t.type===d){if("__proto__"===e)throw new c.X("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=h;continue t}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=d;continue t}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new c.X(`Unrecognized array type byte: ${n(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new c.X(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new c.X(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new c.X(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw m;let n=this.pos+t;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):(0,a._u)(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===d}decodeBinary(e,t){if(e>this.maxBinLength)throw new c.X(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw m;let r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new c.X(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=(0,s.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){let e=(0,s.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function w(e,t){return new v(t).decode(e)}},39241:(e,t,r)=>{"use strict";r.d(t,{F:()=>J});var n=r(30782),i=r(50541),s=r(42494),a=r(16678);async function o(e,{chain:t}){let{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,a.cK)(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}var l=r(92120),c=r(69316),u=r(98539);async function d(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,u.o)(e))}var h=r(92045),f=r(5805);async function p(e,t={}){let{account:r=e.account,chainId:n}=t,i=r?(0,f.J)(r):void 0,s=n?[i?.address,[(0,a.cK)(n)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:s}),l={};for(let[e,t]of Object.entries(o))for(let[r,n]of(l[Number(e)]={},Object.entries(t)))"addSubAccount"===r&&(r="unstable_addSubAccount"),l[Number(e)][r]=n;return"number"==typeof n?l[n]:l}async function y(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var g=r(55906),m=r(5292);async function b(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,u.b)(e))}async function v(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var w=r(22513),_=r(85436),x=r(95523);async function E(e,t){let{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),i=await (0,_.T)(e,w.yM,"sendCalls")(t);return await (0,_.T)(e,x.c,"waitForCallsStatus")({...t,id:i.id,timeout:n})}var I=r(45174),A=r(89017),S=r(90943),k=r(42213),C=r(78552),P=r(9547),T=r(71948),O=r(99859),R=r(49336),D=r(70327),N=r(26983),B=r(84619),U=r(31070),j=r(6606);let M=new B.A(128);async function L(e,t){let{account:r=e.account,assertChainId:n=!0,chain:i=e.chain,accessList:a,authorizationList:o,blobs:l,data:c,dataSuffix:u="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:b,pollingInterval:v,throwOnReceiptRevert:w,type:x,value:E,...I}=t,B=t.timeout??Math.max((i?.blockTime??0)*3,5e3);if(void 0===r)throw new S.T({docsPath:"/docs/actions/wallet/sendTransactionSync"});let L=r?(0,f.J)(r):null;try{(0,U.c)(t);let r=await (async()=>t.to?t.to:null!==t.to&&o&&o.length>0?await (0,P.g)({authorization:o[0]}).catch(()=>{throw new k.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(L?.type==="json-rpc"||null===L){let t;null!==i&&(t=await (0,_.T)(e,s.T,"getChainId")({}),n&&(0,T.v)({currentChainId:t,chain:i}));let f=e.chain?.formatters?.transactionRequest?.format,m=(f||N.Bv)({...(0,D.o)(I,{format:f}),accessList:a,account:L,authorizationList:o,blobs:l,chainId:t,data:c?(0,O.xW)([c,u??"0x"]):c,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:b,to:r,type:x,value:E},"sendTransaction"),A=M.get(e.uid),S=A?"wallet_sendTransaction":"eth_sendTransaction",k=await (async()=>{try{return await e.request({method:S,params:[m]},{retryCount:0})}catch(t){if(!1===A)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[m]},{retryCount:0}).then(t=>(M.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw M.set(e.uid,!1),t;throw r});throw t}})(),P=await (0,_.T)(e,j.n,"waitForTransactionReceipt")({checkReplacement:!1,hash:k,pollingInterval:v,timeout:B});if(w&&"reverted"===P.status)throw new C.Sq({receipt:P});return P}if(L?.type==="local"){let n=await (0,_.T)(e,m.ft,"prepareTransactionRequest")({account:L,accessList:a,authorizationList:o,blobs:l,chain:i,data:c?(0,O.xW)([c,u??"0x"]):c,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:b,nonceManager:L.nonceManager,parameters:[...m.MM,"sidecars"],type:x,value:E,...I,to:r}),s=i?.serializers?.transaction,f=await L.signTransaction(n,{serializer:s});return await (0,_.T)(e,A.s,"sendRawTransactionSync")({serializedTransaction:f,throwOnReceiptRevert:w,timeout:t.timeout})}if(L?.type==="smart")throw new S.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new S.Z({docsPath:"/docs/actions/wallet/sendTransactionSync",type:L?.type})}catch(e){if(e instanceof S.Z)throw e;throw(0,R.p)(e,{...t,account:L,chain:t.chain||void 0})}}async function $(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}async function z(e,t){let{account:r=e.account}=t;if(!r)throw new S.T({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,f.J)(r);if(!n.signAuthorization)throw new S.Z({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let i=await (0,g.h)(e,t);return n.signAuthorization(i)}async function F(e,{account:t=e.account,message:r}){if(!t)throw new S.T({docsPath:"/docs/actions/wallet/signMessage"});let n=(0,f.J)(t);if(n.signMessage)return n.signMessage({message:r});let i="string"==typeof r?(0,a.i3)(r):r.raw instanceof Uint8Array?(0,a.nj)(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}var q=r(79109),W=r(23797);async function V(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,a.cK)(t)}]},{retryCount:0})}async function H(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var K=r(28779);async function G(e,t){return K.E.internal(e,L,"sendTransactionSync",t)}function Z(e){return{addChain:t=>o(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,...s}=t,a=(0,l.m)({abi:r,args:n,bytecode:i});return(0,c.v)(e,{...s,...s.authorizationList?{to:null}:{},data:a})})(e,t),fillTransaction:t=>(0,i.a)(e,t),getAddresses:()=>d(e),getCallsStatus:t=>(0,h.k)(e,t),getCapabilities:t=>p(e,t),getChainId:()=>(0,s.T)(e),getPermissions:()=>y(e),prepareAuthorization:t=>(0,g.h)(e,t),prepareTransactionRequest:t=>(0,m.ft)(e,t),requestAddresses:()=>b(e),requestPermissions:t=>v(e,t),sendCalls:t=>(0,w.yM)(e,t),sendCallsSync:t=>E(e,t),sendRawTransaction:t=>(0,I.L)(e,t),sendRawTransactionSync:t=>(0,A.s)(e,t),sendTransaction:t=>(0,c.v)(e,t),sendTransactionSync:t=>L(e,t),showCallsStatus:t=>$(e,t),signAuthorization:t=>z(e,t),signMessage:t=>F(e,t),signTransaction:t=>(0,q.W)(e,t),signTypedData:t=>(0,W.C)(e,t),switchChain:t=>V(e,t),waitForCallsStatus:t=>(0,x.c)(e,t),watchAsset:t=>H(e,t),writeContract:t=>(0,K.E)(e,t),writeContractSync:t=>G(e,t)}}function J(e){let{key:t="wallet",name:r="Wallet Client",transport:i}=e;return(0,n.U)({...e,key:t,name:r,transport:i,type:"walletClient"}).extend(Z)}},39250:(e,t,r)=>{"use strict";r.d(t,{Analytics:()=>o});var n=r(65936);function i(){return"undefined"!=typeof window}function s(){return"production"}function a(){return"development"===((i()?window.vam:s())||"production")}function o(e){return(0,n.useEffect)(()=>{!function(e={debug:!0}){var t;if(!i())return;!function(e="auto"){if("auto"===e){window.vam=s();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc||(a()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js");if(document.head.querySelector(`script[src*="${r}"]`))return;let n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),n.dataset.sdkv="1.3.1",e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint&&(n.dataset.endpoint=e.endpoint),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{let e=a()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},a()&&!1===e.debug&&(n.dataset.debug="false"),document.head.appendChild(n)}({framework:e.framework||"react",...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,n.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}},39421:(e,t,r)=>{"use strict";r.d(t,{S:()=>s,a:()=>a});var n=r(65936);let i=(0,n.createContext)(!1);function s(){return(0,n.useContext)(i)}function a(e){return n.createElement(i.Provider,{value:e.force},e.children)}},39601:(e,t,r)=>{"use strict";let n,i,s,a,o;r.d(t,{lG:()=>eh,Lj:()=>ed});var l=r(65936),c=r(68472),u=r(92768);function d(e,t,r,n){let i=(0,u.Y)(r);(0,l.useEffect)(()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}var h=r(14893),f=r(81541),p=r(10519),y=r(65991),g=r(59033),m=r(67735),b=r(12258),v=r(18146),w=((n=w||{})[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n);let _=(0,v.FX)(function(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(2&n)==2||(null!=(r=i["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return(0,v.Ci)()({ourProps:s,theirProps:i,slot:{},defaultTag:"span",name:"Hidden"})});var x=r(17158),E=r(59809);let I=(0,l.createContext)(null);function A({children:e,node:t}){let[r,n]=(0,l.useState)(null),i=S(null!=t?t:r);return l.createElement(I.Provider,{value:i},e,null===i&&l.createElement(_,{features:w.Hidden,ref:e=>{var t,r;if(e){for(let i of null!=(r=null==(t=(0,E.TW)(e))?void 0:t.querySelectorAll("html > *, body > *"))?r:[])if(i!==document.body&&i!==document.head&&x.vq(i)&&null!=i&&i.contains(e)){n(i);break}}}}))}function S(e=null){var t;return null!=(t=(0,l.useContext)(I))?t:e}var k=r(70210),C=r(9101),P=r(62099),T=r(66673);let O=(0,l.createContext)(()=>{});function R({value:e,children:t}){return l.createElement(O.Provider,{value:e},t)}var D=r(22909),N=r(39421),B=r(38073),U=r(9643),j=r(83879),M=r(52792),L=r(36550),$=r(98442),z=r(91375),F=r(68606),q=((i=q||{})[i.Forwards=0]="Forwards",i[i.Backwards=1]="Backwards",i);function W(e,t){let r=(0,l.useRef)([]),n=(0,f._)(e);(0,l.useEffect)(()=>{let e=[...r.current];for(let[i,s]of t.entries())if(r.current[i]!==s){let i=n(t,e);return r.current=t,i}},[n,...t])}var V=r(57198);let H=[];function K(){"loading"!==document.readyState&&((()=>{function e(e){if(!x.Lk(e.target)||e.target===document.body||H[0]===e.target)return;let t=e.target;t=t.closest(V.Uo),H.unshift(null!=t?t:e.target),(H=H.filter(e=>null!=e&&e.isConnected)).splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})(),document.removeEventListener("DOMContentLoaded",K))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",K),K());var G=r(86216);function Z(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)x.vq(r.current)&&t.add(r.current);return t}var J=((s=J||{})[s.None=0]="None",s[s.InitialFocus=1]="InitialFocus",s[s.TabLock=2]="TabLock",s[s.FocusLock=4]="FocusLock",s[s.RestoreFocus=8]="RestoreFocus",s[s.AutoFocus=16]="AutoFocus",s);let Y=Object.assign((0,v.FX)(function(e,t){let r,n=(0,l.useRef)(null),i=(0,T.P)(n,t),{initialFocus:s,initialFocusFallback:a,containers:o,features:c=15,...u}=e;(0,C.g)()||(c=0);let p=(0,b.g)(n.current);!function(e,{ownerDocument:t}){let r=!!(8&e),n=function(e=!0){let t=(0,l.useRef)(H.slice());return W(([e],[r])=>{!0===r&&!1===e&&(0,G._)(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=H.slice())},[e,H,t]),(0,f._)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(r);W(()=>{r||(0,E.X7)(null==t?void 0:t.body)&&(0,V.pW)(n())},[r]),(0,z.X)(()=>{r&&(0,V.pW)(n())})}(c,{ownerDocument:p});let y=function(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:i}){let s=(0,l.useRef)(null),a=(0,h.S)(!!(1&e),"focus-trap#initial-focus"),o=(0,$.a)();return W(()=>{if(0===e)return;if(!a){null!=i&&i.current&&(0,V.pW)(i.current);return}let l=r.current;l&&(0,G._)(()=>{if(!o.current)return;let r=null==t?void 0:t.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===r){s.current=r;return}}else if(l.contains(r)){s.current=r;return}if(null!=n&&n.current)(0,V.pW)(n.current);else{if(16&e){if((0,V.CU)(l,V.BD.First|V.BD.AutoFocus)!==V.Me.Error)return}else if((0,V.CU)(l,V.BD.First)!==V.Me.Error)return;if(null!=i&&i.current&&((0,V.pW)(i.current),(null==t?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=null==t?void 0:t.activeElement})},[i,a,e]),s}(c,{ownerDocument:p,container:n,initialFocus:s,initialFocusFallback:a});!function(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:i}){let s=(0,$.a)(),a=!!(4&e);d(null==t?void 0:t.defaultView,"focus",e=>{if(!a||!s.current)return;let t=Z(n);x.sb(r.current)&&t.add(r.current);let o=i.current;if(!o)return;let l=e.target;x.sb(l)?X(t,l)?(i.current=l,(0,V.pW)(l)):(e.preventDefault(),e.stopPropagation(),(0,V.pW)(o)):(0,V.pW)(i.current)},!0)}(c,{ownerDocument:p,container:n,containers:o,previousActiveElement:y});let g=(r=(0,l.useRef)(0),(0,F.M)(!0,"keydown",e=>{"Tab"===e.key&&(r.current=+!!e.shiftKey)},!0),r),m=(0,f._)(e=>{if(!x.sb(n.current))return;let t=n.current;(0,j.Y)(g.current,{[q.Forwards]:()=>{(0,V.CU)(t,V.BD.First,{skipElements:[e.relatedTarget,a]})},[q.Backwards]:()=>{(0,V.CU)(t,V.BD.Last,{skipElements:[e.relatedTarget,a]})}})}),I=(0,h.S)(!!(2&c),"focus-trap#tab-lock"),A=(0,L.L)(),S=(0,l.useRef)(!1),k=(0,v.Ci)();return l.createElement(l.Fragment,null,I&&l.createElement(_,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:w.Focusable}),k({ourProps:{ref:i,onKeyDown(e){"Tab"==e.key&&(S.current=!0,A.requestAnimationFrame(()=>{S.current=!1}))},onBlur(e){if(!(4&c))return;let t=Z(o);x.sb(n.current)&&t.add(n.current);let r=e.relatedTarget;x.Lk(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(X(t,r)||(S.current?(0,V.CU)(n.current,(0,j.Y)(g.current,{[q.Forwards]:()=>V.BD.Next,[q.Backwards]:()=>V.BD.Previous})|V.BD.WrapAround,{relativeTo:e.target}):x.Lk(e.target)&&(0,V.pW)(e.target)))}},theirProps:u,defaultTag:"div",name:"FocusTrap"}),I&&l.createElement(_,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:w.Focusable}))}),{features:J});function X(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var Q=r(97650),ee=r(94156),et=((a=et||{})[a.Open=0]="Open",a[a.Closed=1]="Closed",a),er=((o=er||{})[o.SetTitleId=0]="SetTitleId",o);let en={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},ei=(0,l.createContext)(null);function es(e){let t=(0,l.useContext)(ei);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,es),t}return t}function ea(e,t){return(0,j.Y)(t.type,en,e,t)}ei.displayName="DialogContext";let eo=(0,v.FX)(function(e,t){let r=(0,l.useId)(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:a,role:o="dialog",autoFocus:u=!0,__demoMode:w=!1,unmount:_=!1,...I}=e,A=(0,l.useRef)(!1);o="dialog"===o||"alertdialog"===o?o:(A.current||(A.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let O=(0,D.O_)();void 0===i&&null!==O&&(i=(O&D.Uw.Open)===D.Uw.Open);let j=(0,l.useRef)(null),L=(0,T.P)(j,t),$=(0,b.g)(j.current),z=+!i,[F,q]=(0,l.useReducer)(ea,{titleId:null,descriptionId:null,panelRef:(0,l.createRef)()}),W=(0,f._)(()=>s(!1)),V=(0,f._)(e=>q({type:0,id:e})),H=!!(0,C.g)()&&0===z,[K,G]=(0,Q.k2)(),Z=S(),{resolveContainers:X}=function({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=(0,f._)(()=>{var n,i;let s=(0,E.TW)(r),a=[];for(let t of e)null!==t&&(x.vq(t)?a.push(t):"current"in t&&x.vq(t.current)&&a.push(t.current));if(null!=t&&t.current)for(let e of t.current)a.push(e);for(let e of null!=(n=null==s?void 0:s.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&x.vq(e)&&"headlessui-portal-root"!==e.id&&(r&&(e.contains(r)||e.contains(null==(i=null==r?void 0:r.getRootNode())?void 0:i.host))||a.some(t=>e.contains(t))||a.push(e));return a});return{resolveContainers:n,contains:(0,f._)(e=>n().some(t=>t.contains(e)))}}({mainTreeNode:Z,portals:K,defaultContainers:[{get current(){var ee;return null!=(ee=F.panelRef.current)?ee:j.current}}]}),et=null!==O&&(O&D.Uw.Closing)===D.Uw.Closing;(0,p.v)(!w&&!et&&H,{allowed:(0,f._)(()=>{var e,t;return[null!=(t=null==(e=j.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:(0,f._)(()=>{var e;return[null!=(e=null==Z?void 0:Z.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let er=B.D.get(null);(0,y.s)(()=>{if(H)return er.actions.push(n),()=>er.actions.pop(n)},[er,n,H]);let en=(0,U.y)(er,(0,l.useCallback)(e=>er.selectors.isTop(e,n),[er,n]));(0,m.j)(en,X,e=>{e.preventDefault(),W()}),function(e,t="undefined"!=typeof document?document.defaultView:null,r){let n=(0,h.S)(e,"escape");d(t,"keydown",e=>{n&&(e.defaultPrevented||e.key===c.D.Escape&&r(e))})}(en,null==$?void 0:$.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),W()}),(0,k.K)(!w&&!et&&H,$,X),(0,g.O)(H,j,W);let[es,eo]=(0,M.rU)(),eu=(0,l.useMemo)(()=>[{dialogState:z,close:W,setTitleId:V,unmount:_},F],[z,W,V,_,F]),ed=(0,P._)({open:0===z}),eh={ref:L,id:n,role:o,tabIndex:-1,"aria-modal":w?void 0:0===z||void 0,"aria-labelledby":F.titleId,"aria-describedby":es,unmount:_},ef=!function(){var e;let[t]=(0,l.useState)(()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[r,n]=(0,l.useState)(null!=(e=null==t?void 0:t.matches)&&e);return(0,y.s)(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){n(e.matches)}},[t]),r}(),ep=J.None;H&&!w&&(ep|=J.RestoreFocus,ep|=J.TabLock,u&&(ep|=J.AutoFocus),ef&&(ep|=J.InitialFocus));let ey=(0,v.Ci)();return l.createElement(D.$x,null,l.createElement(N.a,{force:!0},l.createElement(Q.ZL,null,l.createElement(ei.Provider,{value:eu},l.createElement(Q.Ee,{target:j},l.createElement(N.a,{force:!1},l.createElement(eo,{slot:ed},l.createElement(G,null,l.createElement(Y,{initialFocus:a,initialFocusFallback:j,containers:X,features:ep},l.createElement(R,{value:W},ey({ourProps:eh,theirProps:I,slot:ed,defaultTag:el,features:ec,visible:0===z,name:"Dialog"})))))))))))}),el="div",ec=v.Ac.RenderStrategy|v.Ac.Static,eu=(0,v.FX)(function(e,t){let{transition:r=!1,open:n,...i}=e,s=(0,D.O_)(),a=e.hasOwnProperty("open")||null!==s,o=e.hasOwnProperty("onClose");if(!a&&!o)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&"boolean"!=typeof e.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(void 0!==n||r)&&!i.static?l.createElement(A,null,l.createElement(ee.e,{show:n,transition:r,unmount:i.unmount},l.createElement(eo,{ref:t,...i}))):l.createElement(A,null,l.createElement(eo,{ref:t,open:n,...i}))}),ed=(0,v.FX)(function(e,t){let r=(0,l.useId)(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=e,[{dialogState:a,unmount:o},c]=es("Dialog.Panel"),u=(0,T.P)(t,c.panelRef),d=(0,P._)({open:0===a}),h=(0,f._)(e=>{e.stopPropagation()}),p=i?ee._:l.Fragment,y=(0,v.Ci)();return l.createElement(p,{...i?{unmount:o}:{}},y({ourProps:{ref:u,id:n,onClick:h},theirProps:s,slot:d,defaultTag:"div",name:"Dialog.Panel"}))}),eh=Object.assign(eu,{Panel:ed,Title:((0,v.FX)(function(e,t){let{transition:r=!1,...n}=e,[{dialogState:i,unmount:s}]=es("Dialog.Backdrop"),a=(0,P._)({open:0===i}),o=r?ee._:l.Fragment,c=(0,v.Ci)();return l.createElement(o,{...r?{unmount:s}:{}},c({ourProps:{ref:t,"aria-hidden":!0},theirProps:n,slot:a,defaultTag:"div",name:"Dialog.Backdrop"}))}),(0,v.FX)(function(e,t){let r=(0,l.useId)(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:a}]=es("Dialog.Title"),o=(0,T.P)(t);(0,l.useEffect)(()=>(a(n),()=>a(null)),[n,a]);let c=(0,P._)({open:0===s});return(0,v.Ci)()({ourProps:{ref:o,id:n},theirProps:i,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),Description:M.VY})},39831:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(78552);function i(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new n.Vg({transaction:e})}},40082:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(59670),i=r(69435),s=r(72064);let a="/docs/contract/decodeFunctionResult";function o(e){let{abi:t,args:r,functionName:o,data:l}=e,c=t[0];if(o){let e=(0,s.iY)({abi:t,args:r,name:o});if(!e)throw new n.Iz(o,{docsPath:a});c=e}if("function"!==c.type)throw new n.Iz(void 0,{docsPath:a});if(!c.outputs)throw new n.MR(c.name,{docsPath:a});let u=(0,i.n)(c.outputs,l);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},40086:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(78552),i=r(86126);async function s(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new n.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.uL)(r,"getTransactionReceipt")}},40682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(83045);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},40783:(e,t,r)=>{"use strict";r.d(t,{Zh:()=>l});var n=r(91068),i=r(99859),s=r(16678),a=r(73634),o=r(98588);function l(e){let{domain:t={},message:r,primaryType:n}=e,s={EIP712Domain:(0,o.H4)({domain:t}),...e.types};(0,o.$$)({domain:t,message:r,primaryType:n,types:s});let l=["0x1901"];return t&&l.push(function({domain:e,types:t}){return c({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==n&&l.push(c({data:r,primaryType:n,types:s})),(0,a.S)((0,i.xW)(l))}function c({data:e,primaryType:t,types:r}){let i=function e({data:t,primaryType:r,types:i}){let o=[{type:"bytes32"}],l=[function({primaryType:e,types:t}){let r=(0,s.nj)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let i=t.match(/^\w*/u),s=i?.[0];if(n.has(s)||void 0===r[s])return n;for(let t of(n.add(s),r[s]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,a.S)(r)}({primaryType:r,types:i})];for(let c of i[r]){let[r,u]=function t({types:r,name:i,type:o,value:l}){if(void 0!==r[o])return[{type:"bytes32"},(0,a.S)(e({data:l,primaryType:o,types:r}))];if("bytes"===o)return[{type:"bytes32"},(0,a.S)(l)];if("string"===o)return[{type:"bytes32"},(0,a.S)((0,s.nj)(l))];if(o.lastIndexOf("]")===o.length-1){let e=o.slice(0,o.lastIndexOf("[")),s=l.map(n=>t({name:i,type:e,types:r,value:n}));return[{type:"bytes32"},(0,a.S)((0,n.h)(s.map(([e])=>e),s.map(([,e])=>e)))]}return[{type:o},l]}({types:i,name:c.name,type:c.type,value:t[c.name]});o.push(r),l.push(u)}return(0,n.h)(o,l)}({data:e,primaryType:t,types:r});return(0,a.S)(i)}},41012:(e,t,r)=>{"use strict";function n(e){let t=e.length,r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if((0xffffff80&i)==0){r++;continue}if((0xfffff800&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){let t=e.charCodeAt(n);(64512&t)==56320&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}(0xffff0000&i)==0?r+=3:r+=4}}return r}r.d(t,{Zf:()=>a,_u:()=>l,dS:()=>n,yi:()=>s});let i=new TextEncoder;function s(e,t,r){if(e.length>50)i.encodeInto(e,t.subarray(r));else!function(e,t,r){let n=e.length,i=r,s=0;for(;s<n;){let r=e.charCodeAt(s++);if((0xffffff80&r)==0){t[i++]=r;continue}if((0xfffff800&r)==0)t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&s<n){let t=e.charCodeAt(s);(64512&t)==56320&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?t[i++]=r>>12&15|224:(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128}t[i++]=63&r|128}}(e,t,r)}function a(e,t,r){let n=t,i=n+r,s=[],a="";for(;n<i;){let t=e[n++];if((128&t)==0)s.push(t);else if((224&t)==192){let r=63&e[n++];s.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[n++],i=63&e[n++];s.push((31&t)<<12|r<<6|i)}else if((248&t)==240){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,s.push(r>>>10&1023|55296),r=56320|1023&r),s.push(r)}else s.push(t);s.length>=4096&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}let o=new TextDecoder;function l(e,t,r){let n;if(!(r>200))return a(e,t,r);return n=e.subarray(t,t+r),o.decode(n)}},41196:(e,t,r)=>{"use strict";r.d(t,{$:()=>er,D:()=>O,E:()=>G,F:()=>ek,G:()=>ef,H:()=>es,K:()=>eR,L:()=>ed,M:()=>eP,P:()=>Z,Q:()=>x,R:()=>eE,S:()=>ev,T:()=>k,U:()=>en,V:()=>ei,W:()=>ea,X:()=>eo,Y:()=>Y,Z:()=>ee,_:()=>C,a:()=>$,a0:()=>X,a1:()=>P,a2:()=>q,a3:()=>T,a4:()=>el,a5:()=>z,a6:()=>R,a7:()=>eh,a8:()=>Q,b:()=>v,c:()=>H,d:()=>_,e:()=>I,f:()=>W,g:()=>w,h:()=>V,i:()=>B,j:()=>F,k:()=>D,l:()=>L,m:()=>em,n:()=>e_,o:()=>M,p:()=>N,q:()=>eg,r:()=>K,s:()=>U,t:()=>j,u:()=>J,v:()=>ew,w:()=>eC,z:()=>eT});var n=r(65936),i=r(96578),s=r(75187),a=r(78912),o=r(73788),l=r(28349),c=r(69375),u=r(31189),d=r(13437),h=r(98539),f=r(16678),p=r(86249),y=r(36983),g=r(79312);let m=(0,i.v)(()=>({listings:[],loading:!1})),b=m.setState,v=e=>m.getState().listings.find(({slug:t})=>E(t)===E(e)),w=e=>{let t;try{t=new URL(e).hostname}catch(e){return}return m.getState().listings.find(({homepage:e})=>{let r;try{r=new URL(e).hostname}catch(e){return!1}return t.includes(r)})},_=(e=!0)=>{let t=(0,s.u)(),r=m(e=>e.listings),i=m(e=>e.loading),a=!!r.length;return(0,n.useEffect)(()=>{e&&!a&&(b({listings:[],loading:!0}),(async e=>{let t=new URL("v3/wallets","https://explorer-api.walletconnect.com");t.searchParams.append("projectId",e);let r=await fetch(t);return r.ok?Object.values((await r.json()).listings).sort(({slug:e},{slug:t})=>"rainbow"===e&&"metamask"===t?1:"metamask"===e||"rainbow"===e?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>b({listings:e,loading:!1})).catch(e=>{console.error(e),b({listings:[],loading:!1})}))},[e,a,t.walletConnectCloudProjectId]),{listings:r,loading:i}},x=e=>{let{listings:t}=_();return t.find(({slug:t})=>E(t)===E(e))};function E(e){return"cryptocom"===e?"cryptocom-defi":"binance"===e?"binance-defi":e.replace(/[-_]wallet$/,"")}function I(e){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some(t=>e?.includes(t))}let A=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isClover?"Clover":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom||"isPhantom"in e?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally||e.isTaho?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0,S=(e,t)=>{if(!e.isMetaMask)return!1;if(e.isMetaMask&&!t)return!0;if(e.isBraveWallet&&!e._events&&!e._state||"MetaMask"!==A(e))return!1;if(e.providers){for(let t of e.providers)if(!S(t))return!1}return!0},k=()=>{let e=window;if(!e.ethereum)return!1;if(e.ethereum.isCoinbaseWallet)return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(t&&t.isCoinbaseWallet)return!0}return!1},C=(e,t)=>{let r=[],n=[];for(let[i,s]of e.entries())i<t?r.push(s):n.push(s);return[r,n]},P=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),T=(e,t)=>{let r=e.slice(0),n=[];for(;r.length;)n.push(r.splice(0,t));return n},O=(e,t=3,r=4,n="ethereum")=>{if(!e)return"";let i=2*("ethereum"===n);return t+r+i+3>=e.length?e:`${e.slice(0,i+t)}...${e.slice(e.length-r,e.length)}`},R=(e,t=3,r=4)=>O(e,t,r,"solana"),D=e=>new Promise(t=>setTimeout(t,e));function N(e,{interval:t=100,timeout:r=5e3}={}){return new Promise((n,i)=>{let s,a=0,o=()=>{a>=r?i("Max attempts reached without result"):(s=e(),a+=t,null==s?setTimeout(o,t):n(s))};o()})}let B=(e,t={})=>{let r=t.delayMs||150,n=t.maxAttempts||270;return new Promise(async(i,s)=>{let a=!1,o=0;for(;!a&&o<n;){if(t.abortSignal?.aborted)return;e().then(e=>{a=!0,i(e)},(...e)=>{a=!0,s(...e)}),o+=1,await D(r)}a||s(Error("Exceeded max attempts before resolving function"))})},U=e=>e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),j=e=>"string"==typeof e?e:"0x"+e.toString(16);async function M({store:e,walletList:t,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,a=window;return new Promise(o=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let i=e.getProviders();console.debug("Detected injected providers:",i.map(e=>e.info));let a=[];for(let e of i)t.includes("coinbase_wallet")&&"com.coinbase.wallet"===e.info.rdns||"solana-only"===n&&"app.phantom"===e.info.rdns||a.push({type:e.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:e});if("solana-only"!==n)for(let e of function(){let e=window,t=e.ethereum;if(!t)return[];let r=[];if(t.providers?.length)for(let e of t.providers)e&&r.push(e);return r.push(e.ethereum),r}()){let t=A(e);if(!i.some(e=>e.info.name===t)){if(S(e,!0)&&!a.find(e=>"metamask"===e.type)){a.push({type:"metamask",legacyInjectedProvider:e});continue}if("Phantom"===t&&!a.find(e=>"phantom"===e.type)){a.push({type:"phantom",legacyInjectedProvider:e});continue}if("Coinbase Wallet"===t&&!a.find(e=>"coinbase_wallet"===e.type&&"smartWalletOnly"!==r.coinbaseWallet?.config?.preference?.options)){a.push({type:"coinbase_wallet",legacyInjectedProvider:e});continue}a.find(e=>"unknown_browser_extension"===e.type)||a.push({type:"unknown_browser_extension",legacyInjectedProvider:e})}}o(a)}a.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function L(e){return`eip155:${String(Number(e))}`}let $=(e,t,r,n)=>{let i=Number(e),s=t.find(e=>e.id===i);if(!s)throw new p.P(`Unsupported chainId ${e}`,4901);return(0,y.a)(s,r,n)},z=(e,t)=>{let r=Number(e),n=t.find(e=>e.id===r);if(!n)throw new p.P(`Unsupported chainId ${e}`,4901);return n.blockExplorers?.default.url},F=e=>{let t={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=e.types.EIP712Domain??Object.entries(e.domain).map(([e,r])=>{if(null!=r&&"string"==typeof e&&e in t)return{name:e,type:t[e]}}).filter(e=>void 0!==e);return{...e,types:{...e.types,EIP712Domain:r}}};function q(e,{min:t,max:r}){return Math.min(Math.max(e,t),r)}function W(e){return"ethereum"===e.type}function V(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],i=t[r];if(n?.address!==i?.address||n&&i&&W(n)&&W(i)&&n?.chainId!==i?.chainId||n?.connectorType!==i?.connectorType||n?.connectedAt!==i?.connectedAt||n?.walletClientType!==i?.walletClientType||n?.isConnected!==i?.isConnected||n?.linked!==i?.linked)return!1}return!0}let H=(e,t)=>e.rpcTimeouts&&e.rpcTimeouts[t]||s.n;function K(e){return"ethereum"===e.chainType}class G extends c.c{buildConnectedWallet(e,t,r,n){let i=async()=>!!this.wallets.find(t=>(0,h.b)(t.address)===(0,h.b)(e));return{type:"ethereum",address:(0,h.b)(e),chainId:t,meta:r,imported:n,switchChain:async r=>{let n,s;if(!i)throw new p.P("Wallet is not currently connected.");let a=this.wallets.find(t=>(0,h.b)(t.address)===(0,h.b)(e))?.chainId;if(!a)throw new p.P("Unable to determine current chainId.");if("number"==typeof r?(n=`0x${r.toString(16)}`,s=r):(n=r,s=Number(r)),a===L(n))return;let o=this.chains.find(e=>e.id===s);if(!o)throw new p.P(`Unsupported chainId: ${r}`);let l=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})};try{return await l()}catch(e){if(((e,t)=>{switch(t){case"coinbase_wallet":case"base_account":return e.message.includes("addEthereumChain");case"rabby_wallet":return e.message.includes("Unrecognized chain ID");default:return 4902===e.code||e.message?.includes("4902")}})(e,this.walletClientType))return"rabby_wallet"===this.walletClientType&&await D(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:o.name,nativeCurrency:o.nativeCurrency,rpcUrls:[o.rpcUrls.default?.http[0]??""],blockExplorerUrls:[o.blockExplorers?.default.url??""]}]}),l();if("rainbow"===this.walletClientType&&e.message?.includes("wallet_switchEthereumChain"))throw new p.P(`Rainbow does not support the chainId ${t}`);throw e}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:i,getEthereumProvider:async()=>{if(!await i())throw new p.P("Wallet is not currently connected.");return this.proxyProvider},sign:async e=>{if(!await i())throw new p.P("Wallet is not currently connected.");return await this.sign(e)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let t,r=e;try{if(void 0===r){let e=await B(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,e),Array.isArray(e)&&(r=e)}}catch(e){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",e)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let n=r[0];if(!(0,d.P)(n))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${n}`);let i=(0,h.b)(n),a=[];if("privy"===this.walletClientType){let e=c.s.get((0,s.o)(i));this.chains.find(t=>t.id===Number(e))||(c.s.del((0,s.o)(i)),e=null),t=e||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){console.warn(`Unable to switch embedded wallet to chain ID ${t} on initialization`)}}else try{let e=await B(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,e),"string"==typeof e)t=e;else{if("number"!=typeof e)throw Error("Invalid chainId returned from provider");t=`0x${e.toString(16)}`}}catch(e){console.warn(`Failed to get chainId from provider, defaulting to ${s.p}`,e),t=s.p}let o=L(t);if(!a.find(e=>(0,h.b)(e.address)===i)){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet((0,h.b)(n),o,e,"embedded_imported"===this.connectorType))}V(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt).find(t=>e.find(e=>(0,h.b)(e)===(0,h.b)(t.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[(0,f.nj)(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,t,r,n){super(e),this.chainType="ethereum",this.onAccountsChanged=e=>{0===e.length?this.onDisconnect():this.syncAccounts(e)},this.onChainChanged=e=>{this.wallets.forEach(t=>{t.chainId=L(e),"privy"===this.walletClientType&&c.s.put((0,s.o)(t.address),e)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{"base_account"===this.connectorType&&this.connected||(this.connected=!0,"coinbase_wallet"===this.connectorType&&await D(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=t,this.defaultChain=r,this.rpcConfig=n,this.rpcTimeoutDuration=H(n,e),this.connected=!1,this.initialized=!1}}class Z{on(e,t){if(this.walletProvider)return this.walletProvider.on(e,t);this._subscriptions.push({eventName:e,listener:t})}async request(e){if(!this.walletProvider)throw new p.P(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(e=>{throw(0,c.f)(e)})}constructor(e,t){this.removeListener=(e,t)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(e,t)}catch(e){console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(e=new c.d,t=this.rpcTimeoutDuration)=>new Promise((r,n)=>setTimeout(()=>{n(e)},t)),this.setWalletProvider=e=>{this.walletProvider&&this._subscriptions.forEach(e=>{this.removeListener(e.eventName,e.listener)}),this.walletProvider=e,this._subscriptions.forEach(e=>{this.walletProvider?.on(e.eventName,e.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=t||s.n,this._subscriptions=[]}}let J=e=>{let[t,r]=(0,n.useState)("auto");return(0,n.useEffect)(()=>{let t=new ResizeObserver(e=>{r(e[0]?.contentRect.height??"auto")});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}},[e.current]),t},Y=a.I4.div`
  text-align: left;
  flex-grow: 1;
`,X=a.I4.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex-grow: 1;
`,Q=a.I4.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  /* for Internet Explorer, Edge */
  -ms-overflow-style: none;

  /* for Firefox */
  scrollbar-width: none;

  /* for Chrome, Safari, and Opera */
  &::-webkit-scrollbar {
    display: none;
  }
`,ee=(0,a.I4)(Q)`
  ${e=>"light"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0}

  background-repeat: no-repeat;
  background-size:
    100% 32px,
    100% 16px;
  background-attachment: local, scroll;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: none;
  padding: 3px;
`,et=(0,a.AH)`
  && {
    width: 100%;
    font-size: 16px;
    line-height: 24px;
    min-height: 56px;

    /* Tablet and Up */
    @media (min-width: 440px) {
      font-size: 14px;
    }

    display: flex;
    gap: 12px;
    align-items: center;
    color: var(--privy-color-foreground);

    padding: 10px 12px;
    border: 1px solid var(--privy-color-foreground-4) !important;
    border-radius: var(--privy-border-radius-md);
    transition: background-color 200ms ease;

    cursor: pointer;

    &:hover {
      background-color: var(--privy-color-background-2);
    }

    &:disabled {
      cursor: pointer;
      background-color: var(--privy-color-background-2);
    }
  }
`,er=a.I4.div`
  text-align: center;
  font-size: 14px;
  margin-bottom: 24px;
`,en=a.I4.button.attrs({className:"login-method-button"})`
  ${et}
`;a.I4.a`
  ${et}
`;let ei=a.I4.div`
  width: 32px;
  height: 32px;
  border-radius: ${e=>e.$fullSize?"0":"4px"};
  background: ${e=>e.$fullSize?"transparent":"var(--privy-color-background-2)"};
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: ${e=>e.$fullSize?"32px":"18px"};
    height: ${e=>e.$fullSize?"32px":"18px"};
    color: ${e=>e.$fullSize?"inherit":"var(--privy-color-icon-muted)"};
  }
`,es=a.I4.div`
  width: 100%;
  height: 100%;
  min-height: inherit;
  display: flex;
  flex-direction: column;
  ${e=>e.$if?"display: none;":""}
`,ea=a.I4.div`
  width: 100%;
  height: 100%;
  padding: ${e=>e.$withPadding?"64px 0px":"0px"};
`,eo=a.I4.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: 32px;
  gap: 12px;
  & h3 {
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;
  }
  & p {
    max-width: 300px;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
`,el=({success:e,fail:t})=>(0,o.jsxs)(eu,{children:[(0,o.jsx)(ec,{children:(0,o.jsx)(eh,{className:e?"success":t?"fail":""})}),(0,o.jsx)(ec,{children:(0,o.jsx)(ed,{className:e?"success":t?"fail":""})})]}),ec=a.I4.span`
  && {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }
`,eu=a.I4.span`
  position: relative;
  width: 82px;
  height: 82px;
  display: inline-block;
`,ed=a.I4.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${e=>e.color??"var(--privy-color-icon-subtle)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  &&&.success {
    border-color: var(--privy-color-icon-success);
    border-bottom-color: var(--privy-color-icon-success);
  }

  &&&.fail {
    border-color: var(--privy-color-icon-error);
    border-bottom-color: var(--privy-color-icon-error);
  }
`,eh=(0,a.I4)(ed)`
  && {
    border-bottom-color: ${e=>e.color??"var(--privy-color-border-default)"};
    border-color: ${e=>e.color??"var(--privy-color-border-default)"};
    animation: none;
    opacity: 0.5;
  }
`,ef=e=>(0,o.jsx)(ep,{color:e.color||"var(--privy-color-foreground-3)"}),ep=(0,a.I4)(ed)`
  && {
    height: 1rem;
    width: 1rem;
    margin: 2px 0;
    border-width: 1.5px;

    /* Override default Loader to match button transitions */
    transition: border-color 200ms ease;
  }
`,ey=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],eg=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:l.gm?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let e=window;if(e?.phantom?.ethereum?.isPhantom&&e?.phantom?.ethereum?.chainId||e?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=eb({client:this.client,isSolana:t,connectOnly:r});return`${e?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:l.gm?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=eb({client:this.client,isSolana:t,connectOnly:r});return`${e?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:e,connectOnly:t}){let r=eb({client:this.client,isSolana:e,connectOnly:t});return`jupjupjup://jup.ag/browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=eb({client:this.client,isSolana:t,connectOnly:r});return`${e?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:e,connectOnly:t}){return`okx://wallet/dapp/url?dappUrl=${eb({client:this.client,isSolana:e,connectOnly:t})}`}}});function em({connectorType:e,walletClientType:t}){for(let r of ey)if(e===r||t===r)return eg[r]}function eb({client:e,isSolana:t,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",t?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",e),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}class ev extends c.S{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:t,icon:r}){super({name:t},!1),this.connectorType="null",this.proxyProvider=new Z(void 0,s.n),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=t,this.icon=r}}function ew(e){return"solana"===e.chainType}function e_(e){return"solana"===e.type}let ex=(0,n.createContext)({}),eE=({children:e})=>{let t=(0,s.u)(),[r,i]=(0,n.useState)({});return(0,u.u)("login",{onComplete:({loginAccount:e})=>{e&&"passkey"!==e.type&&"cross_app"!==e.type&&("wallet"!==e.type||"privy"!==e.walletClientType)&&(c.s.put(eI(t.id),e.type),"wallet"===e.type?(c.s.put(eA(t.id),e.walletClientType),c.s.put(eS(t.id),e.chainType),i({accountType:e.type,walletClientType:e.walletClientType,chainType:e.chainType})):(c.s.del(eA(t.id)),c.s.del(eS(t.id)),i({accountType:e.type})))}}),(0,n.useEffect)(()=>{if(!t.id)return;let e=c.s.get(eI(t.id)),r=c.s.get(eA(t.id)),n=c.s.get(eS(t.id));e&&i("wallet"===e?{accountType:e,walletClientType:r,chainType:n}:{accountType:e})},[t.id]),(0,o.jsx)(ex.Provider,{value:r,children:e})},eI=e=>`privy:${e}:recent-login-method`,eA=e=>`privy:${e}:recent-login-wallet-client`,eS=e=>`privy:${e}:recent-login-chain-type`,ek=()=>(0,n.useContext)(ex);class eC extends G{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:t,icon:r,walletClientType:n,defaultChain:i}){super(n,[],i,{}),this.connectorType="null",this.proxyProvider=new Z(void 0,s.n),this.id=e,this.name=t,this.icon=r}}let eP=({...e})=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...e,children:[(0,o.jsx)("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),(0,o.jsx)("g",{transform:"translate(4, 4)",children:(0,o.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[(0,o.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,o.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,o.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,o.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,o.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,o.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,o.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,o.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,o.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,o.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,o.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,o.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,o.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function eT(e){let{logout:t}=(0,n.useContext)(g.P);return(0,u.u)("logout",e),{logout:t}}let eO=(0,i.v)(()=>({isModalOpen:!1,resolvers:null}));(0,i.v)(()=>({}));let eR=({address:e,client:t,appId:r})=>{let n=`${t}:${e}`;r&&c.s.put(eD(r),n),eO.setState({wallet:n})},eD=e=>`privy:${e}:active-wallet-connection`},41347:(e,t,r)=>{"use strict";r.d(t,{CL:()=>l,D5:()=>u,Di:()=>h,G1:()=>T,Gi:()=>c,L5:()=>A,MI:()=>D,RV:()=>x,Sf:()=>_,WT:()=>S,XU:()=>o,YW:()=>y,ab:()=>g,bq:()=>d,cg:()=>C,ch:()=>I,hA:()=>f,hl:()=>k,jz:()=>O,nR:()=>R,qZ:()=>p,s0:()=>m,sV:()=>w,uL:()=>P,vx:()=>v,xQ:()=>b,xq:()=>E});var n=r(42213),i=r(14717);class s extends n.C{constructor(e,{code:t,docsPath:r,metaMessages:n,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof i.J8?e.code:t??-1}}class a extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class o extends s{constructor(e){super(e,{code:o.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class l extends s{constructor(e){super(e,{code:l.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class c extends s{constructor(e,{method:t}={}){super(e,{code:c.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends s{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends s{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class h extends s{constructor(e){super(e,{code:h.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class f extends s{constructor(e){super(e,{code:f.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends s{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class y extends s{constructor(e){super(e,{code:y.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class g extends s{constructor(e,{method:t}={}){super(e,{code:g.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class m extends s{constructor(e){super(e,{code:m.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends s{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends a{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends a{constructor(e){super(e,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _ extends a{constructor(e,{method:t}={}){super(e,{code:_.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class x extends a{constructor(e){super(e,{code:x.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class E extends a{constructor(e){super(e,{code:E.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class I extends a{constructor(e){super(e,{code:I.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class A extends a{constructor(e){super(e,{code:A.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class S extends a{constructor(e){super(e,{code:S.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class k extends a{constructor(e){super(e,{code:k.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class C extends a{constructor(e){super(e,{code:C.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class P extends a{constructor(e){super(e,{code:P.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class T extends a{constructor(e){super(e,{code:T.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class O extends a{constructor(e){super(e,{code:O.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class R extends a{constructor(e){super(e,{code:R.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class D extends s{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},41881:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var n=r(59670),i=r(13310),s=r(38006),a=r(71759),o=r(69435),l=r(36487);let c="/docs/contract/decodeEventLog";function u(e){let{abi:t,data:r,strict:u,topics:d}=e,h=u??!0,[f,...p]=d;if(!f)throw new n._z({docsPath:c});let y=t.find(e=>"event"===e.type&&f===(0,a.h)((0,l.B)(e)));if(!(y&&"name"in y)||"event"!==y.type)throw new n.kE(f,{docsPath:c});let{name:g,inputs:m}=y,b=m?.some(e=>!("name"in e&&e.name)),v=b?[]:{},w=m.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed),_=[];for(let e=0;e<w.length;e++){let[t,r]=w[e],i=p[e];if(!i){if(h)throw new n.l3({abiItem:y,param:t});_.push([t,r]);continue}v[b?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,o.n)([e],t)||[])[0]}({param:t,value:i})}let x=m.filter(e=>!("indexed"in e&&e.indexed)),E=h?x:[..._.map(([e])=>e),...x];if(E.length>0){if(r&&"0x"!==r)try{let e=(0,o.n)(E,r);if(e){let t=0;if(!h)for(let[r,n]of _)v[b?n:r.name||n]=e[t++];if(b)for(let r=0;r<m.length;r++)void 0===v[r]&&t<e.length&&(v[r]=e[t++]);else for(let r=0;r<x.length;r++)v[x[r].name]=e[t++]}}catch(e){if(h){if(e instanceof n.Iy||e instanceof i.SK)throw new n.fo({abiItem:y,data:r,params:E,size:(0,s.E)(r)});throw e}}else if(h)throw new n.fo({abiItem:y,data:"0x",params:E,size:0})}return{eventName:g,args:Object.values(v).length>0?v:void 0}}},42494:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(68549);async function i(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,n.ME)(t)}},43436:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});class n{}},43712:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}},44748:(e,t,r)=>{"use strict";function n(){let e=new Set,t=[],r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n?.(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}r.d(t,{y:()=>n})},44911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},45174:(e,t,r)=>{"use strict";async function n(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}r.d(t,{L:()=>n})},45852:(e,t,r)=>{"use strict";r.d(t,{A:()=>tN});let n={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"};class i{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(n,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}}let s={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"};var a=r(87890);class o{static parse(e){try{return new o(e)}catch(e){return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=a.i(e)}}class l{async updateOnCrossAppAuthentication(e,t){let r=t.access_token,n=l.providerAccessTokenStorageKey(e);await this._storage.put(n,r)}async getProviderAccessToken(e){let t=l.providerAccessTokenStorageKey(e),r=await this._storage.get(t);if("string"!=typeof r)return null;try{if(new o(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(t),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(s,{params:{app_id:this._privyInternal.appId}})}constructor(e,t){this._privyInternal=e,this._storage=t}}l.providerAccessTokenStorageKey=e=>`privy:cross-app:${e}`;var c=r(41216);class u{async revoke(){await this._privyInternal.fetch(c.xh,{})}constructor(e){this._privyInternal=e}}var d=r(5540),h=r(94629),f=r(27860);let p=e=>!!e.id&&"privy-v2"===e.recovery_method;class y{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(p(this._account))throw new f.wE({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new f.wE({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i}}var g=r(40191),m=r(71781);async function b({context:e,chainType:t,idempotencyKey:r}){return{wallet:await (0,m.v)(e,{request:{chain_type:t,owner_id:void 0},headers:r?{"privy-idempotency-key":r}:void 0})}}var v=r(99849);class w{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let r=this.callbacks[t];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}}async function _(e,t,r,n,i=!1,s,a){let o=i,l=async s=>{if(o){s===+!i?n():r.current?.reject(new g.Pi("missing_or_invalid_mfa","MFA verification failed, retry."));let o=await new Promise((e,n)=>{t.current={resolve:e,reject:n},setTimeout(()=>{let e=new g.Pi("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(e),n(e)},a)});return await e(o)}return await e()},c=null;for(let e=0;e<s;e++)try{c=await l(e),r.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw r.current?.resolve(void 0),e;o=!0}if(null===c){let e=new g.Pi("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(e),e}return c}let x=(W=0,()=>"id-"+W++),E=(e,t)=>"bigint"==typeof t?t.toString():t,I=async(e,{ms:t,msg:r})=>{let n,i=new Promise((e,i)=>{n=setTimeout(()=>{i(Error(r))},t??15e3)});try{return await Promise.race([e,i])}finally{void 0!==n&&clearTimeout(n)}},A=new w;class S{invokeWithMfa(e,t){return I(_(r=>I(this.waitForReady().then(()=>e(r)),{msg:t.timeoutMsg,ms:t.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),t.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return I(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return I(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(t=>this.invoke("privy:wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return I(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(t=>this.invoke("privy:delegated-actions:consent",{...t,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:verify",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:init-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:submit-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:unenroll",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return I(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(t=>this.invoke("privy:user-signer:sign",{...t,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return I(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:set-recovery",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return I(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:recover",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:t,resolve:r}=A.dequeue(e.event,e.id);return void 0!==e.error?t(new g.Pi(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,t)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(t),await new Promise(e=>{setTimeout(()=>{e()},150)})})}invoke(e,t){let r=`${e}${JSON.stringify(t,E)}`;if("privy:wallet:create"===e||"privy:solana-wallet:create"===e){let e=this.cache.get(r);if(e)return e}let n=new Promise((r,n)=>{let i=x();A.enqueue(i,{resolve:r,reject:n}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:i,event:e,data:t}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,n),n}constructor(e,t){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=t}}var k=r(7764),C=r(16678),P=r(79265),T=r(60065).hp;let O=e=>`0x${e.toString("hex")}`;var R=r(23667),D=r(60065).hp;function N(e){if("number"==typeof e||"bigint"==typeof e)return`0x${BigInt(e).toString(16)}`;if("string"==typeof e)return/^0x[0-9a-fA-F]*$/.test(e)?e:O(T.from(e,"utf8"))}async function B({context:e,account:t,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:e,account:t,rpcRequest:r}){var n;switch(r.method){case"personal_sign":{let[n]=r.params,i=await (0,R._)(e,e.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:t.id,params:n.startsWith("0x")?{message:n.slice(2),encoding:"hex"}:{message:n,encoding:"utf-8"}});if("personal_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"eth_signTransaction":{let[n]=r.params,i=await (0,R._)(e,e.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:t.id,params:{transaction:{from:n.from,to:n.to??void 0,nonce:N(n.nonce),chain_id:N(n.chainId),data:function(e){if(void 0!==e)return"string"==typeof e?/^0x[0-9a-fA-F]*$/.test(e)?e:O(T.from(e,"utf8")):O(D.from(Uint8Array.from(e)))}(n.data),value:N(n.value),type:n.type,gas_limit:N(n.gasLimit),gas_price:N(n.gasPrice),max_fee_per_gas:N(n.maxFeePerGas),max_priority_fee_per_gas:N(n.maxPriorityFeePerGas)}}});if("eth_signTransaction"!==i.method)throw Error("Unable to sign transaction");return{data:i.data.signed_transaction}}case"eth_signTypedData_v4":{let[,i]=r.params,s=await (0,R._)(e,e.signRequest,{chain_type:"ethereum",method:r.method,wallet_id:t.id,params:{typed_data:("string"==typeof(n=i)&&(n=JSON.parse(n)),{types:n.types,primary_type:String(n.primaryType),domain:n.domain,message:n.message})}});if("eth_signTypedData_v4"!==s.method)throw Error("Unable to sign typed data");return{data:s.data.signature}}case"eth_sign":{let[,n]=r.params,i=await (0,R._)(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:/^0x[0-9a-fA-F]*$/.test(n)?n:O(T.from(n,"utf8"))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"secp256k1_sign":{let[n]=r.params,i=await (0,R._)(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:/^0x[0-9a-fA-F]*$/.test(n)?n:O(T.from(n,"utf8"))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${r.method}`)}}({context:e,account:t,rpcRequest:r.request});case"solana":return async function({context:e,account:t,rpcRequest:r}){if("signMessage"===r.method){let{message:n}=r.params,i=await (0,R._)(e,e.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:t.id,params:{message:n,encoding:"base64"}});if("signMessage"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}}({context:e,account:t,rpcRequest:r.request})}}r(37585);let U=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]);class j extends k.A{async request(e){if(U.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let t=e.params?.[0];return this.handleSignTransaction(t)}case"eth_sendTransaction":{let t=e.params?.[0];return this.handleSendTransaction(t)}case"eth_populateTransactionRequest":{let t=e.params?.[0];return this.handlePopulateTransaction(t)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let t={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(t.chainId),t}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=(0,v.Bm)(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let t=this.ensureChainId(e),r=(0,P._)(t),{type:n,...i}=await this._client.prepareTransactionRequest({account:t.from??this._account.address,...r});return{...i,type:P.k[n]}}async handleSignTransaction(e){let t={...e};for(let e of Object.keys(t)){let r=t[e];r&&"bigint"==typeof r&&(t[e]=(0,C.nj)(r))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[t]})}async handleSendTransaction(e){let t=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(t);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let t=e.params?.[0],r=this.ensureChainId(t),n=(0,P._)(r);return await this._client.estimateGas({account:r.from??this._account.address,...n})}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new g.sj(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new g.sj(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.internalSwitchEthereumChain(t)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(p(r)){let{data:n}=await B({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._walletProxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return n}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t})}catch(r){let e=(0,g.pO)(r);if(e&&"privy"===this._account.recovery_method)await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t});else{if(!e||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new f.wE({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}return(await this._walletProxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,chains:s,onNeedsRecovery:a,chainId:o=s[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._chainId=o,this._chains=s,this._onNeedsRecovery=a,this._client=(0,v.Bm)(o,s,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}}function M(e){return"version"in e}function L(e,t){let r=(M(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!r)throw Error(`Transaction does not contain public key ${t}`);return r}var $=r(60065).hp;class z{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new f.wE({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if("privy-v2"!==this._account.recovery_method)try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let t=(0,g.pO)(r);if(t&&"privy"===this._account.recovery_method)await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!t||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new f.wE({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}}async signMessageRpc(e,t){let r=this._account;if(!p(r))return(await this._proxy.rpcWallet({accessToken:t,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:n}=await B({context:{app:this._app,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._proxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:n}}}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t),await this.signMessageRpc(e,t)}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}async handleSignAndSendTransaction(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r,connection:n,options:i}=e.params,s=L(r,this._account.address),a=M(r)?$.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},t);return r.addSignature(s,$.from(o,"base64")),{signature:await n.sendRawTransaction(r.serialize(),i)}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}async handleSignTransaction(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r}=e.params,n=L(r,this._account.address),i=M(r)?$.from(r.message.serialize()):r.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:i.toString("base64")}},t);return r.addSignature(n,$.from(s,"base64")),{signedTransaction:r}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,onNeedsRecovery:s,app:a}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._onNeedsRecovery=s,this._app=a}}class F{setMessagePoster(e){this._proxy=new S(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new f.wE({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:t,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await b({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:e.chainType});else{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new f.wE({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:t,...e})}let{user:t}=await this._privyInternal.refreshSession();return{user:t}}async getBitcoinProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return p(e)||await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s}),new y({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r})}async create({password:e,recoveryMethod:t,recoveryToken:r,recoveryKey:n,recoverySecretOverride:i,iCloudRecordNameOverride:s,solanaAccount:a,skipCallbacks:o,idempotencyKey:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode){if(t&&!t.startsWith("privy"))throw new f.wE({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await b({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"ethereum",idempotencyKey:l})}else{let o;if(o=t||(e?"user-passcode":"privy"),e&&"string"!=typeof e)throw Error("Invalid recovery password, must be a string");if("privy"===o&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let l=await this._privyInternal.getAccessTokenInternal();if(!l)throw Error("User must be logged in to create an embedded wallet");let{address:c}=await this._proxy.create({accessToken:l,recoveryMethod:o,recoveryKey:n,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:i,iCloudRecordNameOverride:s,solanaAddress:a?.address});if(!c)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(o)}async createSolana(e){if(!this._proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await b({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"solana",idempotencyKey:e?.idempotencyKey});else{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new f.wE({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:t,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new f.wE({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:t}){if(!this._proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new f.wE({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:t})}async getProvider(e,t,r,n,i){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return p(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:t,recoveryKey:i,recoveryAccessToken:r,recoverySecretOverride:n}),new j({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s,recoveryKey:a,onNeedsRecovery:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return p(e)||(!o||n||i||s||a)&&await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s,recoveryKey:a}),new j({account:e,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:o,appApi:this._appApi})}async getSolanaProvider(e,t,r,n,i,s,a){if(!this._proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return p(e)||(!a||n||i||s)&&await this._load({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s}),new z({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:t,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(p(t))throw new f.wE({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});(0,v.Di)({currentRecoveryMethod:t.recovery_method,upgradeToRecoveryMethod:"icloud-native"===r.recoveryMethod?"icloud":r.recoveryMethod}),await this._load("solana"===t.chain_type?{wallet:t,entropyId:t.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"});let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("User must be logged in to interact with embedded wallets");let i=t.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});try{let e;if("user-passcode"===r.recoveryMethod)e={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if("google-drive"===r.recoveryMethod)e={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if("icloud"===r.recoveryMethod)e={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if("icloud-native"===r.recoveryMethod)e={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if("recovery-encryption-key"===r.recoveryMethod)e={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if("privy"!==r.recoveryMethod)throw Error(`Unknown recovery method: ${r.recoveryMethod}`);e={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:n,entropyId:t.address,entropyIdVerifier:"solana"===t.chain_type?"solana-address-verifier":"ethereum-address-verifier",...e}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});let{user:s}=await this._privyInternal.refreshSession();return{user:s,provider:"ethereum"!==t.chain_type?null:new j({account:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(e){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:t.address,recovery_method:t.recovery_method,error:e instanceof Error?e.message:"Unable to recover wallet"}),e}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(e){return console.error(e),!1}}async _load({entropyId:e,entropyIdVerifier:t,wallet:r,recoveryPassword:n,recoveryKey:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let o=await this._privyInternal.getAccessTokenInternal();if(!o)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:o,entropyId:e,entropyIdVerifier:t}),e}catch(l){if((0,g.pO)(l))try{if("privy"===r.recovery_method){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("user-passcode"===r.recovery_method&&n){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let i=await this._proxy.recover({accessToken:o,recoveryPassword:n,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),i.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,recoveryAccessToken:s,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("icloud"===r.recovery_method&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let n=await this._proxy.recover({accessToken:o,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),n.entropyId}if("recovery-encryption-key"===r.recovery_method&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,recoveryKey:i,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}}catch(t){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:t instanceof Error?t.message:`Unable to recover wallet: ${e}`}),t}throw l}}constructor(e,t,r,n,i,s){if(this._chains=Array.from(d.m),this._privyInternal=e,t&&(this._proxy=new S(t,i),n.setProxy(this._proxy)),r){let e=(0,h._)(r);this._chains=e}this._mfa=n,this._mfaPromises=i,this._appApi=s}}class q extends k.A{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}}var W,V,H=r(99210),K=r(16350),G=((V={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",V.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",V.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",V.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",V.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",V.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",V.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",V.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",V.INVALID_DATA="invalid_data",V.INVALID_CREDENTIALS="invalid_credentials",V.INVALID_CAPTCHA="invalid_captcha",V.LINKED_TO_ANOTHER_USER="linked_to_another_user",V.ALLOWLIST_REJECTED="allowlist_rejected",V.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",V.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",V.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",V.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",V.TOO_MANY_REQUESTS="too_many_requests",V.RESOURCE_CONFLICT="resource_conflict",V.INVALID_ORIGIN="invalid_origin",V.MISSING_ORIGIN="missing_origin",V.INVALID_NATIVE_APP_ID="invalid_native_app_id",V.TOKEN_ALREADY_USED="token_already_used",V.ALREADY_LOGGED_OUT="already_logged_out",V.NOT_SUPPORTED="not_supported",V.USER_UNSUBSCRIBED="user_unsubscribed",V.MAX_APPS_REACHED="max_apps_reached",V.USER_LIMIT_REACHED="max_accounts_reached",V.DEVICE_REVOKED="device_revoked",V.WALLET_PASSWORD_EXISTS="wallet_password_exists",V.OAUTH_STATE_MISMATCH="oauth_state_mismatch",V.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",V.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",V.DISALLOWED_LOGIN_METHOD="disallowed_login_method",V.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",V.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",V.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",V.CANNOT_SET_PASSWORD="cannot_set_password",V.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",V.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",V.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",V.USER_DOES_NOT_EXIST="user_does_not_exist",V.ALREADY_EXISTS="resource_already_exists",V.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",V.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",V.FEATURE_NOT_ENABLED="feature_not_enabled",V.INSUFFICIENT_FUNDS="insufficient_funds",V.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",V.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",V.INVALID_SOLANA_TRANSACTION="invalid_solana_transaction",V.INVALID_POLICY_FORMAT="invalid_policy_format",V.INVALID_AGGREGATION_FORMAT="invalid_aggregation_format",V.POLICY_VIOLATION="policy_violation",V.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",V.INVALID_REQUEST="invalid_request",V.SIGNUP_DISABLED="signup_disabled",V);let Z={path:"/api/v1/apps/:app_id",method:"GET"},J={path:"/api/v1/analytics_events",method:"POST"},Y={path:"/api/v1/sessions",method:"POST"},X={path:"/api/v1/sessions/logout",method:"POST"};var Q=r(71860),ee=r(32709);let et=Promise.allSettled.bind(Promise)??(e=>Promise.all(e.map(e=>e.then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e}))))),er="privy:token",en="privy-token",ei="privy:pat",es="privy:refresh_token",ea="privy-refresh-token",eo="privy:id-token",el="privy-id-token",ec="privy-session";class eu extends k.A{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(er);try{return"string"==typeof e?new o(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(ei);try{return"string"==typeof e?new o(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(es);return"string"==typeof e?e:null}async getIdentityToken(){let e=await this._storage.get(eo);return"string"==typeof e?e:null}get mightHaveServerCookies(){try{let e=ee.A.get(ec);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,t){return this.mightHaveServerCookies||"string"==typeof e&&"string"==typeof t}tokenIsActive(e){if(!e)return!1;let t=o.parse(e);return null!==t&&!t.isExpired(30)}async destroyLocalState(e){await et([this._storage.del(er),this._storage.del(es),this._storage.del(eo),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),ee.A.remove(en),ee.A.remove(ea),ee.A.remove(el),ee.A.remove(ec),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if("string"==typeof e){let t=await this._storage.get(er);if(await this._storage.put(er,e),!this._isUsingServerCookies){let t=o.parse(e)?.expiration;ee.A.set(en,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(er);await this._storage.del(er),ee.A.remove(en),null!==e&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){"string"==typeof e?await this._storage.put(ei,e):await this._storage.del(ei)}async storeRefreshToken(e){"string"==typeof e?(await this._storage.put(es,e),this._isUsingServerCookies||(ee.A.set(ec,"t",{sameSite:"Strict",secure:!0,expires:30}),ee.A.set(ea,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(es),ee.A.remove(ea),ee.A.remove(ec),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let t=(await et([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(e=>"rejected"===e.status);t.length>0&&this.emit("error_storing_tokens",t.map(e=>String(e.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if("string"==typeof e){let t=await this._storage.get(eo);if(await this._storage.put(eo,e),!this._isUsingServerCookies){let t=o.parse(e)?.expiration;ee.A.set(el,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(eo);await this._storage.del(eo),ee.A.remove(el),null!==e&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&"string"==typeof e)return e;let t=Q.l(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,t),t}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}}eu.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];let ed=()=>{},eh={NONE:-1/0,ERROR:1,WARN:2,INFO:3,DEBUG:1/0},ef="privy:caid";class ep{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new f.wE({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:t,query:r}){let n;return`${this.baseUrl}${n=e.path,t?Object.entries(t).reduce((e,[t,r])=>e.replace(`:${t}`,`${r}`),n):n}${function(e){let t=new URLSearchParams;for(let r in e)null!=e[r]&&t.append(r,String(e[r]));return Array.from(t).length?"?"+t.toString():""}(r)}`}async fetch(e,{body:t,params:r,query:n,headers:i,onRequest:s=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:n}),{method:e.method,body:JSON.stringify(t),headers:i}),o=await s(a),l=await this._fetch(a,o),c=await l.json();if(l.status>299)throw new f.VQ(c);return c}async _beforeRequestWithoutInitialize(e){let t,r=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:(t=new AbortController,setTimeout(()=>t.abort(),2e4),t.signal),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(Z,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(ef);if("string"==typeof e&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=(0,K.A)()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(ef,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(ef)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,t){try{await this.fetch(J,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:t},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch(e){}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new f.wE({code:"storage_error",error:"Unable to access storage"});let t=await this.session.getRefreshToken()??void 0,r=t??"key",n=this._cache.get(r);if(n)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await n;let i=this._refreshSession(t,e);this._cache.set(r,i);try{return await i}finally{this._cache.delete(r)}}async _refreshSession(e,t){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new f.VQ({code:G.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${Y.path}`);let r=await this.fetch(Y,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),n=r.session_update_action;return this.logger.debug(`[privy:refresh] response: ${n}`),"set"===n&&(await this.session.updateWithTokensResponse(r),this.logger.debug("[privy:refresh] tokens stored")),"clear"===n&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),t||this.callbacks?.setUser?.(null)),"ignore"===n&&(r.token&&(await this.session.storeCustomerAccessToken(r.token),this.logger.debug("[privy:refresh] token stored (CAT)")),r.privy_access_token&&(await this.session.storePrivyAccessToken(r.privy_access_token),this.logger.debug("[privy:refresh] token stored (PAT)")),r.identity_token&&(this.logger.debug("[privy:refresh] token stored (IDT)"),await this.session.storeIdentityToken(r.identity_token))),this.logger.debug("[privy:refresh] returning response"),t||this.callbacks?.setUser?.(r.user),r}catch(e){throw this.logger.debug(`[privy:refresh] error: ${e.message??"unknown error"}`),e instanceof f.VQ&&e.code===G.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),t||this.callbacks?.setUser?.(null)),e}}async getAccessToken(){let[e,t]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,t)){let t=await this.refreshSession(),r=await this.session.getCustomerAccessToken();return t.token||this.logger.debug("[privy:getAccessToken] expected token received null"),t.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),r===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),t.token??r}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${(0,K.A)()}`,t="blobby";await this._storage.put(e,t);let r=await this._storage.get(e);return await this._storage.del(e),r===t}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.60.0",this._cache=new Map,this.logger=(({level:e}={level:"ERROR"})=>({get level(){return e},error:eh[e]>=eh.ERROR?console.error:ed,warn:eh[e]>=eh.WARN?console.warn:ed,info:eh[e]>=eh.INFO?console.info:ed,debug:eh[e]>=eh.DEBUG?console.debug:ed}))({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new eu({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=H(globalThis.fetch,{retries:3,retryDelay:e=>3**e*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",e=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:e})})}}let ey={path:"/api/v1/users/me/accept_terms",method:"POST"};class eg{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(ey,{})}}constructor(e){this._privyInternal=e}}let em={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},eb={path:"/api/v1/custom_jwt_account/link",method:"POST"},ev=e=>"wallet"===e.type&&"privy"===e.wallet_client_type&&"embedded"===e.connector_type,ew=e=>e?e.linked_accounts.filter(ev).filter(e=>"ethereum"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],e_=e=>ew(e).find(e=>0===e.wallet_index)??null,ex=e=>e?e.linked_accounts.filter(ev).filter(e=>"solana"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],eE=async(e,t,r)=>{let n,i,s,a,o=(n=t.user,!("off"===(i=r?.ethereum?.createOnLogin??"off")||ew(n).length>0||n.linked_accounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chain_type).length>0&&"all-users"!==i)),l=(s=t.user,!("off"===(a=r?.solana?.createOnLogin??"off")||ex(s).length>0||s.linked_accounts.filter(e=>"wallet"===e.type&&"solana"===e.chain_type).length>0&&"all-users"!==a));if(o&&l){let r=await e.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await e.createSolana({ethereumAccount:e_(r.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}}return o?{...await e.create({recoveryMethod:"privy",solanaAccount:ex(t.user).find(e=>0===e.wallet_index)??null??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:l?{...await e.createSolana({ethereumAccount:e_(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:t};class eI{async syncWithToken(e,t,r){let n=await this._privyInternal.fetch(em,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await eE(this._embedded,n,t?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithToken(e){await this._privyInternal.fetch(eb,{body:{token:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let eA={path:"/api/v1/passwordless/authenticate",method:"POST"},eS={path:"/api/v1/passwordless/init",method:"POST"},ek={path:"/api/v1/passwordless/link",method:"POST"},eC={path:"/api/v1/passwordless/unlink",method:"POST"},eP={path:"/api/v1/passwordless/update",method:"POST"};class eT{async sendCode(e,t){return this._privyInternal.fetch(eS,{body:{email:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(eA,{body:{email:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eE(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,t){await this._privyInternal.fetch(ek,{body:{email:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:t,code:r}){await this._privyInternal.fetch(eP,{body:{oldAddress:e,newAddress:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(eC,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let eO={path:"/api/v1/farcaster/init",method:"POST"},eR={path:"/api/v1/farcaster/authenticate",method:"POST"},eD={path:"/api/v1/farcaster/link",method:"POST"},eN={path:"/api/v1/farcaster/unlink",method:"POST"},eB={path:"/api/v1/farcaster/status",method:"GET"},eU={path:"/api/v2/farcaster/init",method:"POST"},ej={path:"/api/v2/farcaster/authenticate",method:"POST"};class eM{async initializeAuth({relyingParty:e,redirectUrl:t,token:r}){return await this._privyInternal.fetch(eO,{body:{relying_party:e,redirect_url:t,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(eB,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:t,signature:r,fid:n,mode:i},s){let a=await this._privyInternal.fetch(eR,{body:{channel_token:e,message:t,signature:r,fid:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(a);let o=await eE(this._embedded,a,s?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async link({channel_token:e,message:t,signature:r,fid:n}){await this._privyInternal.fetch(eD,{body:{channel_token:e,message:t,signature:r,fid:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(eN,{body:{fid:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class eL{async initializeAuth(){return await this._privyInternal.fetch(eU,{body:{}})}async authenticate({message:e,signature:t,fid:r},n){let i=await this._privyInternal.fetch(ej,{body:{message:e,signature:t,fid:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eE(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,t){this._privyInternal=e,this._embedded=t}}let e$={path:"/api/v1/guest/authenticate",method:"POST"};class ez{async create(e){let t=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(e$,{body:{guest_credential:t}});await this._privyInternal.session.updateWithTokensResponse(r);let n=await eE(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(n.user),n}constructor(e,t){this._privyInternal=e,this._embedded=t}}let eF={path:"/api/v1/oauth/authenticate",method:"POST"},eq={path:"/api/v1/oauth/init",method:"POST"},eW={path:"/api/v1/oauth/link",method:"POST"},eV={path:"/api/v1/oauth/unlink",method:"POST"},eH="privy:state_code",eK="privy:code_verifier";async function eG(e,t){let r=(new TextEncoder).encode(e);return new Uint8Array(await t("SHA-256",r))}function eZ(){return Q.l(crypto.getRandomValues(new Uint8Array(36)))}async function eJ({codeVerifier:e,method:t="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if("S256"!=t)return e;{let t=await eG(e,r);return Q.l(t)}}class eY{async generateURL(e,t){let r=eZ(),n=eZ(),i=await eJ({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(eK,r),this._storage.put(eH,n)]),this._privyInternal.fetch(eq,{body:{redirect_to:t,provider:e,code_challenge:i,state_code:n}})}async loginWithCode(e,t,r,n,i,s){let[a,o]=await Promise.all([this._storage.get(eK),this._storage.get(eH)]);if(o!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:t??""}),new f.wE({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(eF,{body:{authorization_code:e,code_type:n,state_code:o,code_verifier:a,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await eE(this._embedded,l,s?.embedded);return await Promise.all([this._storage.del(eK),this._storage.del(eH)]),this._privyInternal.callbacks?.setUser?.(c.user),c}async linkWithCode(e,t,r,n){let[i,s]=await Promise.all([this._storage.get(eK),this._storage.get(eH)]);if(s!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:s??"",returnedStateCode:t??""}),new f.wE({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(eW,{body:{authorization_code:e,code_type:n,state_code:s,code_verifier:i}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let o=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(eK),this._storage.del(eH)]),{user:o.user,identity_token:o.identity_token}}async unlink(e,t){await this._privyInternal.fetch(eV,{body:{provider:e,subject:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,t,r,n){this._privyInternal=e,this._embedded=t,this._storage=r,this._crypto=n}}let eX={path:"/api/v1/passkeys/link",method:"POST"},eQ={path:"/api/v1/passkeys/authenticate",method:"POST"},e0={path:"/api/v1/passkeys/register",method:"POST"},e1={path:"/api/v1/passkeys/authenticate/init",method:"POST"},e2={path:"/api/v1/passkeys/register/init",method:"POST"},e6={path:"/api/v1/passkeys/link/init",method:"POST"};class e5{async generateRegistrationOptions(e){return await this._privyInternal.fetch(e6,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(e1,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(e2,{body:{relying_party:e}})}async loginWithPasskey(e,t,r,n){let i=await this._privyInternal.fetch(eQ,{body:{relying_party:r,challenge:t,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eE(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async signupWithPasskey(e,t,r){let n=await this._privyInternal.fetch(e0,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await eE(this._embedded,n,r?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithPasskey(e,t){await this._privyInternal.fetch(eX,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let e8={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},e3={path:"/api/v1/passwordless_sms/init",method:"POST"},e4={path:"/api/v1/passwordless_sms/link",method:"POST"},e9={path:"/api/v1/passwordless_sms/unlink",method:"POST"},e7={path:"/api/v1/passwordless_sms/update",method:"POST"};class te{async sendCode(e,t){return this._privyInternal.fetch(e3,{body:{phoneNumber:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(e8,{body:{phoneNumber:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eE(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,t){await this._privyInternal.fetch(e4,{body:{phoneNumber:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:t,code:r}){await this._privyInternal.fetch(e7,{body:{old_phone_number:e,new_phone_number:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(e9,{body:{phoneNumber:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let tt={path:"/api/v1/siwe/init",method:"POST"},tr={path:"/api/v1/siwe/authenticate",method:"POST"},tn={path:"/api/v1/siwe/link",method:"POST"},ti={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},ts={path:"/api/v1/siwe/unlink",method:"POST"};class ta{async unlinkWallet(e){await this._privyInternal.fetch(ts,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async linkWithSiwe(e,t,r){let n=t||this._wallet,i=r||this._preparedMessage;if(!n)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!i)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(tn,{body:{message:i,signature:e,chainId:n.chainId,walletClientType:n.walletClientType??null,connectorType:n.connectorType??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async loginWithSiwe(e,t,r,n,i){let s=t||this._wallet,a=r||this._preparedMessage;if(!s)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let o=await this._privyInternal.fetch(tr,{body:{signature:e,message:a,chainId:s.chainId,walletClientType:s.walletClientType??null,connectorType:s.connectorType??null,mode:n}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await eE(this._embedded,o,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async init(e,t,r){var n;this._wallet=e;let{nonce:i}=await this._privyInternal.fetch(tt,{body:{address:e.address}}),s=`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:t,nonce:i,uri:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=s,{nonce:i,message:s}}constructor(e,t){this._wallet=void 0,this._privyInternal=e,this._embedded=t}}let to={path:"/api/v1/siws/init",method:"POST"},tl={path:"/api/v1/siws/authenticate",method:"POST"},tc={path:"/api/v1/siws/link",method:"POST"},tu={path:"/api/v1/siws/unlink",method:"POST"};class td{async unlink({address:e}){await this._privyInternal.fetch(tu,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async link({message:e,signature:t,walletClientType:r,connectorType:n}){await this._privyInternal.fetch(tc,{body:{message:e,signature:t,walletClientType:r??null,connectorType:n??null}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async login({mode:e,message:t,signature:r,walletClientType:n,connectorType:i,opts:s}){let a=await this._privyInternal.fetch(tl,{body:{signature:r,message:t,walletClientType:n??null,connectorType:i??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let o=await eE(this._embedded,a,s?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async fetchNonce({address:e}){let{nonce:t}=await this._privyInternal.fetch(to,{body:{address:e}});return{nonce:t}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class th{async link(e,t,r,n){await this._privyInternal.fetch(ti,{body:{message:e,signature:t,smart_wallet_type:r,smart_wallet_version:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async init(e){var t;let{nonce:r}=await this._privyInternal.fetch(tt,{body:{address:e.address}});return{nonce:r,message:`${(t={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${t.address}

${t.statement}

URI: ${t.uri}
Version: 1
Chain ID: ${t.chainId}
Nonce: ${t.nonce}
Issued At: ${t.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}}class tf{async logout(e){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(X,{body:{refresh_token:e}})}catch(e){console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,t,r,n,i){this._privyInternal=e,this._mfa=i,this.customProvider=new eI(this._privyInternal,t),this.phone=new te(this._privyInternal,t),this.email=new eT(this._privyInternal,t),this.oauth=new eY(this._privyInternal,t,r,n),this.guest=new ez(this._privyInternal,t),this.siwe=new ta(this._privyInternal,t),this.siws=new td(this._privyInternal,t),this.smartWallet=new th(this._privyInternal),this.passkey=new e5(this._privyInternal,t),this.farcaster=new eM(this._privyInternal,t),this.farcasterV2=new eL(this._privyInternal,t)}}let tp={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},ty={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"};class tg{async initOnRampSession(e){return await this._privyInternal.fetch(tp,{body:e})}async getStatus(e){return await this._privyInternal.fetch(ty,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}}let tm={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"};var tb=r(34815);class tv{async sign(e){return await this._privyInternal.fetch(tm,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:t}){let{url:r,key:n}=tb.IX[t?"sandbox":"prod"],i=await H(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${n}`);if(!i.ok)throw new f.gn({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:i});let s=await i.json();return Array.isArray(s)?s.at(0):void 0}constructor(e){this._privyInternal=e}}class tw{constructor(e){this.moonpay=new tv(e),this.coinbase=new tg(e)}}let t_={path:"/api/v1/mfa/passkeys/init",method:"POST"};class tx{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(t_,{body:e})}constructor(e){this._privyInternal=e}}let tE={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"};class tI{async sendCode(e){return await this._privyInternal.fetch(tE,{body:e})}constructor(e){this._privyInternal=e}}class tA{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new f.wE({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),t}async unenrollMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),t}async clearMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,t){this.proxy=t,this.privyInternal=e,this.sms=new tI(e),this.passkey=new tx(e)}}let tS={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},tk={path:"/api/v1/recovery/oauth/init",method:"POST"},tC={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},tP={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},tT={path:"/api/v1/recovery/configuration_icloud",method:"POST"},tO=class{async init(e){return this._privyInternal.fetch(tP,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(tT,{body:{client_type:e}})}constructor(e){this._privyInternal=e}};class tR{async generateURL(e){let t=eZ(),r=eZ(),n=await eJ({codeVerifier:t,digest:this._crypto?.digest});return await Promise.all([this._storage.put(eK,t),this._storage.put(eH,r)]),this._privyInternal.fetch(tk,{body:{redirect_to:e,code_challenge:n,state_code:r}})}async authorize(e,t){let[r,n]=await Promise.all([this._storage.get(eK),this._storage.get(eH)]);if(n!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:n??"",returnedStateCode:t??""}),new f.wE({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let i=await this._privyInternal.fetch(tC,{body:{authorization_code:e,state_code:n,code_verifier:r}});return await Promise.all([this._storage.del(eK),this._storage.del(eH)]),i}constructor(e,t,r){this._privyInternal=e,this._storage=t,this._crypto=r}}class tD{async getRecoveryKeyMaterial(e,t){return this._privyInternal.fetch(tS,{body:{chain_type:t},params:{address:e}})}constructor(e,t,r){this._privyInternal=e,this.auth=new tR(this._privyInternal,t,r),this.icloudAuth=new tO(this._privyInternal)}}class tN{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,t){return this._privyInternal.getPath(e,t)}async fetchPrivyRoute(e,t){return this._privyInternal.fetch(e,t)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...t}){this._privyInternal=new ep({...t,appClientId:e}),this.mfa=new tA(this._privyInternal),this.mfaPromises=new q,this.app=new i(this._privyInternal),this.embeddedWallet=new F(this._privyInternal,t.embeddedWalletMessagePoster,t.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new eg(this._privyInternal),this.auth=new tf(this._privyInternal,this.embeddedWallet,t.storage,t.crypto,this.mfa),this.recovery=new tD(this._privyInternal,t.storage,t.crypto),this.funding=new tw(this._privyInternal),this.delegated=new u(this._privyInternal),this.crossApp=new l(this._privyInternal,t.storage)}}},45855:(e,t,r)=>{"use strict";r.d(t,{A1:()=>c,di:()=>a,iN:()=>u});var n=r(34244),i=r(84968),s=r(38006);function a(e,t,r,{strict:n}={}){return(0,i.q)(e,{strict:!1})?u(e,t,r,{strict:n}):c(e,t,r,{strict:n})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,s.E)(e)-1)throw new n.ii({offset:t,position:"start",size:(0,s.E)(e)})}function l(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,s.E)(e)!==r-t)throw new n.ii({offset:r,position:"end",size:(0,s.E)(e)})}function c(e,t,r,{strict:n}={}){o(e,t);let i=e.slice(t,r);return n&&l(i,t,r),i}function u(e,t,r,{strict:n}={}){o(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&l(i,t,r),i}},46157:(e,t,r)=>{"use strict";r.d(t,{EH:()=>s,YE:()=>o,jF:()=>a,qD:()=>l,rj:()=>i});var n=r(42213);class i extends n.C{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class s extends n.C{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class a extends n.C{constructor(){super("No chain was provided to the request.\nPlease provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.",{name:"ChainNotFoundError"})}}class o extends n.C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class l extends n.C{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}},46350:(e,t,r)=>{let n=r(69112);function i(e,t,r,n,i,a){l[e]=l[e]+l[t]+i,l[n]=s(l[n]^l[e],16),l[r]=l[r]+l[n],l[t]=s(l[t]^l[r],12),l[e]=l[e]+l[t]+a,l[n]=s(l[n]^l[e],8),l[r]=l[r]+l[n],l[t]=s(l[t]^l[r],7)}function s(e,t){return e>>>t^e<<32-t}let a=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),o=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),c=new Uint32Array(16);function u(e,t){let r=0;for(r=0;r<8;r++)l[r]=e.h[r],l[r+8]=a[r];for(l[12]^=e.t,l[13]^=e.t/0x100000000,t&&(l[14]=~l[14]),r=0;r<16;r++){var n,s;c[r]=(n=e.b)[s=4*r]^n[s+1]<<8^n[s+2]<<16^n[s+3]<<24}for(r=0;r<10;r++)i(0,4,8,12,c[o[16*r+0]],c[o[16*r+1]]),i(1,5,9,13,c[o[16*r+2]],c[o[16*r+3]]),i(2,6,10,14,c[o[16*r+4]],c[o[16*r+5]]),i(3,7,11,15,c[o[16*r+6]],c[o[16*r+7]]),i(0,5,10,15,c[o[16*r+8]],c[o[16*r+9]]),i(1,6,11,12,c[o[16*r+10]],c[o[16*r+11]]),i(2,7,8,13,c[o[16*r+12]],c[o[16*r+13]]),i(3,4,9,14,c[o[16*r+14]],c[o[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=l[r]^l[r+8]}function d(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=0x1010000^r<<8^e,r>0&&(h(n,t),n.c=64),n}function h(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[r]}function f(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;u(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function p(e,t,r){r=r||32,e=n.normalizeInput(e);let i=d(r,t);return h(i,e),f(i)}e.exports={blake2s:p,blake2sHex:function(e,t,r){let i=p(e,t,r);return n.toHex(i)},blake2sInit:d,blake2sUpdate:h,blake2sFinal:f}},46403:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(70199);function i(e,{emitOnBegin:t,initialWaitTime:r,interval:i}){let s=!0,a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));let l=await r?.(o)??i;await (0,n.u)(l);let c=async()=>{s&&(await e({unpoll:a}),await (0,n.u)(i),c())};c()})(),a}},47016:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(16678),i=r(72608);function s(e){let{commitments:t,version:r}=e,s=e.to??("string"==typeof t[0]?"hex":"bytes"),a=[];for(let e of t)a.push(function(e){let{commitment:t,version:r=1}=e,s=e.to??("string"==typeof t?"hex":"bytes"),a=(0,i.s)(t,"bytes");return a.set([r],0),"bytes"===s?a:(0,n.My)(a)}({commitment:e,to:s,version:r}));return a}},47866:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});let n=new Map,i=new Map;async function s(e,{cacheKey:t,cacheTime:r=1/0}){let s,a,o,l=(a=(s=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}))(t,n),{clear:()=>{a.clear(),o.clear()},promise:a,response:o=s(t,i)}),c=l.response.get();if(c&&r>0&&Date.now()-c.created.getTime()<r)return c.data;let u=l.promise.get();u||(u=e(),l.promise.set(u));try{let e=await u;return l.response.set({created:new Date,data:e}),e}finally{l.promise.clear()}}async function a(e,{cacheTime:t=e.cacheTime}={}){let r;return BigInt(await s(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t}))}},47909:(e,t,r)=>{"use strict";r.d(t,{PUP:()=>E,Q7D:()=>I,YsN:()=>m,_mM:()=>x});var n,i,s,a,o,l=r(92722),c=r(38290),u=r(19122),d=r(64450),h=r(33918),f=r(77020),p=((n=p||{})[n.Uninitialized=0]="Uninitialized",n[n.Initialized=1]="Initialized",n[n.Frozen=2]="Frozen",n),y=((i=y||{})[i.MintTokens=0]="MintTokens",i[i.FreezeAccount=1]="FreezeAccount",i[i.AccountOwner=2]="AccountOwner",i[i.CloseAccount=3]="CloseAccount",i),g=((s=g||{})[s.CreateAssociatedToken=0]="CreateAssociatedToken",s[s.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",s[s.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",s),m="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",b=((a=b||{})[a.Mint=0]="Mint",a[a.Token=1]="Token",a[a.Multisig=2]="Multisig",a),v=((o=v||{})[o.InitializeMint=0]="InitializeMint",o[o.InitializeAccount=1]="InitializeAccount",o[o.InitializeMultisig=2]="InitializeMultisig",o[o.Transfer=3]="Transfer",o[o.Approve=4]="Approve",o[o.Revoke=5]="Revoke",o[o.SetAuthority=6]="SetAuthority",o[o.MintTo=7]="MintTo",o[o.Burn=8]="Burn",o[o.CloseAccount=9]="CloseAccount",o[o.FreezeAccount=10]="FreezeAccount",o[o.ThawAccount=11]="ThawAccount",o[o.TransferChecked=12]="TransferChecked",o[o.ApproveChecked=13]="ApproveChecked",o[o.MintToChecked=14]="MintToChecked",o[o.BurnChecked=15]="BurnChecked",o[o.InitializeAccount2=16]="InitializeAccount2",o[o.SyncNative=17]="SyncNative",o[o.InitializeAccount3=18]="InitializeAccount3",o[o.InitializeMultisig2=19]="InitializeMultisig2",o[o.InitializeMint2=20]="InitializeMint2",o[o.GetAccountDataSize=21]="GetAccountDataSize",o[o.InitializeImmutableOwner=22]="InitializeImmutableOwner",o[o.AmountToUiAmount=23]="AmountToUiAmount",o[o.UiAmountToAmount=24]="UiAmountToAmount",o);function w(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:l.Uv.READONLY});let r=t.isWritable?l.Uv.WRITABLE:l.Uv.READONLY;return Object.freeze({address:function(e){if(!e)throw Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}(t.value),role:_(t.value)?(0,l.MR)(r):r,..._(t.value)?{signer:t.value}:{}})}}function _(e){return!!e&&"object"==typeof e&&"address"in e&&(0,c.Pl)(e)}async function x(e,t={}){let{programAddress:r="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await (0,u.o0)({programAddress:r,seeds:[(0,u.jw)().encode(e.owner),(0,u.jw)().encode(e.tokenProgram),(0,u.jw)().encode(e.mint)]})}function E(e,t){let r=t?.programAddress??"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",n={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};n.tokenProgram.value||(n.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.systemProgram.value||(n.systemProgram.value="11111111111111111111111111111111");let i=w(r);return Object.freeze({accounts:[i(n.payer),i(n.ata),i(n.owner),i(n.mint),i(n.systemProgram),i(n.tokenProgram)],data:(0,d.FU)((0,h.a5)([["discriminator",(0,f.Qe)()]]),e=>({...e,discriminator:1})).encode({}),programAddress:r})}function I(e,t){let r=t?.programAddress??m,n={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},i={...e},s=(i.multiSigners??[]).map(e=>({address:e.address,role:l.Uv.READONLY_SIGNER,signer:e})),a=w(r);return Object.freeze({accounts:[a(n.source),a(n.destination),a(n.authority),...s],data:(0,d.FU)((0,h.a5)([["discriminator",(0,f.Qe)()],["amount",(0,f.eC)()]]),e=>({...e,discriminator:3})).encode(i),programAddress:r})}},48713:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(4714),i=r(68549),s=r(38252);function a({r:e,s:t,to:r="hex",v:a,yParity:o}){let l=(()=>{if(0===o||1===o)return o;if(a&&(27n===a||28n===a||a>=35n))return+(a%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),c=`0x${new n.secp256k1.Signature((0,i.uU)(e),(0,i.uU)(t)).toCompactHex()}${0===l?"1b":"1c"}`;return"hex"===r?c:(0,s.aT)(c)}},48823:(e,t,r)=>{"use strict";var n=r(35640);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return n.getBigIntRpcId}}),r.o(n,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return n.isHttpUrl}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}}),r.o(n,"payloadId")&&r.d(t,{payloadId:function(){return n.payloadId}})},48896:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(98539),i=r(73634);function s(e){let t=(0,i.S)(`0x${e.substring(4)}`).substring(26);return(0,n.o)(`0x${t}`)}},49139:(e,t,r)=>{"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{Y:()=>n})},49162:(e,t,r)=>{"use strict";r.d(t,{eF:()=>o,mE:()=>i,rI:()=>a,vG:()=>s});var n=r(4521);function i(e){return n.jf.includes(e)}function s(e){return Object.keys(n.Uf).includes(e)?n.Uf[e]:n.Uf[n.XW]}function a(e){let t=Object.values(n.Uf).find(t=>t.code===e);return t||n.Uf[n.XW]}function o(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}},49336:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(1176),i=r(78552),s=r(76588);function a(e,{docsPath:t,...r}){let a,o=(a=(0,s.l)(e,r))instanceof n.RM?e:a;return new i.$s(o,{docsPath:t,...r})}},49585:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=Object.defineProperty,i=(e,t,r)=>{let i;return(i="symbol"!=typeof t?t+"":t)in e?n(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r,r};class s{constructor(){i(this,"current",this.detect()),i(this,"handoffState","pending"),i(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}let a=new s},49612:(e,t,r)=>{"use strict";r.d(t,{x:()=>u});var n=r(48896),i=r(84968),s=r(38006),a=r(68549),o=r(16678);async function l({hash:e,signature:t}){let n=(0,i.q)(e)?e:(0,o.nj)(e),{secp256k1:l}=await Promise.resolve().then(r.bind(r,4714)),u=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:i}=t,s=c(Number(i??n));return new l.Signature((0,a.uU)(e),(0,a.uU)(r)).addRecoveryBit(s)}let e=(0,i.q)(t)?t:(0,o.nj)(t);if(65!==(0,s.E)(e))throw Error("invalid signature length");let r=c((0,a.ME)(`0x${e.slice(130)}`));return l.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${u}`}function c(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function u({hash:e,signature:t}){return(0,n.M)(await l({hash:e,signature:t}))}},49638:(e,t,r)=>{"use strict";r.d(t,{A:()=>m,V:()=>m});var n=r(50863),i=r(82670),s=r.n(i),a=r(22706),o=r(83792),l=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&p(e,r,t[r]);if(d)for(var r of d(t))f.call(t,r)&&p(e,r,t[r]);return e};let g={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class m{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new n.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,o.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t,r,n=(0,a.h)(e),i=await (await s()(this.url,(t=y({},g),r={body:n},c(t,u(r))))).json();this.onPayload({data:i})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!(0,o.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t,r,n=(0,a.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,(t=y({},g),r={body:n},c(t,u(r))))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,a.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,o.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,o.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},50244:(e,t,r)=>{"use strict";r.d(t,{$:()=>rB});var n=r(38653),i=r(40082),s=r(65906),a=r(64101),o=r(5247),l=r(16678),c=r(42213),u=r(82148);function d(e){if(!(e instanceof c.C))return!1;let t=e.walk(e=>e instanceof u.M);return t instanceof u.M&&(t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile")}var h=r(61970),f=r(99859),p=r(38252),y=r(73634),g=r(84968);function m(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,g.q)(t)?t:null}function b(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,l.My)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=m(r[e]),i=n?(0,p.ZJ)(n):(0,y.S)((0,p.Af)(r[e]),"bytes");t=(0,y.S)((0,f.xW)([t,i]),"bytes")}return(0,l.My)(t)}function v(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,p.Af)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){var s;let t=(0,p.Af)(i[e]);t.byteLength>255&&(t=(0,p.Af)((s=function(e){let t=new Uint8Array(32).fill(0);return e?m(e)||(0,y.S)((0,p.Af)(e)):(0,l.My)(t)}(i[e]),`[${s.slice(2)}]`))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var w=r(85436),_=r(73536);async function x(e,t){let{blockNumber:r,blockTag:c,coinType:u,name:f,gatewayUrls:p,strict:y}=t,{chain:g}=e,m=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!g)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:r,chain:g,contract:"ensUniversalResolver"})})(),x=g?.ensTlds;if(x&&!x.some(e=>f.endsWith(e)))return null;let E=null!=u?[b(f),BigInt(u)]:[b(f)];try{let t=(0,s.p)({abi:n.Rm,functionName:"addr",args:E}),a={address:m,abi:n.Ag,functionName:"resolveWithGateways",args:[(0,l.nj)(v(f)),t,p??[h.J]],blockNumber:r,blockTag:c},u=(0,w.T)(e,_.J,"readContract"),d=await u(a);if("0x"===d[0])return null;let y=(0,i.e)({abi:n.Rm,args:E,functionName:"addr",data:d[0]});if("0x"===y||"0x00"===(0,o.B)(y))return null;return y}catch(e){if(y)throw e;if(d(e))return null;throw e}}class E extends c.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class I extends c.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class A extends c.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class S extends c.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}c.C;let k=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,C=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,P=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,T=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function O(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function R(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function D({uri:e,gatewayUrls:t}){let r=P.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=R(t?.ipfs,"https://ipfs.io"),i=R(t?.arweave,"https://arweave.net"),s=e.match(k),{protocol:a,subpath:o,target:l,subtarget:c=""}=s?.groups||{},u="ipns:/"===a||"ipns/"===o,d="ipfs:/"===a||"ipfs/"===o||C.test(e);if(e.startsWith("http")&&!u&&!d){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(T,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new A({uri:e})}function N(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new E({data:e});return e.image||e.image_url||e.image_data}async function B({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await U({gatewayUrls:e,uri:N(r)})}catch{throw new A({uri:t})}}async function U({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=D({uri:t,gatewayUrls:e});if(n||await O(r))return r;throw new A({uri:t})}async function j(e,{nft:t}){if("erc721"===t.namespace)return(0,_.J)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,_.J)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new S({namespace:t.namespace})}async function M(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?L(e,{gatewayUrls:t,record:r}):U({uri:r,gatewayUrls:t})}async function L(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[s,a]=r.split(":"),[o,l]=n.split(":");if(!s||"eip155"!==s.toLowerCase())throw new I({reason:"Only EIP-155 supported"});if(!a)throw new I({reason:"Chain ID not found"});if(!l)throw new I({reason:"Contract address not found"});if(!i)throw new I({reason:"Token ID not found"});if(!o)throw new I({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}(r),{uri:i,isOnChain:s,isEncoded:a}=D({uri:await j(e,{nft:n}),gatewayUrls:t});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return U({uri:N(JSON.parse(a?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let o=n.tokenID;return"erc1155"===n.namespace&&(o=o.replace("0x","").padStart(64,"0")),B({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,o)})}async function $(e,t){let{blockNumber:r,blockTag:o,key:c,name:u,gatewayUrls:f,strict:p}=t,{chain:y}=e,g=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!y)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:r,chain:y,contract:"ensUniversalResolver"})})(),m=y?.ensTlds;if(m&&!m.some(e=>u.endsWith(e)))return null;try{let t={address:g,abi:n.Ag,args:[(0,l.nj)(v(u)),(0,s.p)({abi:n.SJ,functionName:"text",args:[b(u),c]}),f??[h.J]],functionName:"resolveWithGateways",blockNumber:r,blockTag:o},a=(0,w.T)(e,_.J,"readContract"),d=await a(t);if("0x"===d[0])return null;let p=(0,i.e)({abi:n.SJ,functionName:"text",data:d[0]});return""===p?null:p}catch(e){if(p)throw e;if(d(e))return null;throw e}}async function z(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:a,universalResolverAddress:o}){let l=await (0,w.T)(e,$,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:s,strict:a});if(!l)return null;try{return await M(e,{record:l,gatewayUrls:n})}catch{return null}}async function F(e,t){let{address:r,blockNumber:i,blockTag:s,coinType:o=60n,gatewayUrls:l,strict:c}=t,{chain:u}=e,f=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:i,chain:u,contract:"ensUniversalResolver"})})();try{let t={address:f,abi:n.oX,args:[r,o,l??[h.J]],functionName:"reverseWithGateways",blockNumber:i,blockTag:s},a=(0,w.T)(e,_.J,"readContract"),[c]=await a(t);return c||null}catch(e){if(c)throw e;if(d(e))return null;throw e}}async function q(e,t){let{blockNumber:r,blockTag:n,name:i}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),c=s?.ensTlds;if(c&&!c.some(e=>i.endsWith(e)))throw Error(`${i} is not a valid ENS TLD (${c?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);let[u]=await (0,w.T)(e,_.J,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,l.nj)(v(i))],blockNumber:r,blockTag:n});return u}var W=r(68406),V=r(5805),H=r(81280),K=r(70327),G=r(26983),Z=r(31070);async function J(e,t){let{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p,...y}=t,g=r?(0,V.J)(r):void 0;try{(0,Z.c)(t);let r="bigint"==typeof n?(0,l.cK)(n):void 0,m=e.chain?.formatters?.transactionRequest?.format,b=(m||G.Bv)({...(0,K.o)(y,{format:m}),account:g,blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),v=await e.request({method:"eth_createAccessList",params:[b,r||i]});return{accessList:v.accessList,gasUsed:BigInt(v.gasUsed)}}catch(r){throw(0,H.d)(r,{...t,account:g,chain:e.chain})}}function Y(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:s})=>{"success"===i&&t===e&&(r[n]=s.request)}),t=>r[t]||e.request}async function X(e){let t=Y(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var Q=r(59670);class ee extends c.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var et=r(71759),er=r(91068),en=r(36487),ei=r(72064);let es="/docs/contract/encodeEventTopics";function ea(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,ei.iY)({abi:t,name:r});if(!e)throw new Q.M_(r,{docsPath:es});i=e}if("event"!==i.type)throw new Q.M_(void 0,{docsPath:es});let s=(0,en.B)(i),a=(0,et.h)(s),o=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(o=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>eo({param:e,value:t[r][i]})):void 0!==t[r]&&null!==t[r]?eo({param:e,value:t[r]}):null)??[])}return[a,...o]}function eo({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,y.S)((0,p.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ee(e.type);return(0,er.h)([e],[t])}async function el(e,t){let{address:r,abi:n,args:i,eventName:s,fromBlock:a,strict:o,toBlock:c}=t,u=Y(e,{method:"eth_newFilter"}),d=s?ea({abi:n,args:i,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof a?(0,l.cK)(a):a,toBlock:"bigint"==typeof c?(0,l.cK)(c):c,topics:d}]});return{abi:n,args:i,eventName:s,id:h,request:u(h),strict:!!o,type:"event"}}async function ec(e,{address:t,args:r,event:n,events:i,fromBlock:s,strict:a,toBlock:o}={}){let c=i??(n?[n]:void 0),u=Y(e,{method:"eth_newFilter"}),d=[];c&&(d=[c.flatMap(e=>ea({abi:[e],eventName:e.name,args:r}))],n&&(d=d[0]));let h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof s?(0,l.cK)(s):s,toBlock:"bigint"==typeof o?(0,l.cK)(o):o,...d.length?{topics:d}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:h,request:u(h),strict:!!a,toBlock:o,type:"event"}}async function eu(e){let t=Y(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var ed=r(10106),eh=r(9244);async function ef(e,t){let{abi:r,address:n,args:i,functionName:a,dataSuffix:o="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,...l}=t,c=(0,s.p)({abi:r,args:i,functionName:a});try{return await (0,w.T)(e,eh.Q,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:n,...l})}catch(t){let e=l.account?(0,V.J)(l.account):void 0;throw(0,ed.j)(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:e?.address})}}var ep=r(50589),ey=r(31182),eg=r(50541);async function em(e,{address:t,blockNumber:r,blockTag:a=e.experimental_blockTag??"latest"}){if(e.batch?.multicall&&e.chain?.contracts?.multicall3){let o=e.chain.contracts.multicall3.address,l=(0,s.p)({abi:n.v2,functionName:"getEthBalance",args:[t]}),{data:c}=await (0,w.T)(e,W.T,"call")({to:o,data:l,blockNumber:r,blockTag:a});return(0,i.e)({abi:n.v2,functionName:"getEthBalance",args:[t],data:c||"0x"})}let o="bigint"==typeof r?(0,l.cK)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,o||a]}))}async function eb(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}var ev=r(55015),ew=r(47866),e_=r(68549);async function ex(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i,s=void 0!==r?(0,l.cK)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]},{dedupe:!!s}),(0,e_.ME)(i)}var eE=r(42494),eI=r(90595),eA=r(68551),eS=r(41881);function ek(e){let{abi:t,args:r,logs:n,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),a=t.filter(e=>"event"===e.type).map(e=>({abi:e,selector:(0,et.h)(e)}));return n.map(e=>{let t,n,o=a.filter(t=>e.topics[0]===t.selector);if(0===o.length)return null;for(let r of o)try{t=(0,eS.j)({...e,abi:[r.abi],strict:!0}),n=r;break}catch{}if(!t&&!i){n=o[0];try{t=(0,eS.j)({data:e.data,topics:e.topics,abi:[n.abi],strict:!1})}catch{let t=n.abi.inputs?.some(e=>!("name"in e&&e.name));return{...e,args:t?[]:{},eventName:n.abi.name}}}return t&&n&&(!s||s.includes(t.eventName))&&function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{if("address"===e.type)return(0,eA.h)(t,r);if("string"===e.type||"bytes"===e.type)return(0,y.S)((0,p.ZJ)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let s=r[n];return!!s&&(Array.isArray(e)?e:[e]).some(e=>i(s,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let s=r.find(t=>t.name===e);return!!s&&(Array.isArray(n)?n:[n]).some(r=>i(s,r,t[e]))})}({args:t.args,inputs:n.abi.inputs,matchArgs:r})?{...t,...e}:null}).filter(Boolean)}var eC=r(36688);async function eP(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:s,events:a,args:o,strict:c}={}){let u=a??(s?[s]:void 0),d=[];u&&(d=[u.flatMap(e=>ea({abi:[e],eventName:e.name,args:a?void 0:o}))],s&&(d=d[0]));let h=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:"bigint"==typeof n?(0,l.cK)(n):n,toBlock:"bigint"==typeof i?(0,l.cK)(i):i}]})).map(e=>(0,eC.e)(e));return u?ek({abi:u,args:o,logs:h,strict:c??!1}):h}async function eT(e,t){let{abi:r,address:n,args:i,blockHash:s,eventName:a,fromBlock:o,toBlock:l,strict:c}=t,u=a?(0,ei.iY)({abi:r,name:a}):void 0,d=u?void 0:r.filter(e=>"event"===e.type);return(0,w.T)(e,eP,"getLogs")({address:n,args:i,blockHash:s,event:u,events:d,fromBlock:o,toBlock:l,strict:c})}class eO extends c.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function eR(e,t){let{address:r,factory:n,factoryData:i}=t;try{let[t,s,a,o,l,c,u]=await (0,w.T)(e,_.J,"readContract")({abi:eD,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:s,version:a,chainId:Number(o),verifyingContract:l,salt:c},extensions:u,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new eO({address:r});throw e}}let eD=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function eN(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){var s;let a="bigint"==typeof r?(0,l.cK)(r):void 0;return{baseFeePerGas:(s=await e.request({method:"eth_feeHistory",params:[(0,l.cK)(t),a||n,i]},{dedupe:!!a})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:s.gasUsedRatio,oldestBlock:BigInt(s.oldestBlock),reward:s.reward?.map(e=>e.map(e=>BigInt(e)))}}async function eB(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>(0,eC.e)(e));return"abi"in t&&t.abi?ek({abi:t.abi,logs:i,strict:r}):i}async function eU(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,eC.e)(e));return t.abi?ek({abi:t.abi,logs:n,strict:r}):n}var ej=r(94120);async function eM(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){let s=void 0!==r?(0,l.cK)(r):void 0;var a=await e.request({method:"eth_getProof",params:[t,i,s||(n??"latest")]});return{...a,balance:a.balance?BigInt(a.balance):void 0,nonce:a.nonce?(0,e_.ME)(a.nonce):void 0,storageProof:a.storageProof?a.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function eL(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let s=void 0!==r?(0,l.cK)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||n]})}var e$=r(85370);async function ez(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([(0,w.T)(e,ew.G,"getBlockNumber")({}),t?(0,w.T)(e,e$.x,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}var eF=r(33297),eq=r(40086),eW=r(12017);async function eV(e,t){let{account:r,authorizationList:o,allowFailure:l=!0,blockNumber:d,blockOverrides:h,blockTag:f,stateOverride:p}=t,y=t.contracts,{batchSize:g=t.batchSize??1024,deployless:m=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},b=(()=>{if(t.multicallAddress)return t.multicallAddress;if(m)return null;if(e.chain)return(0,a.M)({blockNumber:d,chain:e.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),v=[[]],x=0,E=0;for(let e=0;e<y.length;e++){let{abi:t,address:n,args:i,functionName:a}=y[e];try{let e=(0,s.p)({abi:t,args:i,functionName:a});E+=(e.length-2)/2,g>0&&E>g&&v[x].length>0&&(x++,E=(e.length-2)/2,v[x]=[]),v[x]=[...v[x],{allowFailure:!0,callData:e,target:n}]}catch(s){let e=(0,ed.j)(s,{abi:t,address:n,args:i,docsPath:"/docs/contract/multicall",functionName:a,sender:r});if(!l)throw e;v[x]=[...v[x],{allowFailure:!0,callData:"0x",target:n}]}}let I=await Promise.allSettled(v.map(t=>(0,w.T)(e,_.J,"readContract")({...null===b?{code:eW.Ez}:{address:b},abi:n.v2,account:r,args:[t],authorizationList:o,blockNumber:d,blockOverrides:h,blockTag:f,functionName:"aggregate3",stateOverride:p}))),A=[];for(let e=0;e<I.length;e++){let t=I[e];if("rejected"===t.status){if(!l)throw t.reason;for(let r=0;r<v[e].length;r++)A.push({status:"failure",error:t.reason,result:void 0});continue}let r=t.value;for(let t=0;t<r.length;t++){let{returnData:n,success:s}=r[t],{callData:a}=v[e][t],{abi:o,address:c,functionName:d,args:h}=y[A.length];try{if("0x"===a)throw new Q.O;if(!s)throw new u.$S({data:n});let e=(0,i.e)({abi:o,args:h,data:n,functionName:d});A.push(l?{result:e,status:"success"}:e)}catch(t){let e=(0,ed.j)(t,{abi:o,address:c,args:h,docsPath:"/docs/contract/multicall",functionName:d});if(!l)throw e;A.push({error:e,result:void 0,status:"failure"})}}}if(A.length!==y.length)throw new c.C("multicall results mismatch");return A}var eH=r(86085),eK=r(1176),eG=r(76588),eZ=r(58383),eJ=r(22211);async function eY(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:a,returnFullTransactions:o,traceTransfers:c,validation:d}=t;try{let t=[];for(let e of a){let r=e.blockOverrides?eH.J(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,V.J)(e.account):void 0,r=e.abi?(0,s.p)(e):e.data,n={...e,account:t,data:e.dataSuffix?(0,f.xW)([r||"0x",e.dataSuffix]):r,from:e.from??t?.address};return(0,Z.c)(n),(0,G.Bv)(n)}),i=e.stateOverrides?(0,eJ.yH)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}let h="bigint"==typeof r?(0,l.cK)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:o,traceTransfers:c,validation:d},h||n]})).map((e,t)=>({...(0,eZ.$)(e),calls:e.calls.map((e,r)=>{let{abi:n,args:s,functionName:o,to:l}=a[t].calls[r],c=e.error?.data??e.returnData,d=BigInt(e.gasUsed),h=e.logs?.map(e=>(0,eC.e)(e)),f="0x1"===e.status?"success":"failure",p=n&&"success"===f&&"0x"!==c?(0,i.e)({abi:n,data:c,functionName:o}):null,y=(()=>{let e;if("success"!==f&&("0x"===c?e=new Q.O:c&&(e=new u.$S({data:c})),e))return(0,ed.j)(e,{abi:n??[],address:l??"0x",args:s,functionName:o??"<unknown>"})})();return{data:c,gasUsed:d,logs:h,status:f,..."success"===f?{result:p}:{error:y}}})}))}catch(t){let e=(0,eG.l)(t,{});if(e instanceof eK.RM)throw t;throw e}}var eX=r(81243),eQ=r(30460),e0=r(76335),e1=r(62581),e2=r(94770),e6=r(5958),e5=r(81134),e8=r(56658);function e3(e,t){if(ti(e)>t)throw new tl({givenSize:ti(e),maxSize:t})}function e4(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function e9(e,t={}){let{dir:r="left"}=t,n=e,i=0;for(let e=0;e<n.length-1;e++)if("0"===n["left"===r?e:n.length-e-1].toString())i++;else break;return"left"===r?n.slice(i):n.slice(0,n.length-i)}var e7=r(16430),te=r(89499);let tt=new TextDecoder,tr=new TextEncoder;function tn(e,t={}){let{size:r}=t,n=e;r&&(e7.Sl(e,r),n=e8.M7(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let s=i.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=e4(i.charCodeAt(t++)),n=e4(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new e6.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);a[e]=r<<4|n}return a}function ti(e){return e.length}function ts(e,t={}){let{size:r}=t;void 0!==r&&e3(e,r);let n=e8.uK(e,t);return e8.Ro(n,t)}function ta(e){return e9(e,{dir:"left"})}class to extends e6.C{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}e6.C;class tl extends e6.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class tc extends e6.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class tu extends e6.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function td(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,i=(0,e5.lY)(e instanceof Uint8Array?e:"string"==typeof e?tn(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?i:e8.uK(i)}class th extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tf={checksum:new th(8192)}.checksum,tp=/^0x[a-fA-F0-9]{40}$/;function ty(e,t={}){let{strict:r=!0}=t;if(!tp.test(e))throw new tb({address:e,cause:new tv});if(r){if(e.toLowerCase()===e)return;if(tg(e)!==e)throw new tb({address:e,cause:new tw})}}function tg(e){if(tf.has(e))return tf.get(e);ty(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=td(function(e,t={}){let{size:r}=t,n=tr.encode(e);return"number"==typeof r?(e3(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new tu({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let s="right"===r;i[s?t:n-t-1]=e[s?t:e.length-t-1]}return i}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return tf.set(e,i),i}function tm(e,t={}){let{strict:r=!0}=t??{};try{return ty(e,{strict:r}),!0}catch{return!1}}class tb extends e6.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class tv extends e6.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tw extends e6.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function t_(e){let t=!0,r="",n=0,i="",s=!1;for(let a=0;a<e.length;a++){let o=e[a];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(i))i="";else if(i+=o,")"===o){s=!0;break}continue}if(" "===o){","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!s)throw new e6.C("Unable to normalize signature.");return i}function tx(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,e1.uT)(e);else{let r=(0,e0.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!(0,eQ.WL)(n)){t=(0,e1.uT)(n,r);break}}}if(!t)throw new eX.xo({signature:e});return t}(e):e;return{...n,...r?{hash:tA(n)}:{}}}function tE(e,t,r){let n,{args:i=[],prepare:s=!0}=r??{},a=e8.tf(t,{strict:!1}),o=e.filter(e=>a?"function"===e.type||"error"===e.type?tI(e)===e8.di(t,0,4):"event"===e.type&&tA(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new tk({name:t});if(1===o.length)return{...o[0],...s?{hash:tA(o[0])}:{}};for(let e of o){if("inputs"in e){if(!i||0===i.length){if(!e.inputs||0===e.inputs.length)return{...e,...s?{hash:tA(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===i.length&&i.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return tm(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let i in t){let s=t[i],a=r[i];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return e(s.components,a.components,n[i]);let o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&tm(n[i],{strict:!1}))return o}}(e.inputs,n.inputs,i);if(t)throw new tS({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}}let l=(()=>{if(n)return n;let[e,...t]=o;return{...e,overloads:t}})();if(!l)throw new tk({name:t});return{...l,...s?{hash:tA(l)}:{}}}function tI(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tE(t,r)}return e[0]})();return e8.di(tA(t),0,4)}function tA(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tE(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:td(e8.sH(function(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tE(t,r)}return e[0]})();return t_("string"==typeof t?t:e2.B(t))}(t)))}class tS extends e6.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${t_(e2.B(e.abiItem))}\`, and`,`\`${t.type}\` in \`${t_(e2.B(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class tk extends e6.C{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}e6.C;var tC=r(33759),tP=r(92821);let tT=/^(.*)\[([0-9]*)\]$/,tO=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tR=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tD=2n**256n-1n;function tN(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=e8.Ej(i)}let r=[],n=[],i=0;for(let s=0;s<e.length;s++){let{dynamic:a,encoded:o}=e[s];a?(r.push(e8.oB(t+i,{size:32})),n.push(o),i+=e8.Ej(o)):r.push(o)}return e8.xW(...r,...n)}function tB(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function tU(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(tU);let r=tB(e.type);return!!(r&&tU({...e,type:r[1]}))}let tj={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new t$({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new tL({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new tM({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new tM({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class tM extends e6.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class tL extends e6.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class t$ extends e6.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function tz(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new tG({expectedLength:e.length,givenLength:t.length});let i=tN(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let i=0;i<t.length;i++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let i=tB(r.type);if(i){let[s,a]=i;return function(t,r){let{checksumAddress:n,length:i,parameter:s}=r,a=null===i;if(!Array.isArray(t))throw new tZ(t);if(!a&&t.length!==i)throw new tH({expectedLength:i,givenLength:t.length,type:`${s.type}[${i}]`});let o=!1,l=[];for(let r=0;r<t.length;r++){let i=e({checksumAddress:n,parameter:s,value:t[r]});i.dynamic&&(o=!0),l.push(i)}if(a||o){let e=tN(l);if(a){let t=e8.oB(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?e8.xW(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:e8.xW(...l.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:i}=r,s=!1,a=[];for(let r=0;r<i.components.length;r++){let o=i.components[r],l=Array.isArray(t)?r:o.name,c=e({checksumAddress:n,parameter:o,value:t[l]});a.push(c),c.dynamic&&(s=!0)}return{dynamic:s,encoded:s?tN(a):e8.xW(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return ty(e,{strict:r}),{dynamic:!1,encoded:e8.Ho(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type){var s=n;if("boolean"!=typeof s)throw new e6.C(`Invalid boolean value: "${s}" (type: ${typeof s}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:e8.Ho(e8.xb(s))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=tR.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new e8.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:e8.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=e8.Ej(e);if(!r){let t=e;return n%32!=0&&(t=e8.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:e8.xW(e8.Ho(e8.oB(n,{size:32})),t)}}if(n!==Number.parseInt(r,10))throw new tK({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:e8.M7(e)}}(n,{type:r.type});if("string"===r.type){var a=n;let e=e8.sH(a),t=Math.ceil(e8.Ej(e)/32),r=[];for(let n=0;n<t;n++)r.push(e8.M7(e8.di(e,32*n,(n+1)*32)));return{dynamic:!0,encoded:e8.xW(e8.M7(e8.oB(e8.Ej(e),{size:32})),...r)}}throw new tJ(r.type)}({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===i.length?"0x":i}function tF(e,t){if(e.length!==t.length)throw new tG({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t[n];r.push(tF.encode(i,s))}return e8.xW(...r)}function tq(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?function(e){let t=[];if("string"==typeof e){let r=(0,e1.NV)(e),n=r.length;for(let e=0;e<n;e++)t.push((0,e1.Pj)(r[e],{modifiers:eQ.Dv}))}else{let r=(0,e0.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if((0,eQ.WL)(n))continue;let s=(0,e1.NV)(n),a=s.length;for(let e=0;e<a;e++)t.push((0,e1.Pj)(s[e],{modifiers:eQ.Dv,structs:r}))}}if(0===t.length)throw new tC.A9({params:e});return t}(e):e}(tF||(tF={})).encode=function e(t,r,n=!1){if("address"===t)return ty(r),e8.Ho(r.toLowerCase(),32*!!n);if("string"===t)return e8.sH(r);if("bytes"===t)return r;if("bool"===t)return e8.Ho(e8.xb(r),n?32:1);let i=t.match(tR);if(i){let[e,t,s="256"]=i,a=Number.parseInt(s,10)/8;return e8.oB(r,{size:n?32:a,signed:"int"===t})}let s=t.match(tO);if(s){let[e,t]=s;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new tK({expectedSize:Number.parseInt(t,10),value:r});return e8.M7(r,32*!!n)}let a=t.match(tT);if(a&&Array.isArray(r)){let[t,n]=a,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":e8.xW(...i)}throw new tJ(t)};class tW extends e6.C{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${tP.Q(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class tV extends e6.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class tH extends e6.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class tK extends e6.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${e8.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class tG extends e6.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class tZ extends e6.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class tJ extends e6.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function tY(e,t={}){return tx(e,t)}function tX(e,t,r){let n=tE(e,t,r);if("function"!==n.type)throw new tk({name:t,type:"function"});return n}let tQ="0x0000000000000000000000000000000000000000";async function t0(e,t){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:a,traceAssetChanges:o,traceTransfers:l,validation:u}=t,d=t.account?(0,V.J)(t.account):void 0;if(o&&!d)throw new c.C("`account` is required when `traceAssetChanges` is true");let h=d?function(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return[function(e){let t=e.find(e=>"constructor"===e.type);if(!t)throw new tk({name:"constructor"});return t}(t),r]}return e})(),{bytecode:n,args:i}=r;return e8.xW(n,t.inputs?.length&&i?.length?tz(t.inputs,i):"0x")}(tx("constructor(bytes, bytes)"),{bytecode:eW.LX,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[t,r,n]=e;return[tX(t,r,{args:n}),n]}let[t,r]=e;return[t,r]})(),{overloads:n}=t,i=n?tX([t,...n],t.name,{args:r}):t,s=tI(i),a=r.length>0?tz(i.inputs,r):void 0;return a?e8.xW(s,a):s}(tY("function getBalance(address)"),[d.address])]}):void 0,f=o?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await J(e,{account:d.address,...t,data:t.abi?(0,s.p)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],p=await eY(e,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:h}],stateOverrides:a},{calls:f.map((e,t)=>({abi:[tY("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:e,from:tQ,nonce:t})),stateOverrides:[{address:tQ,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:d?.address})),stateOverrides:a},...o?[{calls:[{data:h}]},{calls:f.map((e,t)=>({abi:[tY("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:e,from:tQ,nonce:t})),stateOverrides:[{address:tQ,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[tY("function decimals() returns (uint256)")],functionName:"decimals",from:tQ,nonce:t})),stateOverrides:[{address:tQ,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[tY("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:tQ,nonce:t})),stateOverrides:[{address:tQ,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[tY("function symbol() returns (string)")],functionName:"symbol",from:tQ,nonce:t})),stateOverrides:[{address:tQ,nonce:0}]}]:[]],traceTransfers:l,validation:u}),y=o?p[2]:p[0],[g,m,,b,v,w,_,x]=o?p:[],{calls:E,...I}=y,A=E.slice(0,-1)??[],S=[...g?.calls??[],...m?.calls??[]].map(e=>"success"===e.status?(0,e_.uU)(e.data):null),k=[...b?.calls??[],...v?.calls??[]].map(e=>"success"===e.status?(0,e_.uU)(e.data):null),C=(w?.calls??[]).map(e=>"success"===e.status?e.result:null),P=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(_?.calls??[]).map(e=>"success"===e.status?e.result:null),O=[];for(let[e,t]of k.entries()){let r=S[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=C[e-1],i=P[e-1],s=T[e-1],a=0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:s||n?Number(n??1):void 0,symbol:i??void 0};O.some(e=>e.token.address===a.address)||O.push({token:a,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:O,block:I,results:A}}async function t1(e,t){let{abi:r,address:n,args:a,functionName:o,dataSuffix:l="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,...c}=t,u=c.account?(0,V.J)(c.account):e.account,d=(0,s.p)({abi:r,args:a,functionName:o});try{let{data:s}=await (0,w.T)(e,W.T,"call")({batch:!1,data:`${d}${l?l.replace("0x",""):""}`,to:n,...c,account:u}),h=(0,i.e)({abi:r,args:a,functionName:o,data:s||"0x"}),f=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:h,request:{abi:f,address:n,args:a,dataSuffix:l,functionName:o,...c,account:u}}}catch(e){throw(0,ed.j)(e,{abi:r,address:n,args:a,docsPath:"/docs/contract/simulateContract",functionName:o,sender:u?.address})}}async function t2(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}let t6="0x6492649264926492649264926492649264926492649264926492649264926492";class t5 extends e6.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function t8(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new t7({signature:e});if(e.r<0n||e.r>tD)throw new re({value:e.r});if(e.s<0n||e.s>tD)throw new rt({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new rr({value:e.yParity})}function t3(e){if(130!==e.length&&132!==e.length)throw new t9({signature:e});let t=BigInt(e8.di(e,0,32)),r=BigInt(e8.di(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return t4(t)}catch{throw new rr({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}function t4(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new rn({value:e})}class t9 extends e6.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${e8.Ej(e8.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class t7 extends e6.C{constructor({signature:e}){super(`Signature \`${te.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class re extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class rt extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class rr extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class rn extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}let ri=tq("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function rs(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==e8.di(e,-32))throw new ra(e)}else t8(e.authorization)}class ra extends e6.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var ro=r(92120),rl=r(98539),rc=r(9547);async function ru({address:e,authorization:t,signature:r}){return(0,eA.h)((0,rl.b)(e),await (0,rc.g)({authorization:t,signature:r}))}var rd=r(49612),rh=r(48713);async function rf(e,t){let r,{address:n,chain:i=e.chain,hash:s,erc6492VerifierAddress:a=t.universalSignatureVerifierAddress??i?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??i?.contracts?.multicall3?.address}=t;if(i?.verifyHash)return await i.verifyHash(e,t);let c=(r=t.signature,(0,g.q)(r)?r:"object"==typeof r&&"r"in r&&"s"in r?(0,rh.h)(r):(0,l.My)(r));try{if(function(e){try{return rs(e),!0}catch{return!1}}(c))return await rp(e,{...t,multicallAddress:o,signature:c});return await ry(e,{...t,verifierAddress:a,signature:c})}catch(e){try{if((0,eA.h)((0,rl.b)(n),await (0,rd.x)({hash:s,signature:c})))return!0}catch{}if(e instanceof rm)return!1;throw e}}async function rp(e,t){let{address:r,blockNumber:i,blockTag:a,hash:o,multicallAddress:c}=t,{authorization:u,data:d,signature:h,to:p}=function(e){rs(e);let t=e8.Ro(e8.di(e,-64,-32)),r=e8.di(e,-t-64,-64),n=e8.di(e,0,-t-64),[i,s,a]=function(e,t,r={}){let{as:n="Array",checksumAddress:i=!1}=r,s="string"==typeof t?tn(t):t,a=function(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(tj);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}(s);if(0===ti(s)&&e.length>0)throw new tV;if(ti(s)&&32>ti(s))throw new tW({data:"string"==typeof t?t:e8.uK(t),parameters:e,size:ti(s)});let o=0,l="Array"===n?[]:{};for(let t=0;t<e.length;++t){let r=e[t];a.setPosition(o);let[s,c]=function e(t,r,n){let{checksumAddress:i,staticPosition:s}=n,a=tB(r.type);if(a){let[n,o]=a;return function(t,r,n){let{checksumAddress:i,length:s,staticPosition:a}=n;if(!s){let n=a+ts(t.readBytes(32)),s=n+32;t.setPosition(n);let o=ts(t.readBytes(32)),l=tU(r),c=0,u=[];for(let n=0;n<o;++n){t.setPosition(s+(l?32*n:c));let[a,o]=e(t,r,{checksumAddress:i,staticPosition:s});c+=o,u.push(a)}return t.setPosition(a+32),[u,32]}if(tU(r)){let n=a+ts(t.readBytes(32)),o=[];for(let a=0;a<s;++a){t.setPosition(n+32*a);let[s]=e(t,r,{checksumAddress:i,staticPosition:n});o.push(s)}return t.setPosition(a+32),[o,32]}let o=0,l=[];for(let n=0;n<s;++n){let[n,s]=e(t,r,{checksumAddress:i,staticPosition:a+o});o+=s,l.push(n)}return[l,o]}(t,{...r,type:o},{checksumAddress:i,length:n,staticPosition:s})}if("tuple"===r.type)return function(t,r,n){let{checksumAddress:i,staticPosition:s}=n,a=0===r.components.length||r.components.some(({name:e})=>!e),o=a?[]:{},l=0;if(tU(r)){let n=s+ts(t.readBytes(32));for(let s=0;s<r.components.length;++s){let c=r.components[s];t.setPosition(n+l);let[u,d]=e(t,c,{checksumAddress:i,staticPosition:n});l+=d,o[a?s:c?.name]=u}return t.setPosition(s+32),[o,32]}for(let n=0;n<r.components.length;++n){let c=r.components[n],[u,d]=e(t,c,{checksumAddress:i,staticPosition:s});o[a?n:c?.name]=u,l+=d}return[o,l]}(t,r,{checksumAddress:i,staticPosition:s});if("address"===r.type)return function(e,t={}){let r,{checksum:n=!1}=t,i=e.readBytes(32);return[(r=e8.uK(function(e,t,r,n={}){let{strict:i}=n;!1;let s=e.slice(-20,void 0);return i&&function(e,t,r){if("number"==typeof r&&ti(e)!==r- -20)throw new tc({offset:r,position:"end",size:ti(e)})}(s,0,void 0),s}(i,0)),n?tg(r):r),32]}(t,{checksum:i});if("bool"===r.type)return[function(e,t={}){let{size:r}=t,n=e;if(void 0!==r&&(e3(n,r),n=ta(n)),n.length>1||n[0]>1)throw new to(n);return!!n[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=ts(e.readBytes(32));e.setPosition(r+t);let n=ts(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[e8.uK(i),32]}return[e8.uK(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int")){var o,l;let e,n,i;return o=t,e=(l=r).type.startsWith("int"),n=Number.parseInt(l.type.split("int")[1]||"256",10),i=o.readBytes(32),[n>48?function(e,t={}){let{size:r}=t;void 0!==r&&e3(e,r);let n=e8.uK(e,t);return e8.Dg(n,t)}(i,{signed:e}):ts(i,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=ts(e.readBytes(32));e.setPosition(t+r);let n=ts(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=function(e,t={}){let{size:r}=t,n=e;return void 0!==r&&(e3(n,r),n=e9(n,{dir:"right"})),tt.decode(n)}(ta(e.readBytes(n,32)));return e.setPosition(t+32),[i,32]}(t,{staticPosition:s});throw new tJ(r.type)}(a,r,{checksumAddress:i,staticPosition:0});o+=c,"Array"===n?l.push(s):l[r.name??t]=s}return l}(ri,r);return{authorization:function(e,t={}){return"string"==typeof e.chainId?function(e){let{address:t,chainId:r,nonce:n}=e,i=function(e){if(void 0!==e.r&&void 0!==e.s){var t;let r;return t=e,t8(r=(()=>{var e,r;let n;if("string"==typeof t)return t3(t);if(t instanceof Uint8Array)return t3(e8.uK(t));return"string"==typeof t.r?(e=t,n=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=t4(t)),"number"!=typeof r)throw new rr({value:e.yParity});return r})(),{r:BigInt(e.r),s:BigInt(e.s),yParity:n}):t.v?{r:(r=t).r,s:r.s,yParity:t4(r.v)}:{r:t.r,s:t.s,...void 0!==t.yParity?{yParity:t.yParity}:{}}})()),r}}(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...i}}(e):{...e,...t.signature}}({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...a&&"0x"!==a?{data:a,to:s}:{}}}(t.signature);if(await (0,eI.Q)(e,{address:r,blockNumber:i,blockTag:a})===(0,f.aP)(["0xef0100",u.address]))return await rg(e,{address:r,blockNumber:i,blockTag:a,hash:o,signature:h});let y={address:u.address,chainId:Number(u.chainId),nonce:Number(u.nonce),r:(0,l.cK)(u.r,{size:32}),s:(0,l.cK)(u.s,{size:32}),yParity:u.yParity};if(!await ru({address:r,authorization:y}))throw new rm;let g=await (0,w.T)(e,_.J,"readContract")({...c?{address:c}:{code:eW.Ez},authorizationList:[y],abi:n.v2,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...d?[{allowFailure:!0,target:p??r,callData:d}]:[],{allowFailure:!0,target:r,callData:(0,s.p)({abi:n.UW,functionName:"isValidSignature",args:[o,h]})}]]}),m=g[g.length-1]?.returnData;if(m?.startsWith("0x1626ba7e"))return!0;throw new rm}async function ry(e,t){let{address:r,factory:i,factoryData:a,hash:o,signature:l,verifierAddress:c,...d}=t,h=await (async()=>!i&&!a||function(e){try{if(e8.di(e,-32)!==t6)throw new t5(e);return!0}catch{return!1}}(l)?l:function(e){let{data:t,signature:r,to:n}=e;return e8.xW(tz(tq("address, bytes, bytes"),[n,t,r]),t6)}({data:a,signature:l,to:i}))(),f=c?{to:c,data:(0,s.p)({abi:n.E5,functionName:"isValidSig",args:[r,o,h]}),...d}:{data:(0,ro.m)({abi:n.E5,args:[r,o,h],bytecode:eW.fT}),...d},{data:p}=await (0,w.T)(e,W.T,"call")(f).catch(e=>{if(e instanceof u.zX)throw new rm;throw e});if((0,e_.Nx)(p??"0x0"))return!0;throw new rm}async function rg(e,t){let{address:r,blockNumber:i,blockTag:s,hash:a,signature:o}=t;if((await (0,w.T)(e,_.J,"readContract")({address:r,abi:n.UW,args:[a,o],blockNumber:i,blockTag:s,functionName:"isValidSignature"}).catch(e=>{if(e instanceof u.bG)throw new rm;throw e})).startsWith("0x1626ba7e"))return!0;throw new rm}class rm extends Error{}var rb=r(95277);async function rv(e,{address:t,message:r,factory:n,factoryData:i,signature:s,...a}){let o=(0,rb.A)(r);return(0,w.T)(e,rf,"verifyHash")({address:t,factory:n,factoryData:i,hash:o,signature:s,...a})}var rw=r(40783);async function r_(e,t){let{address:r,factory:n,factoryData:i,signature:s,message:a,primaryType:o,types:l,domain:c,...u}=t,d=(0,rw.Zh)({message:a,primaryType:o,types:l,domain:c});return(0,w.T)(e,rf,"verifyHash")({address:r,factory:n,factoryData:i,hash:d,signature:s,...u})}var rx=r(6606),rE=r(32551),rI=r(72182),rA=r(46403),rS=r(30095),rk=r(41347);let rC=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rP=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var rT=r(13437);async function rO(e,t){let{address:r,domain:n,message:i,nonce:s,scheme:a,signature:o,time:l=new Date,...c}=t,u=function(e){let{scheme:t,statement:r,...n}=e.match(rC)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:l,...c}=e.match(rP)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!u.address||!function(e){let{address:t,domain:r,message:n,nonce:i,scheme:s,time:a=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||!(0,rT.P)(n.address,{strict:!1})||t&&!(0,eA.h)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:u,nonce:s,scheme:a,time:l}))return!1;let d=(0,rb.A)(i);return rf(e,{address:u.address,hash:d,signature:o,...c})}var rR=r(5292),rD=r(45174),rN=r(89017);function rB(e){return{call:t=>(0,W.T)(e,t),createAccessList:t=>J(e,t),createBlockFilter:()=>X(e),createContractEventFilter:t=>el(e,t),createEventFilter:t=>ec(e,t),createPendingTransactionFilter:()=>eu(e),estimateContractGas:t=>ef(e,t),estimateGas:t=>(0,eh.Q)(e,t),getBalance:t=>em(e,t),getBlobBaseFee:()=>eb(e),getBlock:t=>(0,ev.g)(e,t),getBlockNumber:t=>(0,ew.G)(e,t),getBlockTransactionCount:t=>ex(e,t),getBytecode:t=>(0,eI.Q)(e,t),getChainId:()=>(0,eE.T)(e),getCode:t=>(0,eI.Q)(e,t),getContractEvents:t=>eT(e,t),getEip712Domain:t=>eR(e,t),getEnsAddress:t=>x(e,t),getEnsAvatar:t=>z(e,t),getEnsName:t=>F(e,t),getEnsResolver:t=>q(e,t),getEnsText:t=>$(e,t),getFeeHistory:t=>eN(e,t),estimateFeesPerGas:t=>(0,ep._)(e,t),getFilterChanges:t=>eB(e,t),getFilterLogs:t=>eU(e,t),getGasPrice:()=>(0,ej.L)(e),getLogs:t=>eP(e,t),getProof:t=>eM(e,t),estimateMaxPriorityFeePerGas:t=>(0,ey.b)(e,t),fillTransaction:t=>(0,eg.a)(e,t),getStorageAt:t=>eL(e,t),getTransaction:t=>(0,e$.x)(e,t),getTransactionConfirmations:t=>ez(e,t),getTransactionCount:t=>(0,eF.y)(e,t),getTransactionReceipt:t=>(0,eq.h)(e,t),multicall:t=>eV(e,t),prepareTransactionRequest:t=>(0,rR.ft)(e,t),readContract:t=>(0,_.J)(e,t),sendRawTransaction:t=>(0,rD.L)(e,t),sendRawTransactionSync:t=>(0,rN.s)(e,t),simulate:t=>eY(e,t),simulateBlocks:t=>eY(e,t),simulateCalls:t=>t0(e,t),simulateContract:t=>t1(e,t),verifyHash:t=>rf(e,t),verifyMessage:t=>rv(e,t),verifySiweMessage:t=>rO(e,t),verifyTypedData:t=>r_(e,t),uninstallFilter:t=>t2(e,t),waitForTransactionReceipt:t=>(0,rx.n)(e,t),watchBlocks:t=>(function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:a,poll:o,pollingInterval:l=e.pollingInterval}){let c,u,d,h,f,p=void 0!==o?o:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),y=a??!1;return p?(u=(0,rS.A)(["watchBlocks",e.uid,t,r,n,y,l]),(0,rI.lB)(u,{onBlock:i,onError:s},i=>(0,rA.w)(async()=>{try{let n=await (0,w.T)(e,ev.g,"getBlock")({blockTag:t,includeTransactions:y});if(null!==n.number&&c?.number!=null){if(n.number===c.number)return;if(n.number-c.number>1&&r)for(let t=c?.number+1n;t<n.number;t++){let r=await (0,w.T)(e,ev.g,"getBlock")({blockNumber:t,includeTransactions:y});i.onBlock(r,c),c=r}}(c?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>c.number)&&(i.onBlock(n,c),c=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:l}))):(d=!0,h=!0,f=()=>d=!1,(async()=>{try{n&&(0,w.T)(e,ev.g,"getBlock")({blockTag:t,includeTransactions:y}).then(e=>{!d||h&&(i(e,void 0),h=!1)}).catch(s);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await r.subscribe({params:["newHeads"],async onData(t){if(!d)return;let r=await (0,w.T)(e,ev.g,"getBlock")({blockNumber:t.result?.number,includeTransactions:y}).catch(()=>{});d&&(i(r,c),h=!1,c=r)},onError(e){s?.(e)}});f=a,d||f()}catch(e){s?.(e)}})(),()=>f())})(e,t),watchBlockNumber:t=>(0,rE.q)(e,t),watchContractEvent:t=>(function(e,t){let r,n,i,s,a,{abi:o,address:l,args:c,batch:u=!0,eventName:d,fromBlock:h,onError:f,onLogs:p,poll:y,pollingInterval:g=e.pollingInterval,strict:m}=t;return(void 0!==y?y:"bigint"==typeof h||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(r=m??!1,n=(0,rS.A)(["watchContractEvent",l,c,u,e.uid,d,g,r,h]),(0,rI.lB)(n,{onLogs:p,onError:f},t=>{let n,i;void 0!==h&&(n=h-1n);let s=!1,a=(0,rA.w)(async()=>{if(!s){try{i=await (0,w.T)(e,el,"createContractEventFilter")({abi:o,address:l,args:c,eventName:d,strict:r,fromBlock:h})}catch{}s=!0;return}try{let s;if(i)s=await (0,w.T)(e,eB,"getFilterChanges")({filter:i});else{let t=await (0,w.T)(e,ew.G,"getBlockNumber")({});s=n&&n<t?await (0,w.T)(e,eT,"getContractEvents")({abi:o,address:l,args:c,eventName:d,fromBlock:n+1n,toBlock:t,strict:r}):[],n=t}if(0===s.length)return;if(u)t.onLogs(s);else for(let e of s)t.onLogs([e])}catch(e){i&&e instanceof rk.Di&&(s=!1),t.onError?.(e)}},{emitOnBegin:!0,interval:g});return async()=>{i&&await (0,w.T)(e,t2,"uninstallFilter")({filter:i}),a()}})):(i=(0,rS.A)(["watchContractEvent",l,c,u,e.uid,d,g,m??!1]),s=!0,a=()=>s=!1,(0,rI.lB)(i,{onLogs:p,onError:f},t=>((async()=>{try{let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),n=d?ea({abi:o,eventName:d,args:c}):[],{unsubscribe:i}=await r.subscribe({params:["logs",{address:l,topics:n}],onData(e){if(!s)return;let r=e.result;try{let{eventName:e,args:n}=(0,eS.j)({abi:o,data:r.data,topics:r.topics,strict:m}),i=(0,eC.e)(r,{args:n,eventName:e});t.onLogs([i])}catch(s){let e,n;if(s instanceof Q.fo||s instanceof Q.l3){if(m)return;e=s.abiItem.name,n=s.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=(0,eC.e)(r,{args:n?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});a=i,s||a()}catch(e){f?.(e)}})(),()=>a())))})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:i,events:s,fromBlock:a,onError:o,onLogs:l,poll:c,pollingInterval:u=e.pollingInterval,strict:d}){let h,f,p,y=void 0!==c?c:"bigint"==typeof a||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),g=d??!1;return y?(h=(0,rS.A)(["watchEvent",t,r,n,e.uid,i,u,a]),(0,rI.lB)(h,{onLogs:l,onError:o},o=>{let l,c;void 0!==a&&(l=a-1n);let d=!1,h=(0,rA.w)(async()=>{if(!d){try{c=await (0,w.T)(e,ec,"createEventFilter")({address:t,args:r,event:i,events:s,strict:g,fromBlock:a})}catch{}d=!0;return}try{let a;if(c)a=await (0,w.T)(e,eB,"getFilterChanges")({filter:c});else{let n=await (0,w.T)(e,ew.G,"getBlockNumber")({});a=l&&l!==n?await (0,w.T)(e,eP,"getLogs")({address:t,args:r,event:i,events:s,fromBlock:l+1n,toBlock:n}):[],l=n}if(0===a.length)return;if(n)o.onLogs(a);else for(let e of a)o.onLogs([e])}catch(e){c&&e instanceof rk.Di&&(d=!1),o.onError?.(e)}},{emitOnBegin:!0,interval:u});return async()=>{c&&await (0,w.T)(e,t2,"uninstallFilter")({filter:c}),h()}})):(f=!0,p=()=>f=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),a=s??(i?[i]:void 0),c=[];a&&(c=[a.flatMap(e=>ea({abi:[e],eventName:e.name,args:r}))],i&&(c=c[0]));let{unsubscribe:u}=await n.subscribe({params:["logs",{address:t,topics:c}],onData(e){if(!f)return;let t=e.result;try{let{eventName:e,args:r}=(0,eS.j)({abi:a??[],data:t.data,topics:t.topics,strict:g}),n=(0,eC.e)(t,{args:r,eventName:e});l([n])}catch(i){let e,r;if(i instanceof Q.fo||i instanceof Q.l3){if(d)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=(0,eC.e)(t,{args:r?[]:{},eventName:e});l([n])}},onError(e){o?.(e)}});p=u,f||p()}catch(e){o?.(e)}})(),()=>p())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=e.pollingInterval}){let a,o,l;return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?(a=(0,rS.A)(["watchPendingTransactions",e.uid,t,s]),(0,rI.lB)(a,{onTransactions:n,onError:r},r=>{let n,i=(0,rA.w)(async()=>{try{if(!n)try{n=await (0,w.T)(e,eu,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let s=await (0,w.T)(e,eB,"getFilterChanges")({filter:n});if(0===s.length)return;if(t)r.onTransactions(s);else for(let e of s)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:s});return async()=>{n&&await (0,w.T)(e,t2,"uninstallFilter")({filter:n}),i()}})):(o=!0,l=()=>o=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!o)return;let t=e.result;n([t])},onError(e){r?.(e)}});l=t,o||l()}catch(e){r?.(e)}})(),()=>l())})(e,t)}}},50541:(e,t,r)=>{"use strict";r.d(t,{a:()=>f});var n=r(5805),i=r(51804),s=r(49336),a=r(70327),o=r(80562),l=r(26983),c=r(85436),u=r(31070),d=r(55015),h=r(42494);async function f(e,t){let{account:r=e.account,accessList:f,authorizationList:p,chain:y=e.chain,blobVersionedHashes:g,blobs:m,data:b,gas:v,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:E,nonce:I,nonceManager:A,to:S,type:k,value:C,...P}=t,T=await (async()=>{if(!r||!A||void 0!==I)return I;let t=(0,n.J)(r),i=y?y.id:await (0,c.T)(e,h.T,"getChainId")({});return await A.consume({address:t.address,chainId:i,client:e})})();(0,u.c)(t);let O=y?.formatters?.transactionRequest?.format,R=(O||l.Bv)({...(0,a.o)(P,{format:O}),account:r?(0,n.J)(r):void 0,accessList:f,authorizationList:p,blobs:m,blobVersionedHashes:g,data:b,gas:v,gasPrice:w,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:E,nonce:T,to:S,type:k,value:C},"fillTransaction");try{let r=await e.request({method:"eth_fillTransaction",params:[R]}),n=(y?.formatters?.transaction?.format||o.uP)(r.tx);delete n.blockHash,delete n.blockNumber,delete n.r,delete n.s,delete n.transactionIndex,delete n.v,delete n.yParity,n.data=n.input,n.gas&&(n.gas=t.gas??n.gas),n.gasPrice&&(n.gasPrice=t.gasPrice??n.gasPrice),n.maxFeePerBlobGas&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas??n.maxFeePerBlobGas),n.maxFeePerGas&&(n.maxFeePerGas=t.maxFeePerGas??n.maxFeePerGas),n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas??n.maxPriorityFeePerGas),n.nonce&&(n.nonce=t.nonce??n.nonce);let s=await (async()=>{if("function"==typeof y?.fees?.baseFeeMultiplier){let r=await (0,c.T)(e,d.g,"getBlock")({});return y.fees.baseFeeMultiplier({block:r,client:e,request:t})}return y?.fees?.baseFeeMultiplier??1.2})();if(s<1)throw new i.sM;let a=s.toString().split(".")[1]?.length??0,l=10**a,u=e=>e*BigInt(Math.ceil(s*l))/BigInt(l);return n.maxFeePerGas&&!t.maxFeePerGas&&(n.maxFeePerGas=u(n.maxFeePerGas)),n.gasPrice&&!t.gasPrice&&(n.gasPrice=u(n.gasPrice)),{raw:r.raw,transaction:{from:R.from,...n}}}catch(r){throw(0,s.p)(r,{...t,chain:e.chain})}}},50588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(11534);function i({config:e,src:t,width:r,quality:i}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,n.findClosestQuality)(i,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${s}${t.startsWith("/_next/static/media/"),""}`}i.__next_img_default=!0;let s=i},50589:(e,t,r)=>{"use strict";r.d(t,{O:()=>c,_:()=>l});var n=r(51804),i=r(85436),s=r(31182),a=r(55015),o=r(94120);async function l(e,t){return c(e,t)}async function c(e,t){let{block:r,chain:l=e.chain,request:c,type:u="eip1559"}=t||{},d=await (async()=>"function"==typeof l?.fees?.baseFeeMultiplier?l.fees.baseFeeMultiplier({block:r,client:e,request:c}):l?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new n.sM;let h=d.toString().split(".")[1]?.length??0,f=10**h,p=e=>e*BigInt(Math.ceil(d*f))/BigInt(f),y=r||await (0,i.T)(e,a.g,"getBlock")({});if("function"==typeof l?.fees?.estimateFeesPerGas){let t=await l.fees.estimateFeesPerGas({block:r,client:e,multiply:p,request:c,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof y.baseFeePerGas)throw new n.pw;let t="bigint"==typeof c?.maxPriorityFeePerGas?c.maxPriorityFeePerGas:await (0,s.N)(e,{block:y,chain:l,request:c}),r=p(y.baseFeePerGas);return{maxFeePerGas:c?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:c?.gasPrice??p(await (0,i.T)(e,o.L,"getGasPrice")({}))}}},50863:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){var i,s,a;function o(r){e.removeListener(t,l),n(r)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}y(e,t,l,{once:!0}),"error"!==t&&(i=e,s=o,a={once:!0},"function"==typeof i.on&&y(i,"error",s,a))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,s,a,c=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var c=l.length,u=p(l,c),r=0;r<c;++r)n(u[r],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},51804:(e,t,r)=>{"use strict";r.d(t,{RR:()=>o,pw:()=>a,sM:()=>s});var n=r(19782),i=r(42213);class s extends i.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class a extends i.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class o extends i.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,n.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},52175:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(59670),i=r(45855),s=r(92751),a=r(69435),o=r(36487);function l(e){let{abi:t,data:r}=e,l=(0,i.di)(r,0,4),c=t.find(e=>"function"===e.type&&l===(0,s.V)((0,o.B)(e)));if(!c)throw new n.EB(l,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:c.name,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,a.n)(c.inputs,(0,i.di)(r,4)):void 0}}},52248:(e,t,r)=>{"use strict";function n(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n);else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{$:()=>n})},52648:(e,t,r)=>{"use strict";r.d(t,{X9:()=>a,s7:()=>i,x8:()=>s});var n=r(7506);class i extends n.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s extends n.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a extends n.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},52792:(e,t,r)=>{"use strict";r.d(t,{VY:()=>h,rU:()=>d});var n=r(65936),i=r(81541),s=r(65991),a=r(62099),o=r(66673),l=r(83282),c=r(18146);let u=(0,n.createContext)(null);function d(){let[e,t]=(0,n.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n.useMemo)(()=>function(e){let r=(0,i._)(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),s=(0,n.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return n.createElement(u.Provider,{value:s},e.children)},[t])]}u.displayName="DescriptionContext";let h=Object.assign((0,c.FX)(function(e,t){let r=(0,n.useId)(),i=(0,l._)(),{id:d=`headlessui-description-${r}`,...h}=e,f=function e(){let t=(0,n.useContext)(u);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),p=(0,o.P)(t);(0,s.s)(()=>f.register(d),[d,f.register]);let y=(0,a._)({...f.slot,disabled:i||!1}),g={ref:p,...f.props,id:d};return(0,c.Ci)()({ourProps:g,theirProps:h,slot:y,defaultTag:"p",name:f.name||"Description"})}),{})},52996:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(38252),i=r(16678);function s(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),s="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.aT)(e)):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,n.aT)(e)):e.commitments,o=[];for(let e=0;e<s.length;e++){let r=s[e],n=a[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,n)))}return"bytes"===r?o:o.map(e=>(0,i.My)(e))}},53763:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,u:()=>o});var n=r(73788),i=r(65936);let s=(0,i.createContext)({plugins:{current:{}}}),a=({children:e,configPlugins:t})=>{let r=(0,i.useRef)({});return(0,i.useEffect)(()=>{if(t&&0!==t.length){for(let e of t)r.current[e.id]=e;return()=>{for(let e of t)delete r.current[e.id]}}},[t]),(0,n.jsx)(s.Provider,{value:{plugins:r},children:e})},o=()=>{let{plugins:e}=(0,i.useContext)(s);return(0,i.useCallback)(t=>e.current[t],[e])}},53861:(e,t,r)=>{"use strict";r.d(t,{Hi:()=>i,ft:()=>s,uj:()=>o});var n=r(42213);class i extends n.C{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class s extends n.C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function a(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function o(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n",n+=a(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=a(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},53961:(e,t,r)=>{"use strict";let n=r(58630);e.exports=u;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}let a=Symbol("pino.logFuncs"),o=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(e,t){let r={logger:t,parent:e[o]};t[o]=r}function u(e){var t,r,n;let o,p,y;(e=e||{}).browser=e.browser||{};let g=e.browser.transmit;if(g&&"function"!=typeof g.send)throw Error("pino: transmit option must have a send function");let w=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let _=e.serializers||{},x=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(_)),E=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(E=!1);let I=Object.keys(e.customLevels||{}),A=["error","fatal","warn","info","debug","trace"].concat(I);"function"==typeof w&&A.forEach(function(e){w[e]=w}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let S=e.level||"info",k=Object.create(w);k.log||(k.log=m),o={},A.forEach(e=>{o[e]=w[e]?w[e]:i[e]||i[l[e]||"log"]||m}),k[a]=o,c({},k),Object.defineProperty(k,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(k,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,d(this,C,k,"error"),d(this,C,k,"fatal"),d(this,C,k,"warn"),d(this,C,k,"info"),d(this,C,k,"debug"),d(this,C,k,"trace"),I.forEach(e=>{d(this,C,k,e)})}});let C={transmit:g,serialize:x,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:A,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?b:v,messageKey:e.messageKey||"msg",onChild:e.onChild||m};function P(t,r,n){if(!r)throw Error("missing bindings for child Pino");n=n||{},x&&r.serializers&&(n.serializers=r.serializers);let i=n.serializers;if(x&&i){var s=Object.assign({},_,i),a=!0===e.browser.serialize?Object.keys(s):x;delete r.serializers,h([r],a,s,this._stdErrSerialize)}function o(e){this._childLevel=(0|e._childLevel)+1,this.bindings=r,s&&(this.serializers=s,this._serialize=a),g&&(this._logEvent=f([].concat(e._logEvent.bindings,r)))}o.prototype=this;let l=new o(this);return c(this,l),l.child=function(...e){return P.call(this,t,...e)},l.level=n.level||this.level,t.onChild(l),l}return p=e.customLevels||{},k.levels={values:Object.assign({},u.levels.values,p),labels:Object.assign({},u.levels.labels,(y={},Object.keys(n=p).forEach(function(e){y[n[e]]=e}),y))},k.level=S,k.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},k.setMaxListeners=k.getMaxListeners=k.emit=k.addListener=k.on=k.prependListener=k.once=k.prependOnceListener=k.removeListener=k.removeAllListeners=k.listeners=k.listenerCount=k.eventNames=k.write=k.flush=m,k.serializers=_,k._serialize=x,k._stdErrSerialize=E,k.child=function(...e){return P.call(this,C,...e)},g&&(k._logEvent=f()),k}function d(e,t,r,l){var c,u,d,p,y,g,b;if(Object.defineProperty(e,l,{value:s(e.level,r)>s(l,r)?m:r[a][l],writable:!0,enumerable:!0,configurable:!0}),e[l]===m){if(!t.transmit)return;let n=s(t.transmit.level||e.level,r);if(s(l,r)<n)return}e[l]=(c=e,u=t,d=r,p=l,y=c[a][p],function(){let e=u.timestamp(),t=Array(arguments.length),r=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var a=0;a<t.length;a++)t[a]=arguments[a];var o=!1;if(u.serialize&&(h(t,this._serialize,this.serializers,this._stdErrSerialize),o=!0),u.asObject||u.formatters?y.call(r,...function(e,t,r,i,s){let{level:a,log:o=e=>e}=s.formatters||{},l=r.slice(),c=l[0],u={},d=(0|e._childLevel)+1;if(d<1&&(d=1),i&&(u.time=i),a?Object.assign(u,a(t,e.levels.values[t])):u.level=e.levels.values[t],s.asObjectBindingsOnly){if(null!==c&&"object"==typeof c)for(;d--&&"object"==typeof l[0];)Object.assign(u,l.shift());return[o(u),...l]}if(null!==c&&"object"==typeof c){for(;d--&&"object"==typeof l[0];)Object.assign(u,l.shift());c=l.length?n(l.shift(),l):void 0}else"string"==typeof c&&(c=n(l.shift(),l));return void 0!==c&&(u[s.messageKey]=c),[o(u)]}(this,p,t,e,u)):y.apply(r,t),u.transmit){let r=u.transmit.level||c._level,n=s(r,d),i=s(p,d);if(i<n)return;!function(e,t,r,n=!1){let i=t.send,s=t.ts,a=t.methodLevel,o=t.methodValue,l=t.val,c=e._logEvent.bindings;n||h(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter(function(e){return -1===c.indexOf(e)}),e._logEvent.level.label=a,e._logEvent.level.value=o,i(a,e._logEvent,l),e._logEvent=f(c)}(this,{ts:e,methodLevel:p,methodValue:i,transmitLevel:r,transmitValue:d.levels.values[u.transmit.level||c._level],send:u.transmit.send,val:s(c._level,d)},t,o)}});let v=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[o];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==v.length&&(e[l]=(g=v,b=e[l],function(){return b.apply(this,[...g,...arguments])}))}function h(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=u.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(let n in e[i])t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function f(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function y(){return{}}function g(e){return e}function m(){}function b(){return!1}function v(){return Date.now()}u.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},u.stdSerializers={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:y,res:y,err:p,errWithCause:p},u.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:v,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=u,e.exports.pino=u},54280:(e,t,r)=>{let n=r(36345),i=r(46350);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},54412:(e,t,r)=>{"use strict";function n(e){let t={formatters:void 0,fees:void 0,serializers:void 0,...e};return Object.assign(t,{extend:function e(t){return r=>{let n="function"==typeof r?r(t):r,i={...t,...n};return Object.assign(i,{extend:e(i)})}}(t)})}r.d(t,{x:()=>n})},54612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={default:function(){return u},getImageProps:function(){return c}};for(var i in n)Object.defineProperty(t,i,{enumerable:!0,get:n[i]});let s=r(5541),a=r(67096),o=r(76740),l=s._(r(50588));function c(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=o.Image},54849:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(99859),i=r(38252),s=r(16678),a=r(2425),o=r(73634);function l(e){let{chainId:t,nonce:r,to:l}=e,c=e.contractAddress??e.address,u=(0,o.S)((0,n.aP)(["0x05",(0,a.EQ)([t?(0,s.cK)(t):"0x",c,r?(0,s.cK)(r):"0x"])]));return"bytes"===l?(0,i.aT)(u):u}},55015:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(36501),i=r(16678),s=r(58383);async function a(e,{blockHash:t,blockNumber:r,blockTag:o=e.experimental_blockTag??"latest",includeTransactions:l}={}){let c=l??!1,u=void 0!==r?(0,i.cK)(r):void 0,d=null;if(!(d=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[u||o,c]},{dedupe:!!u})))throw new n.l({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||s.$)(d,"getBlock")}},55082:(e,t,r)=>{"use strict";let n;r.d(t,{B:()=>h,p:()=>f});var i,s,a=r(65936),o=r(58037),l=r(36550),c=r(65991),u=r(55036);void 0!==u&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(i=null==u?void 0:u.env)?void 0:i.NODE_ENV)==="test"&&void 0===(null==(s=null==Element?void 0:Element.prototype)?void 0:s.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var d=((n=d||{})[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n);function h(e){let t={};for(let r in e)!0===e[r]&&(t[`data-${r}`]="");return t}function f(e,t,r,n){let[i,s]=(0,a.useState)(r),{hasFlag:u,addFlag:d,removeFlag:h}=function(e=0){let[t,r]=(0,a.useState)(e),n=(0,a.useCallback)(e=>r(e),[]),i=(0,a.useCallback)(e=>r(t=>t|e),[]),s=(0,a.useCallback)(e=>(t&e)===e,[t]);return{flags:t,setFlag:n,addFlag:i,hasFlag:s,removeFlag:(0,a.useCallback)(e=>r(t=>t&~e),[]),toggleFlag:(0,a.useCallback)(e=>r(t=>t^e),[])}}(e&&i?3:0),f=(0,a.useRef)(!1),p=(0,a.useRef)(!1),y=(0,l.L)();return(0,c.s)(()=>{var i;if(e){if(r&&s(!0),!t){r&&d(3);return}return null==(i=null==n?void 0:n.start)||i.call(n,r),function(e,{prepare:t,run:r,done:n,inFlight:i}){let s=(0,o.e)();return function(e,{inFlight:t,prepare:r}){if(null!=t&&t.current)return r();let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(function(e,t){var r,n;let i=(0,o.e)();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=null!=(n=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?n:[];return 0===a.length?t():Promise.allSettled(a.map(e=>e.finished)).then(()=>{s||t()}),i.dispose}(e,n))})}),s.dispose}(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,p.current||(r?(d(3),h(4)):(d(4),h(2)))},run(){p.current?r?(h(3),d(4)):(h(4),d(3)):r?h(1):d(1)},done(){var e,i,a,o;p.current&&(null!=(o=null==(a=(i=t).getAnimations)?void 0:a.call(i))?o:[]).some(e=>e instanceof CSSTransition&&"finished"!==e.playState)||(f.current=!1,h(7),r||s(!1),null==(e=null==n?void 0:n.end)||e.call(n,r))}})}},[e,r,t,y]),e?[i,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}},55467:(e,t,r)=>{"use strict";r.d(t,{J9:()=>s,Mc:()=>i,fD:()=>n});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},s={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},55573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(77097);n.__exportStar(r(26986),t),n.__exportStar(r(40682),t)},55906:(e,t,r)=>{"use strict";r.d(t,{h:()=>c});var n=r(5805),i=r(90943),s=r(68551),a=r(85436),o=r(42494),l=r(33297);async function c(e,t){let{account:r=e.account,chainId:c,nonce:u}=t;if(!r)throw new i.T({docsPath:"/docs/eip7702/prepareAuthorization"});let d=(0,n.J)(r),h=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,n.J)(t.executor)})(),f={address:t.contractAddress??t.address,chainId:c,nonce:u};return void 0===f.chainId&&(f.chainId=e.chain?.id??await (0,a.T)(e,o.T,"getChainId")({})),void 0===f.nonce&&(f.nonce=await (0,a.T)(e,l.y,"getTransactionCount")({address:d.address,blockTag:"pending"}),("self"===h||h?.address&&(0,s.h)(h.address,d.address))&&(f.nonce+=1)),f}},56205:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(30460),i=r(76335),s=r(62581);function a(e){let t=(0,i.e)(e),r=[],a=e.length;for(let i=0;i<a;i++){let a=e[i];(0,n.WL)(a)||r.push((0,s.uT)(a,t))}return r}},56658:(e,t,r)=>{"use strict";r.d(t,{Dg:()=>b,Ej:()=>m,Fl:()=>S,HT:()=>c,Ho:()=>p,M7:()=>y,Ro:()=>v,Ty:()=>_,di:()=>g,ii:()=>A,oB:()=>h,sH:()=>f,tf:()=>w,u:()=>I,uK:()=>d,xW:()=>l,xb:()=>u});var n=r(5958),i=r(16430),s=r(89499);let a=new TextEncoder,o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function c(e){return e instanceof Uint8Array?d(e):Array.isArray(e)?d(new Uint8Array(e)):e}function u(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(i.Sl(r,t.size),p(r,t.size)):r}function d(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(i.Sl(n,t.size),y(n,t.size)):n}function h(e,t={}){let r,{signed:n,size:i}=t,s=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<a){let t="bigint"==typeof e?"n":"";throw new _({max:r?`${r}${t}`:void 0,min:`${a}${t}`,signed:n,size:i,value:`${e}${t}`})}let o=(n&&s<0?BigInt.asUintN(8*i,BigInt(s)):s).toString(16),l=`0x${o}`;return i?p(l,i):l}function f(e,t={}){return d(a.encode(e),t)}function p(e,t){return i.eV(e,{dir:"left",size:t})}function y(e,t){return i.eV(e,{dir:"right",size:t})}function g(e,t,r,n={}){let{strict:s}=n;i.kK(e,t);let a=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&i.X(a,t,r),a}function m(e){return Math.ceil((e.length-2)/2)}function b(e,t={}){let{signed:r}=t;t.size&&i.Sl(e,t.size);let n=BigInt(e);if(!r)return n;let s=(1n<<8n*BigInt((e.length-2)/2))-1n;return n<=s>>1n?n:n-s-1n}function v(e,t={}){let{signed:r,size:n}=t;return r||n?Number(b(e,t)):Number(e)}function w(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new x(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new E(e)}(e,{strict:r}),!0}catch{return!1}}class _ extends n.C{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}n.C;class x extends n.C{constructor(e){super(`Value \`${"object"==typeof e?s.A(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class E extends n.C{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}n.C;class I extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class A extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class S extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},57059:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>i,Au:()=>n});let n=2n**16n-1n,i=2n**256n-1n},57198:(e,t,r)=>{"use strict";let n,i,s,a,o;r.d(t,{BD:()=>p,Bm:()=>v,CU:()=>A,Fh:()=>w,MZ:()=>b,Me:()=>y,Uo:()=>h,p9:()=>I,pW:()=>x,wl:()=>E});var l=r(58037),c=r(17158),u=r(83879),d=r(59809);let h=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),f=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var p=((n=p||{})[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n),y=((i=y||{})[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i),g=((s=g||{})[s.Previous=-1]="Previous",s[s.Next=1]="Next",s);function m(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(h)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var b=((a=b||{})[a.Strict=0]="Strict",a[a.Loose=1]="Loose",a);function v(e,t=0){var r;return e!==(null==(r=(0,d.TW)(e))?void 0:r.body)&&(0,u.Y)(t,{0:()=>e.matches(h),1(){let t=e;for(;null!==t;){if(t.matches(h))return!0;t=t.parentElement}return!1}})}function w(e){(0,l.e)().nextFrame(()=>{let t=(0,d.bq)(e);t&&c.Lk(t)&&!v(t,0)&&x(e)})}var _=((o=_||{})[o.Keyboard=0]="Keyboard",o[o.Mouse=1]="Mouse",o);function x(e){null==e||e.focus({preventScroll:!0})}function E(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let s=n.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function I(e,t,r=null===e?document.body:(0,d.zm)(e)){return A(m(r),t,{relativeTo:e})}function A(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){var s,a,o;let l=Array.isArray(e)?e.length>0?(0,d.zm)(e[0]):document:(0,d.zm)(e),c=Array.isArray(e)?r?E(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(f)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):m(e);i.length>0&&c.length>1&&(c=c.filter(e=>!i.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),n=null!=n?n:null==l?void 0:l.activeElement;let u=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,c.indexOf(n))-1;if(4&t)return Math.max(0,c.indexOf(n))+1;if(8&t)return c.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=32&t?{preventScroll:!0}:{},y=0,g=c.length,b;do{if(y>=g||y+g<=0)return 0;let e=h+y;if(16&t)e=(e+g)%g;else{if(e<0)return 3;if(e>=g)return 1}null==(b=c[e])||b.focus(p),y+=u}while(b!==(0,d.bq)(b));return 6&t&&null!=(o=null==(a=null==(s=b)?void 0:s.matches)?void 0:a.call(s,"textarea,input"))&&o&&b.select(),2}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0))},57668:(e,t,r)=>{"use strict";let n;var i,s,a,o,l,c,u,d,h,f,p,y=Object.defineProperty,g=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})},m={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},0x135a9d92:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},b=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];(i=o||(o={})).assertEqual=e=>{},i.assertIs=function(e){},i.assertNever=function(e){throw Error()},i.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},i.getValidEnumValues=e=>{let t=i.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return i.objectValues(r)},i.objectValues=e=>i.objectKeys(e).map(function(t){return e[t]}),i.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},i.find=(e,t)=>{for(let r of e)if(t(r))return r},i.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,i.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},i.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(l||(l={})).mergeShapes=(e,t)=>({...e,...t});let v=o.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),w=e=>{switch(typeof e){case"undefined":return v.undefined;case"string":return v.string;case"number":return Number.isNaN(e)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":if(Array.isArray(e))return v.array;if(null===e)return v.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return v.promise;if("undefined"!=typeof Map&&e instanceof Map)return v.map;if("undefined"!=typeof Set&&e instanceof Set)return v.set;if("undefined"!=typeof Date&&e instanceof Date)return v.date;return v.object;default:return v.unknown}},_=o.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class x extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof x))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,o.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}x.create=e=>new x(e);let E=(e,t)=>{let r;switch(e.code){case _.invalid_type:r=e.received===v.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case _.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,o.jsonStringifyReplacer)}`;break;case _.unrecognized_keys:r=`Unrecognized key(s) in object: ${o.joinValues(e.keys,", ")}`;break;case _.invalid_union:r="Invalid input";break;case _.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${o.joinValues(e.options)}`;break;case _.invalid_enum_value:r=`Invalid enum value. Expected ${o.joinValues(e.options)}, received '${e.received}'`;break;case _.invalid_arguments:r="Invalid function arguments";break;case _.invalid_return_type:r="Invalid function return type";break;case _.invalid_date:r="Invalid date";break;case _.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:o.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case _.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case _.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case _.custom:r="Invalid input";break;case _.invalid_intersection_types:r="Intersection results could not be merged";break;case _.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case _.not_finite:r="Number must be finite";break;default:r=t.defaultError,o.assertNever(e)}return{message:r}};(s=c||(c={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},s.toString=e=>"string"==typeof e?e:e?.message;let I=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function A(e,t){let r=I({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,E,void 0].filter(e=>!!e)});e.common.issues.push(r)}class S{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return k;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return S.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return k;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let k=Object.freeze({status:"aborted"}),C=e=>({status:"dirty",value:e}),P=e=>({status:"valid",value:e}),T=e=>"undefined"!=typeof Promise&&e instanceof Promise;class O{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let R=(e,t)=>{if("valid"===t.status)return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new x(e.common.issues);return this._error=t,this._error}}};function D(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class N{get description(){return this._def.description}_getType(e){return w(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:w(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new S,ctx:{common:e.parent.common,data:e.data,parsedType:w(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(T(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w(e)},n=this._parseSync({data:e,path:r.path,parent:r});return R(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return"valid"===r.status?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>"valid"===e.status?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w(e)},n=this._parse({data:e,path:r.path,parent:r});return R(r,await (T(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),s=()=>n.addIssue({code:_.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new ek({schema:this,typeName:u.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eC.create(this,this._def)}nullable(){return eP.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eu.create(this)}promise(){return eS.create(this,this._def)}or(e){return eh.create([this,e],this._def)}and(e){return ey.create(this,e,this._def)}transform(e){return new ek({...D(this._def),schema:this,typeName:u.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eT({...D(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:u.ZodDefault})}brand(){return new eD({typeName:u.ZodBranded,type:this,...D(this._def)})}catch(e){return new eO({...D(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:u.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eN.create(this,e)}readonly(){return eB.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let B=/^c[^\s-]{8,}$/i,U=/^[0-9a-z]+$/,j=/^[0-9A-HJKMNP-TV-Z]{26}$/i,M=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L=/^[a-z0-9_-]{21}$/i,$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,F=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,q=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,W=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,V=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,G=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Z="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",J=RegExp(`^${Z}$`);function Y(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class X extends N{_parse(e){var t,r,i,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==v.string){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.string,received:t.parsedType}),k}let l=new S;for(let c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(A(a=this._getOrReturnCtx(e,a),{code:_.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if("max"===c.kind)e.data.length>c.value&&(A(a=this._getOrReturnCtx(e,a),{code:_.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if("length"===c.kind){let t=e.data.length>c.value,r=e.data.length<c.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?A(a,{code:_.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):r&&A(a,{code:_.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),l.dirty())}else if("email"===c.kind)F.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"email",code:_.invalid_string,message:c.message}),l.dirty());else if("emoji"===c.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:_.invalid_string,message:c.message}),l.dirty());else if("uuid"===c.kind)M.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:_.invalid_string,message:c.message}),l.dirty());else if("nanoid"===c.kind)L.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:_.invalid_string,message:c.message}),l.dirty());else if("cuid"===c.kind)B.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:_.invalid_string,message:c.message}),l.dirty());else if("cuid2"===c.kind)U.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:_.invalid_string,message:c.message}),l.dirty());else if("ulid"===c.kind)j.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:_.invalid_string,message:c.message}),l.dirty());else if("url"===c.kind)try{new URL(e.data)}catch{A(a=this._getOrReturnCtx(e,a),{validation:"url",code:_.invalid_string,message:c.message}),l.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"regex",code:_.invalid_string,message:c.message}),l.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(A(a=this._getOrReturnCtx(e,a),{code:_.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),l.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(A(a=this._getOrReturnCtx(e,a),{code:_.invalid_string,validation:{startsWith:c.value},message:c.message}),l.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(A(a=this._getOrReturnCtx(e,a),{code:_.invalid_string,validation:{endsWith:c.value},message:c.message}),l.dirty()):"datetime"===c.kind?(function(e){let t=`${Z}T${Y(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(c).test(e.data)||(A(a=this._getOrReturnCtx(e,a),{code:_.invalid_string,validation:"datetime",message:c.message}),l.dirty()):"date"===c.kind?J.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{code:_.invalid_string,validation:"date",message:c.message}),l.dirty()):"time"===c.kind?RegExp(`^${Y(c)}$`).test(e.data)||(A(a=this._getOrReturnCtx(e,a),{code:_.invalid_string,validation:"time",message:c.message}),l.dirty()):"duration"===c.kind?z.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"duration",code:_.invalid_string,message:c.message}),l.dirty()):"ip"===c.kind?(t=e.data,!(("v4"===(r=c.version)||!r)&&q.test(t)||("v6"===r||!r)&&V.test(t))&&1&&(A(a=this._getOrReturnCtx(e,a),{validation:"ip",code:_.invalid_string,message:c.message}),l.dirty())):"jwt"===c.kind?!function(e,t){if(!$.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,c.alg)&&(A(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:_.invalid_string,message:c.message}),l.dirty()):"cidr"===c.kind?(i=e.data,!(("v4"===(s=c.version)||!s)&&W.test(i)||("v6"===s||!s)&&H.test(i))&&1&&(A(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:_.invalid_string,message:c.message}),l.dirty())):"base64"===c.kind?K.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"base64",code:_.invalid_string,message:c.message}),l.dirty()):"base64url"===c.kind?G.test(e.data)||(A(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:_.invalid_string,message:c.message}),l.dirty()):o.assertNever(c);return{status:l.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:_.invalid_string,...c.errToObj(r)})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...c.errToObj(e)})}url(e){return this._addCheck({kind:"url",...c.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...c.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...c.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...c.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...c.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...c.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...c.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...c.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...c.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...c.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...c.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...c.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...c.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...c.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...c.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...c.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...c.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...c.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...c.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...c.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...c.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...c.errToObj(t)})}nonempty(e){return this.min(1,c.errToObj(e))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}X.create=e=>new X({checks:[],typeName:u.ZodString,coerce:e?.coerce??!1,...D(e)});class Q extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==v.number){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.number,received:t.parsedType}),k}let r=new S;for(let n of this._def.checks)"int"===n.kind?o.isInteger(e.data)||(A(t=this._getOrReturnCtx(e,t),{code:_.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(A(t=this._getOrReturnCtx(e,t),{code:_.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(A(t=this._getOrReturnCtx(e,t),{code:_.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(A(t=this._getOrReturnCtx(e,t),{code:_.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(A(t=this._getOrReturnCtx(e,t),{code:_.not_finite,message:n.message}),r.dirty()):o.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,c.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.toString(t))}setLimit(e,t,r,n){return new Q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:c.toString(n)}]})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:c.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:c.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:c.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:c.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:c.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:c.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:c.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:c.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&o.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Q.create=e=>new Q({checks:[],typeName:u.ZodNumber,coerce:e?.coerce||!1,...D(e)});class ee extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==v.bigint)return this._getInvalidInput(e);let r=new S;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(A(t=this._getOrReturnCtx(e,t),{code:_.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(A(t=this._getOrReturnCtx(e,t),{code:_.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(A(t=this._getOrReturnCtx(e,t),{code:_.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):o.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.bigint,received:t.parsedType}),k}gte(e,t){return this.setLimit("min",e,!0,c.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.toString(t))}setLimit(e,t,r,n){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:c.toString(n)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:c.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:c.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:c.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:c.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ee.create=e=>new ee({checks:[],typeName:u.ZodBigInt,coerce:e?.coerce??!1,...D(e)});class et extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==v.boolean){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.boolean,received:t.parsedType}),k}return P(e.data)}}et.create=e=>new et({typeName:u.ZodBoolean,coerce:e?.coerce||!1,...D(e)});class er extends N{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==v.date){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.date,received:t.parsedType}),k}if(Number.isNaN(e.data.getTime()))return A(this._getOrReturnCtx(e),{code:_.invalid_date}),k;let r=new S;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(A(t=this._getOrReturnCtx(e,t),{code:_.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(A(t=this._getOrReturnCtx(e,t),{code:_.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):o.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:c.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:c.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}er.create=e=>new er({checks:[],coerce:e?.coerce||!1,typeName:u.ZodDate,...D(e)});class en extends N{_parse(e){if(this._getType(e)!==v.symbol){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.symbol,received:t.parsedType}),k}return P(e.data)}}en.create=e=>new en({typeName:u.ZodSymbol,...D(e)});class ei extends N{_parse(e){if(this._getType(e)!==v.undefined){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.undefined,received:t.parsedType}),k}return P(e.data)}}ei.create=e=>new ei({typeName:u.ZodUndefined,...D(e)});class es extends N{_parse(e){if(this._getType(e)!==v.null){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.null,received:t.parsedType}),k}return P(e.data)}}es.create=e=>new es({typeName:u.ZodNull,...D(e)});class ea extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return P(e.data)}}ea.create=e=>new ea({typeName:u.ZodAny,...D(e)});class eo extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return P(e.data)}}eo.create=e=>new eo({typeName:u.ZodUnknown,...D(e)});class el extends N{_parse(e){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.never,received:t.parsedType}),k}}el.create=e=>new el({typeName:u.ZodNever,...D(e)});class ec extends N{_parse(e){if(this._getType(e)!==v.undefined){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.void,received:t.parsedType}),k}return P(e.data)}}ec.create=e=>new ec({typeName:u.ZodVoid,...D(e)});class eu extends N{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==v.array)return A(t,{code:_.invalid_type,expected:v.array,received:t.parsedType}),k;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(A(t,{code:e?_.too_big:_.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(A(t,{code:_.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(A(t,{code:_.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new O(t,e,t.path,r)))).then(e=>S.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new O(t,e,t.path,r)));return S.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new eu({...this._def,minLength:{value:e,message:c.toString(t)}})}max(e,t){return new eu({...this._def,maxLength:{value:e,message:c.toString(t)}})}length(e,t){return new eu({...this._def,exactLength:{value:e,message:c.toString(t)}})}nonempty(e){return this.min(1,e)}}eu.create=(e,t)=>new eu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:u.ZodArray,...D(t)});class ed extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=o.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==v.object){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.object,received:t.parsedType}),k}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof el&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new O(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof el){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(A(r,{code:_.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new O(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>S.mergeObjectSync(t,e)):S.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return c.errToObj,new ed({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:c.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new ed({...this._def,unknownKeys:"strip"})}passthrough(){return new ed({...this._def,unknownKeys:"passthrough"})}extend(e){return new ed({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ed({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:u.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ed({...this._def,catchall:e})}pick(e){let t={};for(let r of o.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ed({...this._def,shape:()=>t})}omit(e){let t={};for(let r of o.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ed({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ed){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=eC.create(e(i))}return new ed({...t._def,shape:()=>r})}if(t instanceof eu)return new eu({...t._def,type:e(t.element)});if(t instanceof eC)return eC.create(e(t.unwrap()));if(t instanceof eP)return eP.create(e(t.unwrap()));if(t instanceof eg)return eg.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of o.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new ed({...this._def,shape:()=>t})}required(e){let t={};for(let r of o.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eC;)e=e._def.innerType;t[r]=e}return new ed({...this._def,shape:()=>t})}keyof(){return eE(o.objectKeys(this.shape))}}ed.create=(e,t)=>new ed({shape:()=>e,unknownKeys:"strip",catchall:el.create(),typeName:u.ZodObject,...D(t)}),ed.strictCreate=(e,t)=>new ed({shape:()=>e,unknownKeys:"strict",catchall:el.create(),typeName:u.ZodObject,...D(t)}),ed.lazycreate=(e,t)=>new ed({shape:e,unknownKeys:"strip",catchall:el.create(),typeName:u.ZodObject,...D(t)});class eh extends N{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new x(e.ctx.common.issues));return A(t,{code:_.invalid_union,unionErrors:r}),k});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new x(e));return A(t,{code:_.invalid_union,unionErrors:i}),k}}get options(){return this._def.options}}eh.create=(e,t)=>new eh({options:e,typeName:u.ZodUnion,...D(t)});let ef=e=>{if(e instanceof e_)return ef(e.schema);if(e instanceof ek)return ef(e.innerType());if(e instanceof ex)return[e.value];if(e instanceof eI)return e.options;if(e instanceof eA)return o.objectValues(e.enum);else if(e instanceof eT)return ef(e._def.innerType);else if(e instanceof ei)return[void 0];else if(e instanceof es)return[null];else if(e instanceof eC)return[void 0,...ef(e.unwrap())];else if(e instanceof eP)return[null,...ef(e.unwrap())];else if(e instanceof eD)return ef(e.unwrap());else if(e instanceof eB)return ef(e.unwrap());else if(e instanceof eO)return ef(e._def.innerType);else return[]};class ep extends N{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.object)return A(t,{code:_.invalid_type,expected:v.object,received:t.parsedType}),k;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(A(t,{code:_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),k)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ef(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new ep({typeName:u.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...D(r)})}}class ey extends N{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if("aborted"===e.status||"aborted"===n.status)return k;let i=function e(t,r){let n=w(t),i=w(r);if(t===r)return{valid:!0,data:t};if(n===v.object&&i===v.object){let n=o.objectKeys(r),i=o.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===v.array&&i===v.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===v.date&&i===v.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?(("dirty"===e.status||"dirty"===n.status)&&t.dirty(),{status:t.value,value:i.data}):(A(r,{code:_.invalid_intersection_types}),k)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ey.create=(e,t,r)=>new ey({left:e,right:t,typeName:u.ZodIntersection,...D(r)});class eg extends N{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.array)return A(r,{code:_.invalid_type,expected:v.array,received:r.parsedType}),k;if(r.data.length<this._def.items.length)return A(r,{code:_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),k;!this._def.rest&&r.data.length>this._def.items.length&&(A(r,{code:_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new O(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>S.mergeArray(t,e)):S.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eg({...this._def,rest:e})}}eg.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eg({items:e,typeName:u.ZodTuple,rest:null,...D(t)})};class em extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.object)return A(r,{code:_.invalid_type,expected:v.object,received:r.parsedType}),k;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new O(r,e,r.path,e)),value:s._parse(new O(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?S.mergeObjectAsync(t,n):S.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new em(t instanceof N?{keyType:e,valueType:t,typeName:u.ZodRecord,...D(r)}:{keyType:X.create(),valueType:e,typeName:u.ZodRecord,...D(t)})}}class eb extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.map)return A(r,{code:_.invalid_type,expected:v.map,received:r.parsedType}),k;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new O(r,e,r.path,[s,"key"])),value:i._parse(new O(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return k;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return k;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}eb.create=(e,t,r)=>new eb({valueType:t,keyType:e,typeName:u.ZodMap,...D(r)});class ev extends N{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.set)return A(r,{code:_.invalid_type,expected:v.set,received:r.parsedType}),k;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(A(r,{code:_.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(A(r,{code:_.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return k;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new O(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new ev({...this._def,minSize:{value:e,message:c.toString(t)}})}max(e,t){return new ev({...this._def,maxSize:{value:e,message:c.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ev.create=(e,t)=>new ev({valueType:e,minSize:null,maxSize:null,typeName:u.ZodSet,...D(t)});class ew extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.function)return A(t,{code:_.invalid_type,expected:v.function,received:t.parsedType}),k;function r(e,r){return I({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,E,E].filter(e=>!!e),issueData:{code:_.invalid_arguments,argumentsError:r}})}function n(e,r){return I({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,E,E].filter(e=>!!e),issueData:{code:_.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof eS){let e=this;return P(async function(...t){let a=new x([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(n(l,e)),a})})}{let e=this;return P(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new x([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new x([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ew({...this._def,args:eg.create(e).rest(eo.create())})}returns(e){return new ew({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ew({args:e||eg.create([]).rest(eo.create()),returns:t||eo.create(),typeName:u.ZodFunction,...D(r)})}}class e_ extends N{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}e_.create=(e,t)=>new e_({getter:e,typeName:u.ZodLazy,...D(t)});class ex extends N{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return A(t,{received:t.data,code:_.invalid_literal,expected:this._def.value}),k}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eE(e,t){return new eI({values:e,typeName:u.ZodEnum,...D(t)})}ex.create=(e,t)=>new ex({value:e,typeName:u.ZodLiteral,...D(t)});class eI extends N{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return A(t,{expected:o.joinValues(r),received:t.parsedType,code:_.invalid_type}),k}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return A(t,{received:t.data,code:_.invalid_enum_value,options:r}),k}return P(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eI.create(e,{...this._def,...t})}exclude(e,t=this._def){return eI.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eI.create=eE;class eA extends N{_parse(e){let t=o.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==v.string&&r.parsedType!==v.number){let e=o.objectValues(t);return A(r,{expected:o.joinValues(e),received:r.parsedType,code:_.invalid_type}),k}if(this._cache||(this._cache=new Set(o.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=o.objectValues(t);return A(r,{received:r.data,code:_.invalid_enum_value,options:e}),k}return P(e.data)}get enum(){return this._def.values}}eA.create=(e,t)=>new eA({values:e,typeName:u.ZodNativeEnum,...D(t)});class eS extends N{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==v.promise&&!1===t.common.async?(A(t,{code:_.invalid_type,expected:v.promise,received:t.parsedType}),k):P((t.parsedType===v.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eS.create=(e,t)=>new eS({type:e,typeName:u.ZodPromise,...D(t)});class ek extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===u.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{A(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return k;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?k:"dirty"===n.status||"dirty"===t.value?C(n.value):n});{if("aborted"===t.value)return k;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?k:"dirty"===n.status||"dirty"===t.value?C(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?k:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?k:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>"valid"!==e.status?k:Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})));else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if("valid"!==e.status)return k;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}o.assertNever(n)}}ek.create=(e,t,r)=>new ek({schema:e,typeName:u.ZodEffects,effect:t,...D(r)}),ek.createWithPreprocess=(e,t,r)=>new ek({schema:t,effect:{type:"preprocess",transform:e},typeName:u.ZodEffects,...D(r)});class eC extends N{_parse(e){return this._getType(e)===v.undefined?P(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eC.create=(e,t)=>new eC({innerType:e,typeName:u.ZodOptional,...D(t)});class eP extends N{_parse(e){return this._getType(e)===v.null?P(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:u.ZodNullable,...D(t)});class eT extends N{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===v.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:u.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...D(t)});class eO extends N{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return T(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new x(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new x(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:u.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...D(t)});class eR extends N{_parse(e){if(this._getType(e)!==v.nan){let t=this._getOrReturnCtx(e);return A(t,{code:_.invalid_type,expected:v.nan,received:t.parsedType}),k}return{status:"valid",value:e.data}}}eR.create=e=>new eR({typeName:u.ZodNaN,...D(e)}),Symbol("zod_brand");class eD extends N{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eN extends N{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?k:"dirty"===e.status?(t.dirty(),C(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?k:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eN({in:e,out:t,typeName:u.ZodPipeline})}}class eB extends N{_parse(e){let t=this._def.innerType._parse(e),r=e=>("valid"===e.status&&(e.value=Object.freeze(e.value)),e);return T(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}eB.create=(e,t)=>new eB({innerType:e,typeName:u.ZodReadonly,...D(t)}),ed.lazycreate,(a=u||(u={})).ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly";let eU=X.create,ej=Q.create;eR.create,ee.create;let eM=et.create,eL=er.create;en.create,ei.create,es.create;let e$=ea.create;eo.create,el.create,ec.create;let ez=eu.create,eF=ed.create;ed.strictCreate;let eq=eh.create,eW=ep.create;ey.create,eg.create;let eV=em.create;eb.create,ev.create,ew.create,e_.create;let eH=ex.create,eK=eI.create;eA.create,eS.create,ek.create,eC.create,eP.create,ek.createWithPreprocess,eN.create;var eG=r(9587),eZ=r(92658),eJ=r(50244),eY=r(39241),eX=r(54412),eQ=r(68549),e0=r(38252),e1=r(16678),e2=r(58383),e6=r(36688),e5=r(80562),e8=r(86126),e3=r(26983),e4=r(57059);let e9=32n*e4.Au,e7={block:(0,e2.R)({format(e){let t=e.transactions?.map(e=>{if("string"==typeof e)return e;let t=e7.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t});return{l1BatchNumber:e.l1BatchNumber?(0,eQ.uU)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,eQ.uU)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:(0,e5.gU)({format(e){let t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,eQ.uU)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,eQ.uU)(e.l1BatchTxIndex):null}}}),transactionReceipt:(0,e8.WB)({format:e=>({l1BatchNumber:e.l1BatchNumber?(0,eQ.uU)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,eQ.uU)(e.l1BatchTxIndex):null,logs:e.logs.map(e=>({...(0,e6.e)(e),l1BatchNumber:e.l1BatchNumber?(0,eQ.uU)(e.l1BatchNumber):null,transactionLogIndex:(0,eQ.ME)(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:e.l2ToL1Logs.map(e=>({blockNumber:(0,eQ.uU)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?(0,eQ.uU)(e.l1BatchNumber):null,transactionIndex:(0,eQ.uU)(e.transactionIndex),shardId:(0,eQ.uU)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,eQ.uU)(e.logIndex)}))})}),transactionRequest:(0,e3.bm)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:e=>e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,e1.nj)(e.gasPerPubdata)}:{gasPerPubdata:(0,e1.nj)(50000n)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,e0.aT)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(e=>Array.from((0,e0.aT)(e)))}:{},...e.customSignature?{customSignature:Array.from((0,e0.aT)(e.customSignature))}:{}},type:"0x71"}:{}})};var te=r(99859),tt=r(2425),tr=r(78552),tn=r(71567),ti=r(52996),ts=r(47016),ta=r(76635),to=r(5247),tl=r(80044),tc=r(76956),tu=r(42213),td=r(35251),th=r(46157),tf=r(1176),tp=r(13437),ty=r(38006),tg=r(45855);function tm(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new th.qD({chainId:t});if(i&&!(0,tp.P)(i))throw new tc.M({address:i});if(n&&n>e4.Ao)throw new tf.BG({maxFeePerGas:n});if(r&&n&&r>n)throw new tf.lN({maxFeePerGas:n,maxPriorityFeePerGas:r})}var tb=r(39831);function tv(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new tr.fZ({storageKey:i[e]});if(!(0,tp.P)(n,{strict:!1}))throw new tc.M({address:n});t.push([n,i])}return t}function tw(e,t){let r=(0,tb.L)(e);return"eip1559"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,accessList:c,data:u}=e;tm(e);let d=tv(c),h=[(0,e1.cK)(r),i?(0,e1.cK)(i):"0x",l?(0,e1.cK)(l):"0x",o?(0,e1.cK)(o):"0x",n?(0,e1.cK)(n):"0x",s??"0x",a?(0,e1.cK)(a):"0x",u??"0x",d,...t_(e,t)];return(0,te.aP)(["0x02",(0,tt.EQ)(h)])}(e,t):"eip2930"===r?function(e,t){let{chainId:r,gas:n,data:i,nonce:s,to:a,value:o,accessList:l,gasPrice:c}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new th.qD({chainId:t});if(s&&!(0,tp.P)(s))throw new tc.M({address:s});if(r||i)throw new tu.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>e4.Ao)throw new tf.BG({maxFeePerGas:n})}(e);let u=tv(l),d=[(0,e1.cK)(r),s?(0,e1.cK)(s):"0x",c?(0,e1.cK)(c):"0x",n?(0,e1.cK)(n):"0x",a??"0x",o?(0,e1.cK)(o):"0x",i??"0x",u,...t_(e,t)];return(0,te.aP)(["0x01",(0,tt.EQ)(d)])}(e,t):"eip4844"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:s,value:a,maxFeePerBlobGas:o,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new td.zF;for(let e of t){let t=(0,ty.E)(e),r=(0,eQ.ME)((0,tg.di)(e,0,1));if(32!==t)throw new td.uP({hash:e,size:t});if(r!==tl.E)throw new td.PK({hash:e,version:r})}}tm(e)}(e);let h=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(void 0===h||void 0===f)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,e1.My)(e)),r=e.kzg,n=(0,tn.S)({blobs:t,kzg:r});if(void 0===h&&(h=(0,ts.d)({commitments:n})),void 0===f){let e=(0,ti.t)({blobs:t,commitments:n,kzg:r});f=(0,ta.T)({blobs:t,commitments:n,proofs:e})}}let p=tv(u),y=[(0,e1.cK)(r),i?(0,e1.cK)(i):"0x",c?(0,e1.cK)(c):"0x",l?(0,e1.cK)(l):"0x",n?(0,e1.cK)(n):"0x",s??"0x",a?(0,e1.cK)(a):"0x",d??"0x",p,o?(0,e1.cK)(o):"0x",h??[],...t_(e,t)],g=[],m=[],b=[];if(f)for(let e=0;e<f.length;e++){let{blob:t,commitment:r,proof:n}=f[e];g.push(t),m.push(r),b.push(n)}return(0,te.aP)(["0x03",f?(0,tt.EQ)([y,g,m,b]):(0,tt.EQ)(y)])}(e,t):"eip7702"===r?function(e,t){let{authorizationList:r,chainId:n,gas:i,nonce:s,to:a,value:o,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,r=e.address;if(!(0,tp.P)(r))throw new tc.M({address:r});if(t<0)throw new th.qD({chainId:t})}tm(e)}(e);let h=tv(u),f=function(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{chainId:e,nonce:n,...i}=r,s=r.address;t.push([e?(0,e1.nj)(e):"0x",s,n?(0,e1.nj)(n):"0x",...t_({},i)])}return t}(r);return(0,te.aP)(["0x04",(0,tt.EQ)([(0,e1.cK)(n),s?(0,e1.cK)(s):"0x",c?(0,e1.cK)(c):"0x",l?(0,e1.cK)(l):"0x",i?(0,e1.cK)(i):"0x",a??"0x",o?(0,e1.cK)(o):"0x",d??"0x",h,f,...t_(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:n,data:i,nonce:s,to:a,value:o,gasPrice:l}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(s&&!(0,tp.P)(s))throw new tc.M({address:s});if(void 0!==t&&t<=0)throw new th.qD({chainId:t});if(r||i)throw new tu.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>e4.Ao)throw new tf.BG({maxFeePerGas:n})}(e);let c=[s?(0,e1.cK)(s):"0x",l?(0,e1.cK)(l):"0x",n?(0,e1.cK)(n):"0x",a??"0x",o?(0,e1.cK)(o):"0x",i??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new tr.zW({v:t.v});return e})(),n=(0,to.B)(t.r),i=(0,to.B)(t.s);c=[...c,(0,e1.cK)(e),"0x00"===n?"0x":n,"0x00"===i?"0x":i]}else r>0&&(c=[...c,(0,e1.cK)(r),"0x","0x"]);return(0,tt.EQ)(c)}(e,t)}function t_(e,t){let r=t??e,{v:n,yParity:i}=r;if(void 0===r.r||void 0===r.s||void 0===n&&void 0===i)return[];let s=(0,to.B)(r.r),a=(0,to.B)(r.s);return["number"==typeof i?i?(0,e1.cK)(1):"0x":0n===n?"0x":1n===n?(0,e1.cK)(1):27n===n?"0x":(0,e1.cK)(1),"0x00"===s?"0x":s,"0x00"===a?"0x":a]}class tx extends tu.C{constructor(){super('Transaction is not an EIP712 transaction.\n\nTransaction must:\n  - include `type: "eip712"`\n  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`',{name:"InvalidEip712TransactionError"})}}function tE(e){return"eip712"===e.type||"customSignature"in e&&!!e.customSignature||"paymaster"in e&&!!e.paymaster||"paymasterInput"in e&&!!e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&!!e.factoryDeps||!1}function tI(e){let{chainId:t,to:r,from:n,paymaster:i,paymasterInput:s}=e;if(!tE(e))throw new tx;if(!t||t<=0)throw new th.qD({chainId:t});if(r&&!(0,tp.P)(r))throw new tc.M({address:r});if(n&&!(0,tp.P)(n))throw new tc.M({address:n});if(i&&!(0,tp.P)(i))throw new tc.M({address:i});if(i&&!s)throw new tu.C("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new tu.C("`paymaster` must be provided when `paymasterInput` is defined")}var tA=r(61144),tS=r(72608);class tk extends tu.C{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class tC extends tu.C{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class tP extends tu.C{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function tT(e){let t=(0,e0.ZJ)(e);if(t.length%32!=0)throw new tP({givenLength:t.length});if(t.length>e9)throw new tk({givenLength:t.length,maxBytecodeSize:e9});let r=(0,tS.s)(t),n=(0,e0.ZJ)(r),i=t.length/32;if(i%2==0)throw new tC({givenLengthInWords:i});let s=(0,e0.ZJ)(i),a=(0,tA.eV)(s,{size:2}),o=new Uint8Array([1,0]);return n.set(o,0),n.set(a,2),n}let tO={blockTime:1e3,formatters:e7,serializers:{transaction:function(e,t){return tE(e)?function(e){let{chainId:t,gas:r,nonce:n,to:i,from:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,customSignature:c,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:f,data:p}=e;tI(e);let y=[n?(0,e1.nj)(n):"0x",l?(0,e1.nj)(l):"0x",o?(0,e1.nj)(o):"0x",r?(0,e1.nj)(r):"0x",i??"0x",a?(0,e1.nj)(a):"0x",p??"0x",(0,e1.nj)(t),(0,e1.nj)(""),(0,e1.nj)(""),(0,e1.nj)(t),s??"0x",f?(0,e1.nj)(f):(0,e1.nj)(50000n),u??[],c??"0x",d&&h?[d,h]:[]];return(0,te.aP)(["0x71",(0,tt.EQ)(y)])}(e):tw(e,t)}},custom:{getEip712Domain:e=>{tI(e);let t=function(e){let{gas:t,nonce:r,to:n,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:o,factoryDeps:l,paymaster:c,paymasterInput:u,gasPerPubdata:d,data:h}=e;return{txType:113n,from:BigInt(i),to:n?BigInt(n):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??50000n,maxFeePerGas:a??0n,maxPriorityFeePerGas:o??0n,paymaster:c?BigInt(c):0n,nonce:r?BigInt(r):0n,value:s??0n,data:h??"0x",factoryDeps:l?.map(e=>(0,e1.nj)(tT(e)))??[],paymasterInput:u||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}},tR=(0,eX.x)({...tO,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),tD=(0,eX.x)({...tO,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),tN={blockTime:2e3,contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:{block:(0,e2.R)({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=(0,e5.uP)(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,eQ.uU)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:(0,e5.gU)({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,eQ.uU)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,e8.WB)({format:e=>({l1GasPrice:e.l1GasPrice?(0,eQ.uU)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,eQ.uU)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,eQ.uU)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},serializers:{transaction:function(e,t){var r;return"deposit"===(r=e).type||void 0!==r.sourceHash?function(e){!function(e){let{from:t,to:r}=e;if(t&&!(0,tp.P)(t))throw new tc.M({address:t});if(r&&!(0,tp.P)(r))throw new tc.M({address:r})}(e);let{sourceHash:t,data:r,from:n,gas:i,isSystemTx:s,mint:a,to:o,value:l}=e,c=[t,n,o??"0x",a?(0,e1.nj)(a):"0x",l?(0,e1.nj)(l):"0x",i?(0,e1.nj)(i):"0x",s?"0x1":"0x",r??"0x"];return(0,te.aP)(["0x7e",(0,tt.EQ)(c)])}(e):tw(e,t)}}},tB=(0,eX.x)({...tN,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...tN.contracts,disputeGameFactory:{1:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{1:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{1:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:0x10ac19f}},l1StandardBridge:{1:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:0x10ac19f}}},sourceId:1});({...tB,experimental_preconfirmationTime:200,rpcUrls:{default:{http:["https://mainnet-preconf.base.org"]}}});let tU=(0,eX.x)({...tN,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...tN.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});({...tU,experimental_preconfirmationTime:200,rpcUrls:{default:{http:["https://sepolia-preconf.base.org"]}}});let tj=(0,eX.x)({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xb5b35e}}}),tM=(0,eX.x)({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),tL=(0,eX.x)({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),t$=(0,eX.x)({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0x5e201b3}},testnet:!0}),tz=(0,eX.x)({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x18938b0}}}),tF=(0,eX.x)({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),tq=(0,eX.x)({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),tW=(0,eX.x)({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1}),tV=(0,eX.x)({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),tH=(0,eX.x)({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0x15230d6}}}),tK=(0,eX.x)({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:0x17383c8}},testnet:!0});var tG=r(4714),tZ=r(48896),tJ=r(84968),tY=r(48713);async function tX({hash:e,privateKey:t,to:r="object"}){let{r:n,s:i,recovery:s}=tG.secp256k1.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:!!(0,tJ.q)(!1,{strict:!1})&&(0,e0.aT)(!1)}),a={r:(0,e1.cK)(n,{size:32}),s:(0,e1.cK)(i,{size:32}),v:s?28n:27n,yParity:s};return"bytes"===r||"hex"===r?(0,tY.h)({...a,to:r}):a}var tQ=r(54849);async function t0(e){let{chainId:t,nonce:r,privateKey:n,to:i="object"}=e,s=e.contractAddress??e.address,a=await tX({hash:(0,tQ.C)({address:s,chainId:t,nonce:r}),privateKey:n,to:i});return"object"===i?{address:s,chainId:t,nonce:r,...a}:a}var t1=r(95277);async function t2({message:e,privateKey:t}){return await tX({hash:(0,t1.A)(e),privateKey:t,to:"hex"})}var t6=r(73634);async function t5(e){let{privateKey:t,transaction:r,serializer:n=tw}=e,i="eip4844"===r.type?{...r,sidecars:!1}:r,s=await tX({hash:(0,t6.S)(await n(i)),privateKey:t});return await n(r,s)}var t8=r(40783);async function t3(e){let{privateKey:t,...r}=e;return await tX({hash:(0,t8.Zh)(r),privateKey:t,to:"hex"})}var t4=r(28779),t9=r(15097),t7=r(59670),re=r(91068),rt=r(65906);let rr=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],rn="/docs/contract/encodeDeployData";function ri(e,t,r,n){let i=[t,r,n];return({create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,1]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,1]}})[e||"create"]}var rs=r(5805),ra=r(42494),ro=r(5292),rl=r(45174),rc=r(90943),ru=r(71948),rd=r(49336),rh=r(85436),rf=r(31070);function rp(e){if(!tE(e))throw new tx;(0,rf.c)(e)}var ry=r(79109),rg=r(23797);async function rm(e,t){let{account:r=e.account,chain:n=e.chain,...i}=t,s=r?(0,rs.J)(r):e.account;if(!s)throw new rc.T({docsPath:"/docs/actions/wallet/signTransaction"});if(rp({account:s,chain:n,...t}),!n?.custom?.getEip712Domain)throw new tu.C("`getEip712Domain` not found on chain.");if(!n?.serializers?.transaction)throw new tu.C("transaction serializer not found on chain.");let a=await (0,rh.T)(e,ra.T,"getChainId")({});null!==n&&(0,ru.v)({currentChainId:a,chain:n});let o=n?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),l=await (0,rg.C)(e,{...o,account:s});return n?.serializers?.transaction({chainId:a,...i,customSignature:l,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function rb(e,t){return tE(t)?rm(e,t):await (0,ry.W)(e,t)}async function rv(e,t){let{account:r=e.account,chain:n=e.chain}=t,i=r?(0,rs.J)(r):e.account;if(!i)throw new rc.T({docsPath:"/docs/actions/wallet/sendTransaction"});try{let r;rp(t);let s=await (0,ro.ft)(e,{...t,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});null!==n&&(r=await (0,rh.T)(e,ra.T,"getChainId")({}),(0,ru.v)({currentChainId:r,chain:n}));let a=await rb(e,{...s,chainId:r});return await (0,rh.T)(e,rl.L,"sendRawTransaction")({serializedTransaction:a})}catch(e){throw(0,rd.p)(e,{...t,account:i,chain:n})}}var rw=r(69316);async function r_(e,t){return tE(t)?rv(e,t):(0,rw.v)(e,t)}var rx=r(38290),rE=r(22353),rI=r(82230);function rA(e){return JSON.parse(function(e){let t=[],r=!1;for(let i=0;i<e.length;i++){let s=!1;if("\\"===e[i]&&(t.push(e[i++]),s=!s),'"'===e[i]){t.push(e[i]),s||(r=!r);continue}if(!r){let r=function(e,t){if(!e[t]?.match(/[-\d]/))return null;let r=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return r?r[0]:null}(e,i);if(r?.length){var n;i+=r.length-1,r.match(/\.|[eE]-/)?t.push(r):t.push((n=r,`{"$n":"${n}"}`));continue}}t.push(e[i])}return t.join("")}(e),(e,t)=>{var r;return(r=t)&&"object"==typeof r&&"$n"in r&&"string"==typeof r.$n?function({$n:e}){if(e.match(/[eE]/)){let[t,r]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(r)}return BigInt(e)}(t):t})}var rS=0n;function rk(e){let t;return{id:(t=rS,rS++,t.toString()),jsonrpc:"2.0",method:e.methodName,params:e.params}}function rC(e,t){return JSON.stringify(e,(e,t)=>{var r;return"bigint"==typeof t?(r=t,{$n:`${r}`}):t},t).replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function rP(e){return!(null==e||"object"!=typeof e||Array.isArray(e))&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e}var rT=r(6530);function rO(e){return"bigint"==typeof e?Number(e):e}var rR={};function rD(e){return function t(r,n){if(Array.isArray(r))return r.map((e,r)=>t(e,{...n,keyPath:[...n.keyPath,r]}));if("object"!=typeof r||null===r)return e.reduce((e,t)=>t(e,n),r);{let e={};for(let i in r){if(!Object.prototype.hasOwnProperty.call(r,i))continue;let s={...n,keyPath:[...n.keyPath,i]};e[i]=t(r[i],s)}return e}}}function rN(e,t){return r=>{let n=rD(e);return Object.freeze({...r,params:n(r.params,t)})}}var rB={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function rU(e){let t=e?.onIntegerOverflow;return r=>(0,rT.F)(r,t?e=>{var r;return rN([(r=(...r)=>t(e,...r),(e,{keyPath:t})=>("bigint"==typeof e&&r&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&r(t,e),e))],{keyPath:[]})(e)}:e=>e,rN([rO],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return r=>{let{params:n,methodName:i}=r;if(!Array.isArray(n))return r;let s=t[i];return null==s?r:Object.freeze({methodName:i,params:function({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:r,overrideCommitment:n}){let i=t[r];if(void 0===i||i&&"object"==typeof i&&!Array.isArray(i)){if(i&&e in i){if(!i[e]||"finalized"===i[e]){let n=[...t],{[e]:s,...a}=i;return Object.keys(a).length>0?n[r]=a:r===n.length-1?n.length--:n[r]=void 0,n}}else if("finalized"!==n){let s=[...t];return s[r]={...i,[e]:n},s}}return t}({commitmentPropertyName:"sendTransaction"===i?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:e,params:n})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:rB}))}function rj(e){return function(t,{keyPath:r}){var n;return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?(n=r,e.some(e=>{if(e.length!==n.length)return!1;for(let t=n.length-1;t>=0;t--){let r=n[t],i=e[t];if(i!==r&&(i!==rR||"number"!=typeof r))return!1}return!0}))?Number(t):BigInt(t):t}}function rM(e){var t,r;return t=[rj(e)],r={keyPath:[]},e=>rD(t)(e,r)}var rL=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",rR,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",rR,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",rR,"state","preUpdateAverageRate"],["data","parsed","info","extensions",rR,"state","currentRate"]],r$=[...rL,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",rR,"confirmationCount"]],rz=[["index"],["instructions",rR,"accounts",rR],["instructions",rR,"programIdIndex"],["instructions",rR,"stackHeight"]],rF=[["addressTableLookups",rR,"writableIndexes",rR],["addressTableLookups",rR,"readonlyIndexes",rR],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",rR,"accounts",rR],["instructions",rR,"programIdIndex"],["instructions",rR,"stackHeight"]],rq=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function rW(e){return rP(e)&&rq.includes(e.method)}var rV=Object.prototype.toString,rH=Object.keys||function(e){let t=[];for(let r in e)t.push(r);return t};function rK(e){let t=function e(t,r){let n,i,s,a,o,l,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if("toJSON"in t&&"function"==typeof t.toJSON)return e(t.toJSON(),r);if("[object Array]"===(c=rV.call(t))){for(n=0,s="[",i=t.length-1;n<i;n++)s+=e(t[n],!0)+",";return i>-1&&(s+=e(t[n],!0)),s+"]"}if("[object Object]"!==c)return JSON.stringify(t);for(i=(a=rH(t).sort()).length,s="",n=0;n<i;)void 0!==(l=e(t[o=a[n]],!1))&&(s&&(s+=","),s+=JSON.stringify(o)+":"+l),n++;return"{"+s+"}";case"function":case"undefined":return r?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}(e,!1);if(void 0!==t)return""+t}var rG={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,n){let i="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,n=e%100;i=1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}else i=`\`${r[0].toString()}\``;let s=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,a=new rI.tsw(rI.O7$,{argumentLabel:i,keyPath:r,methodName:t,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...void 0!==s?{path:s}:void 0});return(0,rI.rMr)(a,e),a}(e.methodName,t,r)}},rZ=globalThis.AbortController;function rJ(e){return rP(e)?rK([e.method,e.params]):void 0}function rY(e,t){var r,n,i,s,a;return n=(r={url:e,...t},(0,rT.F)(function(e){let t,{fromJson:r,headers:n,toJson:i,url:s}=e,a=n&&function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(n);return async function({payload:e,signal:n}){let o=i?i(e):JSON.stringify(e),l={...t,body:o,headers:{...a,accept:"application/json","content-length":o.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(s,l);if(!c.ok)throw new rI.tsw(rI._yh,{headers:c.headers,message:c.statusText,statusCode:c.status});return r?r(await c.text(),e):await c.json()}}({...{...r,headers:{...!1,...r.headers?function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(r.headers):void 0,"solana-client":"js/5.5.1"}},fromJson:(e,t)=>rW(t)?rA(e):JSON.parse(e),toJson:e=>rW(e)?rC(e):JSON.stringify(e)}),e=>{let t;return async function(r){let{payload:n,signal:i}=r,s=rJ(n);if(void 0===s)return await e(r);if(t||(queueMicrotask(()=>{t=void 0}),t={}),null==t[s]){let n=new rZ,i=(async()=>{try{return await e({...r,signal:n.signal})}catch(e){if(e===(h||={}))return;throw e}})();t[s]={abortController:n,numConsumers:0,responsePromise:i}}let a=t[s];if(a.numConsumers++,!i)return await a.responsePromise;{let e=a.responsePromise;return await new Promise((t,r)=>{let n=e=>{i.removeEventListener("abort",n),a.numConsumers-=1,queueMicrotask(()=>{0===a.numConsumers&&a.abortController.abort(h||={})}),r(e.target.reason)};i.addEventListener("abort",n),e.then(t).catch(r).finally(()=>{i.removeEventListener("abort",n)})})}}})),a={api:(s={requestTransformer:rU(rG),responseTransformer:(i={allowedNumericKeyPaths:(d||(d={getAccountInfo:r$.map(e=>["value",...e]),getBlock:[["transactions",rR,"meta","preTokenBalances",rR,"accountIndex"],["transactions",rR,"meta","preTokenBalances",rR,"uiTokenAmount","decimals"],["transactions",rR,"meta","postTokenBalances",rR,"accountIndex"],["transactions",rR,"meta","postTokenBalances",rR,"uiTokenAmount","decimals"],["transactions",rR,"meta","rewards",rR,"commission"],...rz.map(e=>["transactions",rR,"meta","innerInstructions",rR,...e]),...rF.map(e=>["transactions",rR,"transaction","message",...e]),["rewards",rR,"commission"]],getClusterNodes:[[rR,"featureSet"],[rR,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[rR,"commission"]],getMultipleAccounts:r$.map(e=>["value",rR,...e]),getProgramAccounts:r$.flatMap(e=>[["value",rR,"account",...e],[rR,"account",...e]]),getRecentPerformanceSamples:[[rR,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:rL.map(e=>["value",rR,"account",...e]),getTokenAccountsByOwner:rL.map(e=>["value",rR,"account",...e]),getTokenLargestAccounts:[["value",rR,"decimals"],["value",rR,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",rR,"accountIndex"],["meta","preTokenBalances",rR,"uiTokenAmount","decimals"],["meta","postTokenBalances",rR,"accountIndex"],["meta","postTokenBalances",rR,"uiTokenAmount","decimals"],["meta","rewards",rR,"commission"],...rz.map(e=>["meta","innerInstructions",rR,...e]),...rF.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",rR,"commission"],["delinquent",rR,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...r$.map(e=>["value","accounts",rR,...e]),...rz.map(e=>["value","innerInstructions",rR,...e])]}),d)},(e,t)=>{let r=t.methodName,n=i?.allowedNumericKeyPaths&&r?i.allowedNumericKeyPaths[r]:void 0;return(0,rT.F)(e,e=>((e,t)=>{if("error"in e){let{error:i}=e;if(i&&"object"==typeof i&&"code"in i&&(-32002===i.code||i.code===-32002n)&&"data"in i&&i.data){var r,n;let e=(r=[rj([["loadedAccountsDataSize"],...r$.map(e=>["accounts",rR,...e]),...rz.map(e=>["innerInstructions",rR,...e])])],n={keyPath:[]},e=>rD(r)(e,n))(i.data,t),s={...i,data:e};throw(0,rI.evr)(s)}throw(0,rI.evr)(e.error)}return e})(e,t),e=>e.result,e=>rM(n??[])(e,t))})},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,r]=e,n=r.toString();return function(...e){let t=Object.freeze({methodName:n,params:e}),r=s?.requestTransformer?s?.requestTransformer(t):t;return Object.freeze({execute:async({signal:e,transport:t})=>{let n=rk(r),i=await t({payload:n,signal:e});return s?.responseTransformer?s.responseTransformer(i,r):i}})}}})),transport:n},new Proxy(a.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...n){let i=t.toString(),s=Reflect.get(e,i,r);if(!s)throw new rI.tsw(rI._jo,{method:i,params:n});return function({transport:e},t){return{send:async r=>await t.execute({signal:r?.abortSignal,transport:e})}}(a,s(...n))}}})}var rX=r(290),rQ=globalThis.AbortController,r0=globalThis.EventTarget;function r1(){return Symbol(void 0)}var r2=Symbol();function r6(e){return{on(t,r,n){function i(e){e instanceof CustomEvent?r(e.detail):r()}return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i)}}}}function r5(e){return null!==e&&("object"==typeof e||"function"==typeof e)}var r8=new WeakMap;async function r3(e){let t,r=new Promise((r,n)=>{for(let i of(t={reject:n,resolve:r},e)){if(!r5(i)){Promise.resolve(i).then(r,n);continue}let e=r8.get(i);void 0===e?((e=function(e){let t=new Set,r={deferreds:t,settled:!1};return Promise.resolve(e).then(e=>{for(let{resolve:r}of t)r(e);t.clear(),r.settled=!0},e=>{for(let{reject:r}of t)r(e);t.clear(),r.settled=!0}),r}(i)).deferreds.add(t),r8.set(i,e)):e.settled?Promise.resolve(i).then(r,n):e.deferreds.add(t)}});return await r.finally(()=>{for(let r of e)r5(r)&&r8.get(r).deferreds.delete(t)})}var r4=globalThis.AbortController,r9=new WeakMap;function r7(e,t,r){let n;if(void 0===r)return;let i=((n=r9.get(t))||r9.set(t,n={}),n);!i[r]&&e>0&&(i[r]=0);let s=e+i[r];return s<=0?delete i[r]:i[r]=s,s}var ne=new WeakMap;async function nt({channel:e,responseTransformer:t,signal:r,subscribeRequest:n,unsubscribeMethodName:i}){var s;let a,o,l,c,u,d,h;e.on("error",()=>{a=void 0,r9.delete(e)},{signal:r});let f=new Promise((t,n)=>{function s(){if(0===r7(-1,e,a)){let t=rk({methodName:i,params:[a]});a=void 0,e.send(t).catch(()=>{})}n(this.reason)}r.aborted?s.call(r):r.addEventListener("abort",s)}),p=rk(n);await e.send(p);let y=new Promise((t,n)=>{let i=new r4;r.addEventListener("abort",i.abort.bind(i));let s={signal:i.signal};e.on("error",e=>{i.abort(),n(e)},s),e.on("message",e=>{e&&"object"==typeof e&&"id"in e&&e.id===p.id&&(i.abort(),"error"in e?n((0,rI.evr)(e.error)):t(e.result))},s)});if(null==(a=await r3([f,y])))throw new rI.tsw(rI.aYZ);r7(1,e,a);let g=((o=ne.get(e))||ne.set(e,o=new WeakMap),l=t??e,(c=o.get(l))||o.set(l,(s=e=>{if(!("method"in e))return;let r=t?t(e.params.result,n):e.params.result;return[`notification:${e.params.subscription}`,r]},c={...h=r6(d=new r0),on(t,r,n){u||(u={dispose:e.on("message",e=>{let t=s(e);if(!t)return;let[r,n]=t;d.dispatchEvent(new CustomEvent(r,{detail:n}))}),numSubscribers:0}),u.numSubscribers++;let i=h.on(t,r,n),a=!0;function o(){a&&(a=!1,n?.signal.removeEventListener("abort",o),u.numSubscribers--,0===u.numSubscribers&&(u.dispose(),u=void 0),i())}return n?.signal.addEventListener("abort",o),o}})),c),m=`notification:${a}`;return{on(t,r,n){switch(t){case"notification":return g.on(m,r,n);case"error":return e.on("error",r,n);default:throw new rI.tsw(rI.JOu,{channelName:t,supportedChannelNames:["notification","error"]})}}}}var nr=globalThis.EventTarget,nn=globalThis.WebSocket,ni={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,n){let i="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,n=e%100;i=1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}else i=`\`${r[0].toString()}\``;let s=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,a=new rI.tsw(rI.O7$,{argumentLabel:i,keyPath:r,methodName:t,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...void 0!==s?{path:s}:void 0});return(0,rI.rMr)(a,e),a}(e.methodName,t,r)}},ns=globalThis.AbortController,na={jsonrpc:"2.0",method:"ping"};function no(e){return(0,rT.F)(e,e=>Object.freeze({...e,on:(t,r,n)=>"message"!==t?e.on(t,r,n):e.on("message",e=>r(rA(e)),n)}),e=>Object.freeze({...e,send:t=>e.send(rC(t))}))}function nl(e,t){var r,n,i,s;let a,o;return r=function({createChannel:e}){var t;return(0,rT.F)((t=e,async({execute:e,signal:r})=>{let n=await t({abortSignal:r});return await e({channel:n,signal:r})}),e=>{let t;return t=new Map,function(r){let{request:n,signal:i}=r,s=rK([n.methodName,n.params]),a=t.get(s);if(!a){let n=new ns,i=e({...r,signal:n.signal});i.then(e=>{e.on("error",()=>{t.delete(s),n.abort()},{signal:n.signal})}).catch(()=>{}),t.set(s,a={abortController:n,dataPublisherPromise:i,numSubscribers:0})}return a.numSubscribers++,i.addEventListener("abort",()=>{a.numSubscribers--,0===a.numSubscribers&&queueMicrotask(()=>{0===a.numSubscribers&&(t.delete(s),a.abortController.abort())})},{signal:a.abortController.signal}),a.dataPublisherPromise}})}({createChannel:function(e){if(!1===/^wss?:/i.test(e.url)){let t=e.url.match(/^([^:]+):/);throw new DOMException(t?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${t[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}let{intervalMs:t,...r}=e;return function(e,{maxSubscriptionsPerChannel:t,minChannels:r}){let n={entries:[],freeChannelIndex:-1};function i(){let e;if(n.entries.length<r){n.freeChannelIndex=-1;return}for(let r=0;r<n.entries.length;r++){let i=(n.freeChannelIndex+r+2)%n.entries.length,s=n.entries[i];s.subscriptionCount<t&&(!e||e.subscriptionCount>=s.subscriptionCount)&&(e={poolIndex:i,subscriptionCount:s.subscriptionCount})}n.freeChannelIndex=e?.poolIndex??-1}return function({abortSignal:t}){let r;function s(){let e=n.entries.findIndex(e=>e===r);n.entries.splice(e,1),r.dispose(),i()}if(-1===n.freeChannelIndex){let t=new ns,i=e({abortSignal:t.signal});i.then(e=>{e.on("error",s,{signal:t.signal})}).catch(s),r={channel:i,dispose(){t.abort()},subscriptionCount:0},n.entries.push(r)}else r=n.entries[n.freeChannelIndex];return r.subscriptionCount++,t.addEventListener("abort",function(){r.subscriptionCount--,0===r.subscriptionCount?s():-1!==n.freeChannelIndex&&(n.freeChannelIndex--,i())}),i(),r.channel}}(({abortSignal:n})=>(function({sendBufferHighWatermark:e,signal:t,url:r}){let n,i,s;if(t.aborted)return Promise.reject(t.reason);let a=!1,o=new Set;function l(){o.forEach(e=>{e()}),o.clear()}function c(){l(),a||i(t.reason),y.readyState!==nn.CLOSED&&y.readyState!==nn.CLOSING&&y.close(1e3)}function u(e){if(!t.aborted&&!a){let t=new rI.tsw(rI.gF,{errorEvent:e});i(t),h.dispatchEvent(new CustomEvent("error",{detail:t}))}}function d(e){t.aborted||h.dispatchEvent(new CustomEvent("message",{detail:e.data}))}let h=new nr,f=r6(h);function p(){a=!0,s({...f,async send(t){if(y.readyState!==nn.OPEN)throw new rI.tsw(rI.pFb);if(!n&&y.bufferedAmount>e){let t,r=new Promise((r,i)=>{let s=setInterval(()=>{y.readyState===nn.OPEN&&y.bufferedAmount>e||(clearInterval(s),n=void 0,r())},16);t=()=>{n=void 0,clearInterval(s),i(new rI.tsw(rI.UwC))}});n={onCancel:t,promise:r}}n&&(!ArrayBuffer.isView(t)||t instanceof DataView||(t=new t.constructor(t)),await n.promise),y.send(t)}})}let y=new nn(r);return t.addEventListener("abort",c),y.addEventListener("close",function e(r){l(),n?.onCancel(),t.removeEventListener("abort",c),y.removeEventListener("close",e),y.removeEventListener("error",u),y.removeEventListener("message",d),y.removeEventListener("open",p),t.aborted||r.wasClean&&1e3===r.code||h.dispatchEvent(new CustomEvent("error",{detail:new rI.tsw(rI.pFb,{cause:r})}))}),y.addEventListener("error",u),y.addEventListener("message",d),y.addEventListener("open",p),new Promise((e,t)=>{i=t,s=e})})({...r,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:n}).then(e.jsonSerializer).then(e=>(function({abortSignal:e,channel:t,intervalMs:r}){let n;function i(){t.send(na).catch(e=>{(0,rI.zbS)(e,rI.pFb)&&a.abort()})}function s(){clearInterval(n),n=setInterval(i,r)}let a=new ns;return a.signal.addEventListener("abort",()=>{clearInterval(n)}),e.addEventListener("abort",()=>{a.abort()}),t.on("error",()=>{a.abort()},{signal:a.signal}),t.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(n)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...t,send:(...e)=>(a.signal.aborted||s(),t.send(...e))}})({abortSignal:n,channel:e,intervalMs:t??5e3})),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}({...t,url:e,jsonSerializer:no})}),n={api:(a=rU(ni),i={allowedNumericKeyPaths:(p||(p={accountNotifications:r$.map(e=>["value",...e]),blockNotifications:[["value","block","transactions",rR,"meta","preTokenBalances",rR,"accountIndex"],["value","block","transactions",rR,"meta","preTokenBalances",rR,"uiTokenAmount","decimals"],["value","block","transactions",rR,"meta","postTokenBalances",rR,"accountIndex"],["value","block","transactions",rR,"meta","postTokenBalances",rR,"uiTokenAmount","decimals"],["value","block","transactions",rR,"meta","rewards",rR,"commission"],["value","block","transactions",rR,"meta","innerInstructions",rR,"index"],["value","block","transactions",rR,"meta","innerInstructions",rR,"instructions",rR,"programIdIndex"],["value","block","transactions",rR,"meta","innerInstructions",rR,"instructions",rR,"accounts",rR],["value","block","transactions",rR,"transaction","message","addressTableLookups",rR,"writableIndexes",rR],["value","block","transactions",rR,"transaction","message","addressTableLookups",rR,"readonlyIndexes",rR],["value","block","transactions",rR,"transaction","message","instructions",rR,"programIdIndex"],["value","block","transactions",rR,"transaction","message","instructions",rR,"accounts",rR],["value","block","transactions",rR,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",rR,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",rR,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",rR,"commission"]],programNotifications:r$.flatMap(e=>[["value",rR,"account",...e],[rR,"account",...e]])}),p)},o=(e,t)=>{let r=t.methodName,n=i?.allowedNumericKeyPaths&&r?i.allowedNumericKeyPaths[r]:void 0;return(0,rT.F)(e,e=>rM(n??[])(e,t))},s={planExecutor:({request:e,...t})=>nt({...t,responseTransformer:o,subscribeRequest:{...e,methodName:e.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:e.methodName.replace(/Notifications$/,"Unsubscribe")}),requestTransformer:a},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,r]=e,n=r.toString();return function(...e){let t={methodName:n,params:e},r=s.requestTransformer?s.requestTransformer(t):t;return{execute:e=>s.planExecutor({...e,request:r}),request:r}}}})),transport:r},new Proxy(n.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...i){var s,a;let o=t.toString(),l=Reflect.get(e,o,r);if(!l)throw new rI.tsw(rI.uWs,{notificationName:o});let c=l(...i);return s=n.transport,a=c,{async subscribe({abortSignal:e}){let t=await s({signal:e,...a});return function({abortSignal:e,dataChannelName:t,dataPublisher:r,errorChannelName:n}){let i=new Map;function s(e){for(let[t,r]of i.entries())r.__hasPolled?(i.delete(t),r.onError(e)):r.publishQueue.push({__type:1,err:e})}let a=new rQ;e.addEventListener("abort",()=>{a.abort(),s(f||=r1())});let o={signal:a.signal},l=r2;return r.on(n,e=>{l===r2&&(l=e,a.abort(),s(e))},o),r.on(t,e=>{i.forEach((t,r)=>{if(t.__hasPolled){let{onData:n}=t;i.set(r,{__hasPolled:!1,publishQueue:[]}),n(e)}else t.publishQueue.push({__type:0,data:e})})},o),{async *[Symbol.asyncIterator](){if(e.aborted)return;if(l!==r2)throw l;let t=Symbol();i.set(t,{__hasPolled:!1,publishQueue:[]});try{for(;;){let e=i.get(t);if(!e)throw new rI.tsw(rI.LzQ);if(e.__hasPolled)throw new rI.tsw(rI.ibr);let r=e.publishQueue;try{if(r.length)for(let t of(e.publishQueue=[],r))if(0===t.__type)yield t.data;else throw t.err;else yield await new Promise((e,r)=>{i.set(t,{__hasPolled:!0,onData:e,onError:r})})}catch(e){if(e===(f||=r1()))return;throw e}}}finally{i.delete(t)}}}}({abortSignal:e,dataChannelName:"notification",dataPublisher:t,errorChannelName:"error"})}}}}})}var nc=r(16676),nu=r(19514),nd=r(66010),nh=r(47909),nf=r(27957);r(60065).hp,eq([eU().transform(e=>e.replace(/[^0-9.-]+/g,"")),ej()]).pipe(({string:e=>X.create({...e,coerce:!0}),number:e=>Q.create({...e,coerce:!0}),boolean:e=>et.create({...e,coerce:!0}),bigint:e=>ee.create({...e,coerce:!0}),date:e=>er.create({...e,coerce:!0})}).number().min(1e-4).max(0x3b9ac9ff));var np=eK(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),ny=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",0x135a9d92]]),ng=["solana-devnet","solana"];Object.fromEntries(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia",...ng].map(e=>[ny.get(e),e]));var nm={id:0x135a9d92,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function nb(e){let t=nS(e);return(0,eG.l)({chain:t,transport:(0,eZ.L)()}).extend(eJ.$)}function nv(){return nb("base-sepolia")}function nw(){return nb("avalanche-fuji")}function n_(e,t){let r=nS(e),n=(0,eY.F)({chain:r,transport:(0,eZ.L)(),account:function(e,t={}){let{nonceManager:r}=t,n=(0,e1.nj)(tG.secp256k1.getPublicKey(e.slice(2),!1));return{...function(e){if("string"==typeof e){if(!(0,tp.P)(e,{strict:!1}))throw new tc.M({address:e});return{address:e,type:"json-rpc"}}if(!(0,tp.P)(e.address,{strict:!1}))throw new tc.M({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:(0,tZ.M)(n),nonceManager:r,sign:async({hash:t})=>tX({hash:t,privateKey:e,to:"hex"}),signAuthorization:async t=>t0({...t,privateKey:e}),signMessage:async({message:t})=>t2({message:t,privateKey:e}),signTransaction:async(t,{serializer:r}={})=>t5({privateKey:e,transaction:t,serializer:r}),signTypedData:async t=>t3({...t,privateKey:e})}),publicKey:n,source:"privateKey"}}(t)});return nC(r)?n.extend(eJ.$).extend(e=>({sendTransaction:t=>r_(e,t),signTransaction:t=>rb(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,deploymentType:s,salt:a,...o}=t,l=function(e){let{abi:t,args:r,bytecode:n,deploymentType:i,salt:s}=e;if(!r||0===r.length){let{functionName:e,argsContractDeployer:t}=ri(i,s??t9.t,(0,e1.nj)(tT(n)),"0x");return(0,rt.p)({abi:rr,functionName:e,args:t})}let a=t.find(e=>"type"in e&&"constructor"===e.type);if(!a)throw new t7.YW({docsPath:rn});if(!("inputs"in a)||!a.inputs||0===a.inputs.length)throw new t7.YF({docsPath:rn});let o=(0,re.h)(a.inputs,r),{functionName:l,argsContractDeployer:c}=ri(i,s??t9.t,(0,e1.nj)(tT(n)),o);return(0,rt.p)({abi:rr,functionName:l,args:c})}({abi:r,args:n,bytecode:i,deploymentType:s,salt:a});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(i)||o.factoryDeps.push(i),rv(e,{...o,data:l,to:"create2"===s||"create2Account"===s?"0x0000000000000000000000000000000000010000":"0x0000000000000000000000000000000000008006"})})(e,t),writeContract:t=>(0,t4.E)(Object.assign(e,{sendTransaction:t=>r_(e,t)}),t)})):n.extend(eJ.$)}function nx(e){return n_("base-sepolia",e)}function nE(e){return n_("avalanche-fuji",e)}function nI(e){return"object"==typeof e&&null!==e&&"chain"in e&&"transport"in e}function nA(e){return"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.type&&"function"==typeof e.sign&&"function"==typeof e.signMessage&&"function"==typeof e.signTypedData&&"function"==typeof e.signTransaction}function nS(e){if(!e)throw Error("NETWORK environment variable is not set");switch(e){case"abstract":return tR;case"abstract-testnet":return tD;case"base":return tB;case"base-sepolia":return tU;case"avalanche":return tj;case"avalanche-fuji":return tM;case"sei":return tL;case"sei-testnet":return t$;case"polygon":return tz;case"polygon-amoy":return tF;case"peaq":return tq;case"story":return tW;case"educhain":return tV;case"iotex":return tH;case"iotex-testnet":return tK;case"skale-base-sepolia":return nm;default:throw Error(`Unsupported network: ${e}`)}}var nk=new Set([2741,11124]);function nC(e){return nk.has(e.id)}function nP(e){return rY(e?(0,rX.xn)(e):(0,rX.xn)("https://api.devnet.solana.com"))}function nT(e){return rY(e?(0,rX.rC)(e):(0,rX.rC)("https://api.mainnet-beta.solana.com"))}function nO(e,t){if("solana-devnet"===e)return nP(t);if("solana"===e)return nT(t);throw Error("Invalid network")}function nR(e,t){if("solana-devnet"===e)return nl((0,rX.xn)(t?nD(t):"wss://api.devnet.solana.com"));if("solana"===e)return nl((0,rX.rC)(t?nD(t):"wss://api.mainnet-beta.solana.com"));throw Error("Invalid network")}function nD(e){return e.startsWith("http")?e.replace("http","ws"):e}function nN(e){if(!ng.find(t=>t===e))throw Error(`Unsupported SVM network: ${e}`);return nO(e)}async function nB(e){let t=rE.tw.decode(e);if(64===t.length)return await (0,rx.Lt)(t);if(32===t.length)return await (0,rx.bY)(t);throw Error(`Unexpected key length: ${t.length}. Expected 32 or 64 bytes.`)}function nU(e){return"object"==typeof e&&null!==e&&(0,rx.Pl)(e)}g({},{authorizationPrimaryType:()=>nM,authorizationTypes:()=>nj,config:()=>m,createClientAvalancheFuji:()=>nw,createClientSepolia:()=>nv,createConnectedClient:()=>nb,createSigner:()=>n_,createSignerAvalancheFuji:()=>nE,createSignerSepolia:()=>nx,getChainFromNetwork:()=>nS,isAccount:()=>nA,isSignerWallet:()=>nI,isZkStackChain:()=>nC,usdcABI:()=>b});var nj={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},nM="TransferWithAuthorization";g({},{SvmAddressRegex:()=>nL});var nL=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,n$=/^0x[0-9a-fA-F]{40}$/,nz=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,nF=["exact"],nq=[1],nW=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],nV=e=>Number.isInteger(Number(e))&&Number(e)>=0,nH=eU().regex(n$).or(eU().regex(nL)),nK=eU().regex(nz).or(eU().regex(nL)),nG=eF({scheme:eK(nF),network:np,maxAmountRequired:eU().refine(nV),resource:eU().url(),description:eU(),mimeType:eU(),outputSchema:eV(e$()).optional(),payTo:nH,maxTimeoutSeconds:ej().int(),asset:nK,extra:eV(e$()).optional()}),nZ=eF({from:eU().regex(n$),to:eU().regex(n$),value:eU().refine(nV).refine(e=>e.length<=18),validAfter:eU().refine(nV),validBefore:eU().refine(nV),nonce:eU().regex(/^0x[0-9a-fA-F]{64}$/)}),nJ=eF({signature:eU().regex(/^0x[0-9a-fA-F]+$/),authorization:nZ}),nY=eF({transaction:eU().regex(/^[A-Za-z0-9+/]*={0,2}$/)}),nX=eF({x402Version:ej().refine(e=>nq.includes(e)),scheme:eK(nF),network:np,payload:eq([nJ,nY])});eF({x402Version:ej().refine(e=>nq.includes(e)),error:eK(nW).optional(),accepts:ez(nG).optional(),payer:eU().regex(nz).optional()});var nQ=eK(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]);eW("type",[eF({type:eH("http"),method:nQ,queryParams:eV(eU(),eU()).optional(),bodyType:eK(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:eV(eU(),e$()).optional(),headerFields:eV(eU(),e$()).optional()})]);var n0=eF({resource:eU(),type:eK(["http"]),x402Version:ej().refine(e=>nq.includes(e)),accepts:ez(nG),lastUpdated:eL(),metadata:eV(e$()).optional()});eF({paymentPayload:nX,paymentRequirements:nG}),eF({paymentPayload:nX,paymentRequirements:nG}),eF({isValid:eM(),invalidReason:eK(nW).optional(),payer:nH.optional()}),eF({success:eM(),errorReason:eK(nW).optional(),payer:nH.optional(),transaction:eU().regex(nz),network:np}),eF({type:eU().optional(),limit:ej().optional(),offset:ej().optional()}),eF({x402Version:ej().refine(e=>nq.includes(e)),items:ez(n0),pagination:eF({limit:ej(),offset:ej(),total:ej()})});var n1=eF({x402Version:ej().refine(e=>nq.includes(e)),scheme:eK(nF),network:np,extra:eV(e$()).optional()});function n2(e){try{let t=(0,nc.Iz)().encode(e.transaction);return(0,nu.BX)().decode(t)}catch(e){throw console.error("error",e),Error("invalid_exact_svm_payload_transaction")}}function n6(e){let t=(0,nd.fr)().decode(e.messageBytes),r=t.staticAccounts??[];for(let e of t.instructions??[]){let t=r[e.programAddressIndex].toString();if(t===nh.YsN.toString()||t===nf.du.toString()){let t=e.accountIndices??[];if(t.length>=4){let e=r[t[3]].toString();if(e)return e}}}return""}async function n5(e,t,r){let n=await n8(e,t),i=(0,nu.RO)(n);return await r.simulateTransaction(i,{sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0}).send()}async function n8(e,t){if((0,rx.D7)(e)){let[r]=await e.modifyAndSignTransactions([t]);if(!r)throw Error("transaction_signer_failed_to_return_transaction");return r}if((0,rx.Y6)(e)){var r,n;let[i]=await e.signTransactions([t]);if(!i)throw Error("transaction_signer_failed_to_return_signatures");return r=t,n=i,Object.freeze({...r,signatures:Object.freeze({...r.signatures,...n})})}throw Error("transaction_signer_must_support_offline_signing")}eF({kinds:ez(n1)}),g({},{createDevnetRpcClient:()=>nP,createMainnetRpcClient:()=>nT,createSignerFromBase58:()=>nB,createSvmConnectedClient:()=>nN,decodeTransactionFromPayload:()=>n2,getRpcClient:()=>nO,getRpcSubscriptions:()=>nR,getTokenPayerFromTransaction:()=>n6,isSignerWallet:()=>nU,signAndSimulateTransaction:()=>n5,signTransactionWithSigner:()=>n8}),eF({paymentHeader:eU(),paymentRequirements:nG})},58037:(e,t,r)=>{"use strict";r.d(t,{e:()=>function e(){let t=[],r={addEventListener:(e,t,n,i)=>(e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame:(...e)=>r.requestAnimationFrame(()=>r.requestAnimationFrame(...e)),setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return(0,n._)(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(t){let r=e();return t(r),this.add(()=>r.dispose())},add:e=>(t.includes(e)||t.push(e),()=>{let r=t.indexOf(e);if(r>=0)for(let e of t.splice(r,1))e()}),dispose(){for(let e of t.splice(0))e()}};return r}});var n=r(86216)},58383:(e,t,r)=>{"use strict";r.d(t,{$:()=>s,R:()=>a});var n=r(4932),i=r(80562);function s(e,t){let r=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,i.uP)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}let a=(0,n.q)("block",s)},58630:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var a=Array(s);a[0]=i(e);for(var o=1;o<s;o++)a[o]=i(r[o]);return a.join(" ")}if("string"!=typeof e)return e;var l=r.length;if(0===l)return e;for(var c="",u=0,d=-1,h=e&&e.length||0,f=0;f<h;){if(37===e.charCodeAt(f)&&f+1<h){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=l||null==r[u])break;d<f&&(c+=e.slice(d,f)),c+=Number(r[u]),d=f+2,f++;break;case 105:if(u>=l||null==r[u])break;d<f&&(c+=e.slice(d,f)),c+=Math.floor(Number(r[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=l||void 0===r[u])break;d<f&&(c+=e.slice(d,f));var p=typeof r[u];if("string"===p){c+="'"+r[u]+"'",d=f+2,f++;break}if("function"===p){c+=r[u].name||"<anonymous>",d=f+2,f++;break}c+=i(r[u]),d=f+2,f++;break;case 115:if(u>=l)break;d<f&&(c+=e.slice(d,f)),c+=String(r[u]),d=f+2,f++;break;case 37:d<f&&(c+=e.slice(d,f)),c+="%",d=f+2,f++,u--}++u}++f}return -1===d?e:(d<h&&(c+=e.slice(d)),c)}},58813:(e,t,r)=>{"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,s]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}r.d(t,{J:()=>n})},59033:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});var n=r(65936),i=r(58037),s=r(17158),a=r(92768);function o(e,t,r){let o=(0,a.Y)(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()});(0,n.useEffect)(()=>{if(!e)return;let r=null===t?null:s.sb(t)?t:t.current;if(!r)return;let n=(0,i.e)();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>o.current(r));e.observe(r),n.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>o.current(r));e.observe(r),n.add(()=>e.disconnect())}return()=>n.dispose()},[t,o,e])}},59670:(e,t,r)=>{"use strict";r.d(t,{BI:()=>E,EB:()=>_,Iy:()=>l,Iz:()=>v,MR:()=>w,M_:()=>b,Nc:()=>u,O:()=>c,Wl:()=>T,Wq:()=>y,YE:()=>h,YF:()=>o,YW:()=>a,ZP:()=>f,_z:()=>g,d_:()=>P,dm:()=>C,fo:()=>I,gH:()=>d,j:()=>k,kE:()=>m,l3:()=>A,nK:()=>S,nM:()=>x,yy:()=>p});var n=r(36487),i=r(38006),s=r(42213);class a extends s.C{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class o extends s.C{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}s.C;class l extends s.C{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.A)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class c extends s.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends s.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends s.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.E)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class h extends s.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class f extends s.C{constructor(e,{docsPath:t}){super(`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends s.C{constructor(e,{docsPath:t}={}){super(`Error ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:t,name:"AbiErrorNotFoundError"})}}class y extends s.C{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class g extends s.C{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class m extends s.C{constructor(e,{docsPath:t}){super(`Encoded event signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.
You can look up the signature here: https://4byte.sourcify.dev/?q=${e}.`,{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class b extends s.C{constructor(e,{docsPath:t}={}){super(`Event ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.`,{docsPath:t,name:"AbiEventNotFoundError"})}}class v extends s.C{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class w extends s.C{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class _ extends s.C{constructor(e,{docsPath:t}){super(`Encoded function signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://4byte.sourcify.dev/?q=${e}.`,{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class x extends s.C{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.B)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.B)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class E extends s.C{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class I extends s.C{constructor({abiItem:e,data:t,params:r,size:i}){super(`Data size of ${i} bytes is too small for non-indexed event parameters.`,{metaMessages:[`Params: (${(0,n.A)(r,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=i}}class A extends s.C{constructor({abiItem:e,param:t}){super(`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,n.B)(e,{includeName:!0})}".`,{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class S extends s.C{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class k extends s.C{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class C extends s.C{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class P extends s.C{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}class T extends s.C{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}},59809:(e,t,r)=>{"use strict";r.d(t,{TW:()=>i,X7:()=>o,bq:()=>a,zm:()=>s});var n=r(49585);function i(e){var t;return n._.isServer?null:null==e?document:null!=(t=null==e?void 0:e.ownerDocument)?t:document}function s(e){var t,r;return n._.isServer?null:null==e?document:null!=(r=null==(t=null==e?void 0:e.getRootNode)?void 0:t.call(e))?r:document}function a(e){var t,r;return null!=(r=null==(t=s(e))?void 0:t.activeElement)?r:null}function o(e){return a(e)===e}},60065:(e,t,r)=>{"use strict";let n=r(78705),i=r(84904),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|p(n,i),s=a(r),l=s.write(n,i);return l!==r&&(s=s.slice(0,l)),s}if(ArrayBuffer.isView(e)){var s=e;if(j(s,Uint8Array)){let e=new Uint8Array(s);return h(e.buffer,e.byteOffset,e.byteLength)}return d(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(j(e,SharedArrayBuffer)||e&&j(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return o.from(l,t,r);let c=function(e){if(o.isBuffer(e)){let t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|f(e))}function d(e){let t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=M[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var s,a,o;return s=this,a=t,o=r,0===a&&o===s.length?n.fromByteArray(s):n.fromByteArray(s.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,a=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(s=r;s<o;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===l)return n*a}else -1!==n&&(s-=s-n),n=-1}else for(r+l>o&&(r=o-l),s=r;s>=0;s--){let r=!0;for(let n=0;n<l;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return -1}function v(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,l;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(s=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}var s=n;let a=s.length;if(a<=4096)return String.fromCharCode.apply(String,s);let o="",l=0;for(;l<a;)o+=String.fromCharCode.apply(String,s.slice(l,l+=4096));return o}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i){T(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function E(e,t,r,n,i){T(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function I(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function A(e,t,r,n,s){return t*=1,r>>>=0,s||I(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,s){return t*=1,r>>>=0,s||I(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.hp=o,t.IS=50,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(j(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):y.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,a=r-t,l=Math.min(s,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){s=c[e],a=u[e];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,s,a,o,l,c,u,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){var o;let n=parseInt(t.substr(2*i,2),16);if((o=n)!=o)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,U(N(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return a=t,o=r,U(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,o);case"base64":return l=t,c=r,U(B(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,U(function(e,t){let r,n,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-u),this,u,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=L(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=L(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=L(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=L(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=L(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=L(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=L(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=L(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let k={};function C(e,t,r){k[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function P(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function T(e,t,r,n,i,s){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new k.ERR_OUT_OF_RANGE("value",n,e)}O(i,"offset"),(void 0===n[i]||void 0===n[i+s])&&R(i,n.length-(s+1))}function O(e,t){if("number"!=typeof e)throw new k.ERR_INVALID_ARG_TYPE(t,"number",e)}function R(e,t,r){if(Math.floor(e)!==e)throw O(e,r),new k.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new k.ERR_BUFFER_OUT_OF_BOUNDS;throw new k.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}C("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),C("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=P(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let D=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let n=e.length,i=null,s=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let M=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function L(e){return"undefined"==typeof BigInt?$:e}function $(){throw Error("BigInt not supported")}},60470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},61676:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});class n{constructor(e,t){this.type=e,this.data=t}}var i=r(88099),s=r(67218);let a={type:-1,encode:function(e){if(!(e instanceof Date))return null;{let t,r,n,i;return function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff)if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}else{let r=e/0x100000000,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|3&r),i.setUint32(4,0|e),n}{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),(0,s._j)(n,4,e),r}}((r=Math.floor((t=e.getTime())/1e3),i=Math.floor((n=(t-1e3*r)*1e6)/1e9),{sec:r+i,nsec:n-1e9*i}))}},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,s.eN)(t,4),nsec:t.getUint32(0)};default:throw new i.X(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class o{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(a)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let i=this.builtInEncoders[r];if(null!=i){let s=i(e,t);if(null!=s)return new n(-1-r,s)}}for(let r=0;r<this.encoders.length;r++){let i=this.encoders[r];if(null!=i){let s=i(e,t);if(null!=s)return new n(r,s)}}return e instanceof n?e:null}decode(e,t,r){let i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new n(t,e)}}o.defaultCodec=new o},61970:(e,t,r)=>{"use strict";r.d(t,{X:()=>g,J:()=>y});var n=r(38653),i=r(55467),s=r(52175),a=r(59670),o=r(99859),l=r(92751),c=r(91068),u=r(36487),d=r(72064);let h="/docs/contract/encodeErrorResult";function f(e){let{abi:t,errorName:r,args:n}=e,i=t[0];if(r){let e=(0,d.iY)({abi:t,args:n,name:r});if(!e)throw new a.yy(r,{docsPath:h});i=e}if("error"!==i.type)throw new a.yy(void 0,{docsPath:h});let s=(0,u.B)(i),f=(0,l.V)(s),p="0x";if(n&&n.length>0){if(!i.inputs)throw new a.ZP(i.name,{docsPath:h});p=(0,c.h)(i.inputs,n)}return(0,o.aP)([f,p])}let p="/docs/contract/encodeFunctionResult",y="x-batch-gateway:true";async function g(e){let{data:t,ccipRequest:r}=e,{args:[o]}=(0,s.J)({abi:n.b2,data:t}),l=[],u=[];return await Promise.all(o.map(async(e,t)=>{try{u[t]=e.urls.includes(y)?await g({data:e.data,ccipRequest:r}):await r(e),l[t]=!1}catch(e){var s;l[t]=!0,u[t]="HttpRequestError"===(s=e).name&&s.status?f({abi:n.b2,errorName:"HttpError",args:[s.status,s.shortMessage]}):f({abi:[i.Mc],errorName:"Error",args:["shortMessage"in s?s.shortMessage:s.message]})}})),function(e){let{abi:t,functionName:r,result:n}=e,i=t[0];if(r){let e=(0,d.iY)({abi:t,name:r});if(!e)throw new a.Iz(r,{docsPath:p});i=e}if("function"!==i.type)throw new a.Iz(void 0,{docsPath:p});if(!i.outputs)throw new a.MR(i.name,{docsPath:p});let s=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[n];if(Array.isArray(n))return n;throw new a.dm(n)})();return(0,c.h)(i.outputs,s)}({abi:n.b2,functionName:"query",result:[l,u]})}},62099:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(65936);function i(e){return(0,n.useMemo)(()=>e,Object.values(e))}},62581:(e,t,r)=>{"use strict";r.d(t,{_o:()=>m,Pj:()=>y,uT:()=>d,NV:()=>g});var n=r(75104),i=r(81243),s=r(33759),a=r(52648),o=r(7506);class l extends o.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let c=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var u=r(30460);function d(e,t={}){if((0,u.Ji)(e))return function(e,t={}){let r=(0,u.ej)(e);if(!r)throw new a.s7({signature:e,type:"function"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{modifiers:u.v7,structs:t,type:"function"}));let o=[];if(r.returns){let e=g(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(y(e[r],{modifiers:u.v7,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}(e,t);if((0,u.Rv)(e))return function(e,t={}){let r=(0,u.iB)(e);if(!r)throw new a.s7({signature:e,type:"event"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{modifiers:u.fC,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if((0,u.pc)(e))return function(e,t={}){let r=(0,u.kz)(e);if(!r)throw new a.s7({signature:e,type:"error"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if((0,u.l9)(e))return function(e,t={}){let r=(0,u.Yo)(e);if(!r)throw new a.s7({signature:e,type:"constructor"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,u.v8)(e)){var r=e;let t=(0,u.If)(r);if(!t)throw new a.s7({signature:r,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}if((0,u.sP)(e))return{type:"receive",stateMutability:"payable"};throw new a.x8({signature:e})}let h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^u?int$/;function y(e,t){var r,a;let o,l=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:`${e}${n}`}(e,t?.type,t?.structs);if(c.has(l))return c.get(l);let d=n.wj.test(e),v=(0,n.Yv)(d?f:h,e);if(!v)throw new s.dV({param:e});if(v.name&&("address"===(r=v.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||n.BD.test(r)||n.Ge.test(r)||b.test(r)))throw new s.zd({param:e,name:v.name});let w=v.name?{name:v.name}:{},_="indexed"===v.modifier?{indexed:!0}:{},x=t?.structs??{},E={};if(d){o="tuple";let e=g(v.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(y(e[n],{structs:x}));E={components:t}}else if(v.type in x)o="tuple",E={components:x[v.type]};else if(p.test(v.type))o=`${v.type}256`;else if("address payable"===v.type)o="address";else if(o=v.type,t?.type!=="struct"&&!m(o))throw new i.UG({type:o});if(v.modifier){if(!t?.modifiers?.has?.(v.modifier))throw new s.NO({param:e,type:t?.type,modifier:v.modifier});if(u.v7.has(v.modifier)&&(a=o,!v.array&&"bytes"!==a&&"string"!==a&&"tuple"!==a))throw new s.Pj({param:e,type:t?.type,modifier:v.modifier})}let I={type:`${o}${v.array??""}`,...w,..._,...E};return c.set(l,I),I}function g(e,t=[],r="",n=0){let i=e.trim().length;for(let s=0;s<i;s++){let i=e[s],a=e.slice(s+1);switch(i){case",":return 0===n?g(a,[...t,r.trim()]):g(a,t,`${r}${i}`,n);case"(":return g(a,t,`${r}${i}`,n+1);case")":return g(a,t,`${r}${i}`,n-1);default:return g(a,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new l({current:r,depth:n});return t.push(r.trim()),t}function m(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.BD.test(e)||n.Ge.test(e)}let b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},63331:(e,t,r)=>{"use strict";function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}r.d(t,{C:()=>n})},63769:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},63933:(e,t,r)=>{"use strict";let n,i;r.d(t,{Cq:()=>tI,FA:()=>tS,TZ:()=>tA,UF:()=>tE});var s,a=r(16891),o=r(22706);function l(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function c(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let u="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,d=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function h(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),l(e),e}class f{clone(){return this._cloneInto()}}function p(e=32){if(u&&"function"==typeof u.getRandomValues)return u.getRandomValues(new Uint8Array(e));if(u&&"function"==typeof u.randomBytes)return u.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class y extends f{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=d(this.buffer)}update(e){c(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=h(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=d(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){c(this),function(e,t){l(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=4*!!n,c=4*!n;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=d(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=o/4,h=this.get();if(u>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)a.setUint32(4*e,h[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let g=BigInt(0x100000000-1),m=BigInt(32),b=(e,t,r)=>e>>>r,v=(e,t,r)=>e<<32-r|t>>>r,w=(e,t,r)=>e>>>r|t<<32-r,_=(e,t,r)=>e<<32-r|t>>>r,x=(e,t,r)=>e<<64-r|t>>>r-32,E=(e,t,r)=>e>>>r-32|t<<64-r,I=function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}},A=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),S=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,k=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),C=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,P=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,T=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),[O,R]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&g),l:Number(e>>m&g)}:{h:0|Number(e>>m&g),l:0|Number(e&g)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),D=new Uint32Array(80),N=new Uint32Array(80);class B extends y{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)D[r]=e.getUint32(t),N[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|D[e-15],r=0|N[e-15],n=w(t,r,1)^w(t,r,8)^b(t,r,7),i=_(t,r,1)^_(t,r,8)^v(t,r,7),s=0|D[e-2],a=0|N[e-2],o=w(s,a,19)^x(s,a,61)^b(s,a,6),l=k(i,_(s,a,19)^E(s,a,61)^v(s,a,6),N[e-7],N[e-16]),c=C(l,n,o,D[e-7],D[e-16]);D[e]=0|c,N[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let e=0;e<80;e++){let t=w(u,d,14)^w(u,d,18)^x(u,d,41),b=_(u,d,14)^_(u,d,18)^E(u,d,41),v=u&h^~u&p,k=T(m,b,d&f^~d&y,R[e],N[e]),C=P(k,g,t,v,O[e],D[e]),B=0|k,U=w(r,n,28)^x(r,n,34)^x(r,n,39),j=_(r,n,28)^E(r,n,34)^E(r,n,39),M=r&i^r&a^i&a,L=n&s^n&o^s&o;g=0|p,m=0|y,p=0|h,y=0|f,h=0|u,f=0|d,({h:u,l:d}=I(0|l,0|c,0|C,0|B)),l=0|a,c=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let $=A(B,j,L);r=S($,C,U,M),n=0|$}({h:r,l:n}=I(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=I(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=I(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=I(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=I(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=I(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:y}=I(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=I(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,n,i,s,a,o,l,c,u,d,h,f,p,y,g,m)}roundClean(){D.fill(0),N.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let U=(s=()=>new B,(n=e=>s().update(h(e)).digest()).outputLen=(i=s()).outputLen,n.blockLen=i.blockLen,n.create=()=>s(),n),j=BigInt(0),M=BigInt(1),L=BigInt(2);function $(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function z(e){if(!$(e))throw Error("Uint8Array expected")}function F(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let q=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W(e){z(e);let t="";for(let r=0;r<e.length;r++)t+=q[e[r]];return t}function V(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?j:BigInt("0x"+e)}function H(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function K(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=H(e.charCodeAt(i)),s=H(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function G(e){return z(e),V(W(Uint8Array.from(e).reverse()))}function Z(e,t){return K(e.toString(16).padStart(2*t,"0"))}function J(e,t){return Z(e,t).reverse()}function Y(e,t,r){let n;if("string"==typeof t)try{n=K(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if($(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function X(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];z(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let Q=e=>"bigint"==typeof e&&j<=e;function ee(e,t,r,n){if(!(Q(t)&&Q(r)&&Q(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let et={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||$(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function er(e,t,r={}){let n=(t,r,n)=>{let i=et[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if(!(n&&void 0===s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function en(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let ei=BigInt(0),es=BigInt(1),ea=BigInt(2),eo=BigInt(3),el=BigInt(4),ec=BigInt(5),eu=BigInt(8);function ed(e,t){let r=e%t;return r>=ei?r:t+r}function eh(e,t,r){let n=e;for(;t-- >ei;)n*=n,n%=r;return n}function ef(e,t){if(e===ei)throw Error("invert: expected non-zero number");if(t<=ei)throw Error("invert: expected positive modulus, got "+t);let r=ed(e,t),n=t,i=ei,s=es;for(;r!==ei;){let e=n/r,t=n%r,a=i-s*e;n=r,r=t,i=s,s=a}if(n!==es)throw Error("invert: does not exist");return ed(i,t)}let ep=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ey(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function eg(e,t,r=!1,n={}){let i;if(e<=ei)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:a}=ey(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:(L<<BigInt(s-1))-M,ZERO:ei,ONE:es,create:t=>ed(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ei<=t&&t<e},is0:e=>e===ei,isOdd:e=>(e&es)===es,neg:t=>ed(-t,e),eql:(e,t)=>e===t,sqr:t=>ed(t*t,e),add:(t,r)=>ed(t+r,e),sub:(t,r)=>ed(t-r,e),mul:(t,r)=>ed(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ei)throw Error("invalid exponent, negatives unsupported");if(r===ei)return e.ONE;if(r===es)return t;let n=e.ONE,i=t;for(;r>ei;)r&es&&(n=e.mul(n,i)),i=e.sqr(i),r>>=es;return n})(o,e,t),div:(t,r)=>ed(t*ef(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ef(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%el===eo){let t=(e+es)/el;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%eu===ec){let t=(e-ec)/eu;return function(e,r){let n=e.mul(r,ea),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,ea),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-es)/ea;for(t=e-es,r=0;t%ea===ei;t/=ea,r++);for(n=ea;n<e&&function(e,t,r){if(t<ei)throw Error("invalid exponent, negatives unsupported");if(r<=ei)throw Error("invalid modulus");if(r===es)return ei;let n=es;for(;t>ei;)t&es&&(n=n*e%r),e=e*e%r,t>>=es;return n}(n,i,e)!==e-es;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+es)/el;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+es)/ea;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(a,s),u=e.pow(a,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,es<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),o=t}return c}}(e)}(e)),i(o,t))),invertBatch:e=>{let t,r,n;return t=Array(e.length),r=e.reduce((e,r,n)=>o.is0(r)?e:(t[n]=e,o.mul(e,r)),o.ONE),n=o.inv(r),e.reduceRight((e,r,n)=>o.is0(r)?e:(t[n]=o.mul(e,t[n]),o.mul(e,r)),n),t},cmov:(e,t,r)=>r?t:e,toBytes:e=>r?J(e,a):Z(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?G(e):V(W(e))}});return Object.freeze(o)}let em=BigInt(0),eb=BigInt(1);function ev(e,t){let r=t.negate();return e?r:t}function ew(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function e_(e,t){return ew(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let ex=new WeakMap,eE=new WeakMap;function eI(e){return eE.get(e)||1}let eA=BigInt(0),eS=BigInt(1),ek=BigInt(2),eC=BigInt(8),eP={zip215:!0};BigInt(0),BigInt(1);let eT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eO=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let eR=BigInt(1),eD=BigInt(2);BigInt(3);let eN=BigInt(5),eB=BigInt(8),eU=eg(eT,void 0,!0),ej=function(e){var t;let r,n=(er(e.Fp,ep.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),er(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),r=Object.freeze({...ey(e.n,e.nBitLength),...e,p:e.Fp.ORDER}),er(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})),{Fp:i,n:s,prehash:a,hash:o,randomBytes:l,nByteLength:c,h:u}=n,d=ek<<BigInt(8*c)-eS,h=i.create,f=eg(n.n,n.nBitLength),p=n.uvRatio||((e,t)=>{try{return{isValid:!0,value:i.sqrt(e*i.inv(t))}}catch{return{isValid:!1,value:eA}}}),y=n.adjustScalarBytes||(e=>e),g=n.domain||((e,t,r)=>{if(F("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function m(e,t){ee("coordinate "+e,t,eA,d)}function b(e){if(!(e instanceof _))throw Error("ExtendedPoint expected")}let v=en((e,t)=>{let{ex:r,ey:n,ez:s}=e,a=e.is0();null==t&&(t=a?eC:i.inv(s));let o=h(r*t),l=h(n*t),c=h(s*t);if(a)return{x:eA,y:eS};if(c!==eS)throw Error("invZ was invalid");return{x:o,y:l}}),w=en(e=>{let{a:t,d:r}=n;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:s,ez:a,et:o}=e,l=h(i*i),c=h(s*s),u=h(a*a),d=h(u*u),f=h(l*t);if(h(u*h(f+c))!==h(d+h(r*h(l*c))))throw Error("bad point: equation left != right (1)");if(h(i*s)!==h(a*o))throw Error("bad point: equation left != right (2)");return!0});class _{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,m("x",e),m("y",t),m("z",r),m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof _)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return m("x",t),m("y",r),new _(t,r,eS,h(t*r))}static normalizeZ(e){let t=i.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(_.fromAffine)}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,s=function(e){let t;for(t=0;e>j;e>>=M,t+=1);return t}(BigInt(r.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,l=Array(o+1).fill(i),c=Math.floor((t.BITS-1)/a)*a,u=i;for(let e=c;e>=0;e-=a){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(o));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<a;e++)u=u.double()}return u}(_,f,e,t)}_setWindowSize(e){I.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){b(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:a}=e,o=h(t*a),l=h(i*n),c=h(r*a),u=h(s*n);return o===l&&c===u}is0(){return this.equals(_.ZERO)}negate(){return new _(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){let{a:e}=n,{ex:t,ey:r,ez:i}=this,s=h(t*t),a=h(r*r),o=h(ek*h(i*i)),l=h(e*s),c=t+r,u=h(h(c*c)-s-a),d=l+a,f=d-o,p=l-a,y=h(u*f),g=h(d*p),m=h(u*p);return new _(y,g,h(f*d),m)}add(e){b(e);let{a:t,d:r}=n,{ex:i,ey:s,ez:a,et:o}=this,{ex:l,ey:c,ez:u,et:d}=e;if(t===BigInt(-1)){let e=h((s-i)*(c+l)),t=h((s+i)*(c-l)),r=h(t-e);if(r===eA)return this.double();let n=h(a*ek*d),f=h(o*ek*u),p=f+n,y=t+e,g=f-n,m=h(p*r),b=h(y*g),v=h(p*g);return new _(m,b,h(r*y),v)}let f=h(i*l),p=h(s*c),y=h(o*r*d),g=h(a*u),m=h((i+s)*(l+c)-f-p),v=g-y,w=g+y,x=h(p-t*f),E=h(m*v),I=h(w*x),A=h(m*x);return new _(E,I,h(v*w),A)}subtract(e){return this.add(e.negate())}wNAF(e){return I.wNAFCached(this,e,_.normalizeZ)}multiply(e){ee("scalar",e,eS,s);let{p:t,f:r}=this.wNAF(e);return _.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=_.ZERO){return ee("scalar",e,eA,s),e===eA?E:this.is0()||e===eS?this:I.wNAFCachedUnsafe(this,e,_.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return I.unsafeLadder(this,s).is0()}toAffine(e){return v(this,e)}clearCofactor(){let{h:e}=n;return e===eS?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:r,a:s}=n,a=i.BYTES;e=Y("pointHex",e,a),F("zip215",t);let o=e.slice(),l=e[a-1];o[a-1]=-129&l;let c=G(o);ee("pointHex.y",c,eA,t?d:i.ORDER);let u=h(c*c),{isValid:f,value:y}=p(h(u-eS),h(r*u-s));if(!f)throw Error("Point.fromHex: invalid y coordinate");let g=(y&eS)===eS,m=(128&l)!=0;if(!t&&y===eA&&m)throw Error("Point.fromHex: x=0 and x_0=1");return m!==g&&(y=h(-y)),_.fromAffine({x:y,y:c})}static fromPrivateKey(e){return A(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=J(t,i.BYTES);return r[r.length-1]|=e&eS?128:0,r}toHex(){return W(this.toRawBytes())}}_.BASE=new _(n.Gx,n.Gy,eS,h(n.Gx*n.Gy)),_.ZERO=new _(eA,eS,eS,eA);let{BASE:x,ZERO:E}=_,I=(t=8*c,{constTimeNegate:ev,hasPrecomputes:e=>1!==eI(e),unsafeLadder(e,t,r=_.ZERO){let n=e;for(;t>em;)t&eb&&(r=r.add(n)),n=n.double(),t>>=eb;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=e_(r,t),s=[],a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,r,n){let{windows:i,windowSize:s}=e_(e,t),a=_.ZERO,o=_.BASE,l=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<i;e++){let t=e*s,i=Number(n&l);n>>=u,i>s&&(i-=c,n+=eb);let d=t+Math.abs(i)-1,h=e%2!=0,f=i<0;0===i?o=o.add(ev(h,r[t])):a=a.add(ev(f,r[d]))}return{p:a,f:o}},wNAFUnsafe(e,r,n,i=_.ZERO){let{windows:s,windowSize:a}=e_(e,t),o=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<s;e++){let t=e*a;if(n===em)break;let s=Number(n&o);if(n>>=c,s>a&&(s-=l,n+=eb),0===s)continue;let u=r[t+Math.abs(s)-1];s<0&&(u=u.negate()),i=i.add(u)}return i},getPrecomputes(e,t,r){let n=ex.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ex.set(t,r(n))),n},wNAFCached(e,t,r){let n=eI(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eI(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){ew(r,t),eE.set(e,r),ex.delete(e)}});function A(e){let t=i.BYTES;e=Y("private key",e,t);let r=Y("hashed private key",o(e),2*t),n=y(r.slice(0,t)),a=r.slice(t,2*t),l=ed(G(n),s),c=x.multiply(l),u=c.toRawBytes();return{head:n,prefix:a,scalar:l,point:c,pointBytes:u}}function S(e=new Uint8Array,...t){return ed(G(o(g(X(...t),Y("context",e),!!a))),s)}return x._setWindowSize(8),{CURVE:n,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t,r={}){e=Y("message",e),a&&(e=a(e));let{prefix:n,scalar:o,pointBytes:l}=A(t),c=S(r.context,n,e),u=x.multiply(c).toRawBytes(),d=ed(c+S(r.context,u,l,e)*o,s);return ee("signature.s",d,eA,s),Y("result",X(u,J(d,i.BYTES)),2*i.BYTES)},verify:function(e,t,r,n=eP){let s,o,l,{context:c,zip215:u}=n,d=i.BYTES;e=Y("signature",e,2*d),t=Y("message",t),r=Y("publicKey",r,d),void 0!==u&&F("zip215",u),a&&(t=a(t));let h=G(e.slice(d,2*d));try{s=_.fromHex(r,u),o=_.fromHex(e.slice(0,d),u),l=x.multiplyUnsafe(h)}catch{return!1}if(!u&&s.isSmallOrder())return!1;let f=S(c,o.toRawBytes(),s.toRawBytes(),t);return o.add(s.multiplyUnsafe(f)).subtract(l).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>l(i.BYTES),precompute:(e=8,t=_.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eU,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eB,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:U,randomBytes:p,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){var r;let n,i,s,a,o,l,c,u,d,h,f,p,y,g,m=ed(t*t*t,eT),b=(r=e*ed(m*m*t,eT),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),l=eh(o=r*r%eT*r%eT,eD,eT)*o%eT,c=eh(l,eR,eT)*r%eT,u=eh(c,eN,eT)*c%eT,d=eh(u,n,eT)*u%eT,h=eh(d,i,eT)*d%eT,f=eh(h,s,eT)*h%eT,p=eh(f,a,eT)*f%eT,y=eh(p,a,eT)*f%eT,g=eh(y,n,eT)*u%eT,{pow_p_5_8:eh(g,eD,eT)*r%eT,b2:o}).pow_p_5_8,v=ed(e*m*b,eT),w=ed(t*v*v,eT),_=v,x=ed(v*eO,eT),E=w===e,I=w===ed(-e,eT),A=w===ed(-e*eO,eT);return E&&(v=_),(I||A)&&(v=x),(ed(v,eT)&es)===es&&(v=ed(-v,eT)),{isValid:E||I,value:v}}}),eM="base64url",eL="utf8",e$="utf8",ez="base58btc";function eF(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function eq(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?eF(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function eW(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=eq(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return eF(r)}var eV=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw TypeError(s+" is ambiguous");r[a]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*a[h]>>>0,a[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===a[f];)f++;for(var p=new Uint8Array(n+(s-f)),y=n;f!==s;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*u+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],h=0,f=a-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let eH=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class eK{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eG{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eJ(this,e)}}class eZ{constructor(e){this.decoders=e}or(e){return eJ(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eJ=(e,t)=>new eZ({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eY{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new eK(e,t,r),this.decoder=new eG(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let eX=({name:e,prefix:t,encode:r,decode:n})=>new eY(e,t,r,n),eQ=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=eV(r,t);return eX({prefix:e,name:t,encode:n,decode:e=>eH(i(e))})},e0=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>eX({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),o=0,l=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);l=l<<r|s,(o+=r)>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return a})(t,n,r,e)});var e1=Object.freeze({__proto__:null,identity:eX({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),e2=Object.freeze({__proto__:null,base2:e0({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),e6=Object.freeze({__proto__:null,base8:e0({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),e5=Object.freeze({__proto__:null,base10:eQ({prefix:"9",name:"base10",alphabet:"0123456789"})}),e8=Object.freeze({__proto__:null,base16:e0({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:e0({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),e3=Object.freeze({__proto__:null,base32:e0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:e0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:e0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:e0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:e0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:e0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:e0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:e0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:e0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),e4=Object.freeze({__proto__:null,base36:eQ({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:eQ({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),e9=Object.freeze({__proto__:null,base58btc:eQ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:eQ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),e7=Object.freeze({__proto__:null,base64:e0({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:e0({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:e0({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:e0({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let te=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),tt=te.reduce((e,t,r)=>(e[r]=t,e),[]),tr=te.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var tn=Object.freeze({__proto__:null,base256emoji:eX({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=tt[t],"")},decode:function(e){let t=[];for(let r of e){let e=tr[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function ti(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,ti.bytes=r-n+1,t}var ts=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10};let ta=(e,t,r=0)=>(ti(e,t,r),t),to=(e,t)=>{let r=t.byteLength,n=ts(e),i=n+ts(r),s=new Uint8Array(i+r);return ta(e,s,0),ta(r,s,n),s.set(t,i),new tl(e,r,t,s)};class tl{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let tc=({name:e,code:t,encode:r})=>new tu(e,t,r);class tu{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?to(this.code,t):t.then(e=>to(this.code,e))}throw Error("Unknown type, must be binary type")}}let td=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var th=Object.freeze({__proto__:null,sha256:tc({name:"sha2-256",code:18,encode:td("SHA-256")}),sha512:tc({name:"sha2-512",code:19,encode:td("SHA-512")})}),tf=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:eH,digest:e=>to(0,eH(e))}});new TextEncoder,new TextDecoder;let tp={...e1,...e2,...e6,...e5,...e8,...e3,...e4,...e9,...e7,...tn};function ty(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...th,...tf});let tg=ty("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),tm=ty("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=eq((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),tb={utf8:tg,"utf-8":tg,hex:tp.base16,latin1:tm,ascii:tm,binary:tm,...tp};function tv(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function tw(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?eF(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function t_(e){return(0,o.j)(tv(tw(e,eM),eL))}function tx(e){return tv(tw((0,o.h)(e),eL),eM)}function tE(e){return["did:key","z"+tv(eW([tw("K36",ez),e]),ez)].join(":")}function tI(e){let t=e.split(".");return{header:t_(t[0]),payload:t_(t[1]),signature:tw(t[2],eM),data:tw(t.slice(0,2).join("."),e$)}}function tA(e=p(32)){let t=ej.getPublicKey(e);return{secretKey:eW([e,t]),publicKey:t}}async function tS(e,t,r,n,i=(0,a.fromMiliseconds)(Date.now())){let s={alg:"EdDSA",typ:"JWT"},o={iss:tE(n.publicKey),sub:e,aud:t,iat:i,exp:i+r},l=tw([tx((c={header:s,payload:o}).header),tx(c.payload)].join("."),e$);var c,u={header:s,payload:o,signature:ej.sign(l,n.secretKey.slice(0,32))};return[tx(u.header),tx(u.payload),tv(u.signature,eM)].join(".")}},64101:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(46157);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.rj({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.rj({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},64450:(e,t,r)=>{"use strict";r.d(t,{$C:()=>o,Bq:()=>f,C1:()=>d,FU:()=>v,Ns:()=>g,O6:()=>i,QM:()=>s,Ru:()=>p,Sc:()=>l,XA:()=>y,iO:()=>b,mC:()=>c,pI:()=>m,vt:()=>w,xL:()=>u,xv:()=>a});var n=r(82230);function i(e,t){return e.length===t.length&&e.every((e,r)=>e===t[r])}function s(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function a(e){return Object.freeze({...e,encode:t=>{let r=new Uint8Array(s(t,e));return e.write(t,r,0),r}})}function o(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function l(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function c(e,t){if(l(e)!==l(t))throw new n.tsw(n.CvZ);if(l(e)&&l(t)&&e.fixedSize!==t.fixedSize)throw new n.tsw(n.Uq4,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!l(e)&&!l(t)&&e.maxSize!==t.maxSize)throw new n.tsw(n.SHY,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function u(e,t,r=0){if(t.length-r<=0)throw new n.tsw(n.Ot7,{codecDescription:e})}function d(e,t,r,i=0){let s=r.length-i;if(s<t)throw new n.tsw(n.Uyo,{bytesLength:s,codecDescription:e,expected:t})}function h(e,t,r){if(t<0||t>r)throw new n.tsw(n.v8P,{bytesLength:r,codecDescription:e,offset:t})}function f(e,t){let r=(r,n,i)=>{let s=e.encode(r);return i=t.write(s.length,n,i),n.set(s,i),i+s.length};if(l(t)&&l(e))return a({...e,fixedSize:t.fixedSize+e.fixedSize,write:r});let n=l(t)?t.fixedSize:t.maxSize??null,i=l(e)?e.fixedSize:e.maxSize??null,o=null!==n&&null!==i?n+i:null;return a({...e,...null!==o?{maxSize:o}:{},getSizeFromValue:r=>{let n=s(r,e);return s(n,t)+n},write:r})}function p(e,t){let r=(r,n)=>{let[i,s]=t.read(r,n),a=Number(i);return((n=s)>0||r.length>a)&&(r=r.slice(n,n+a)),d("addDecoderSizePrefix",a,r),[e.decode(r),n+a]};if(l(t)&&l(e))return o({...e,fixedSize:t.fixedSize+e.fixedSize,read:r});let n=l(t)?t.fixedSize:t.maxSize??null,i=l(e)?e.fixedSize:e.maxSize??null,s=null!==n&&null!==i?n+i:null;return o({...e,...null!==s?{maxSize:s}:{},read:r})}function y(e,t,r){let n,i=e.byteOffset+(t??0),s=r??e.byteLength;return"undefined"==typeof SharedArrayBuffer?n=e.buffer:e.buffer instanceof SharedArrayBuffer?new Uint8Array(n=new ArrayBuffer(e.length)).set(new Uint8Array(e)):n=e.buffer,(0===i||i===-e.byteLength)&&s===e.byteLength?n:n.slice(i,i+s)}function g(e,t){return a({fixedSize:t,write:(r,n,i)=>{let s=e.encode(r),a=s.length>t?s.slice(0,t):s;return n.set(a,i),i+t}})}function m(e,t){return o({fixedSize:t,read:(r,n)=>{let i,s;d("fixCodecSize",t,r,n),(n>0||r.length>t)&&(r=r.slice(n,n+t)),l(e)&&(i=r,s=e.fixedSize,r=function(e,t){if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r}(i.length<=s?i:i.slice(0,s),s));let[a]=e.read(r,0);return[a,n+t]}})}function b(e,t){var r,i;return r=function(e,t){if(l(e)){let r=t(e.fixedSize);if(r<0)throw new n.tsw(n.rIW,{bytesLength:r,codecDescription:"resizeDecoder"});return o({...e,fixedSize:r})}return e}(e,e=>e+t),i={postOffset:({postOffset:e})=>e+t},o({...r,read:(e,t)=>{let n=t=>{var r,n;return r=t,0===(n=e.length)?0:(r%n+n)%n},s=i.preOffset?i.preOffset({bytes:e,preOffset:t,wrapBytes:n}):t;h("offsetDecoder",s,e.length);let[a,o]=r.read(e,s),l=i.postOffset?i.postOffset({bytes:e,newPreOffset:s,postOffset:o,preOffset:t,wrapBytes:n}):o;return h("offsetDecoder",l,e.length),[a,l]}})}function v(e,t){return a({...!l(e)?{...e,getSizeFromValue:r=>e.getSizeFromValue(t(r))}:e,write:(r,n,i)=>e.write(t(r),n,i)})}function w(e,t){return o({...e,read:(r,n)=>{let[i,s]=e.read(r,n);return[t(i,r,n),s]}})}},64993:(e,t)=>{"use strict";function r({widthInt:e,heightInt:t,blurWidth:r,blurHeight:n,blurDataURL:i,objectFit:s}){let a=r?40*r:e,o=n?40*n:t,l=a&&o?`viewBox='0 0 ${a} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${i}'/%3E%3C/svg%3E`}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},65906:(e,t,r)=>{"use strict";r.d(t,{p:()=>u});var n=r(99859),i=r(91068),s=r(59670),a=r(92751),o=r(36487),l=r(72064);let c="/docs/contract/encodeFunctionData";function u(e){let{args:t}=e,{abi:r,functionName:u}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){let{abi:t,args:r,functionName:n}=e,i=t[0];if(n){let e=(0,l.iY)({abi:t,args:r,name:n});if(!e)throw new s.Iz(n,{docsPath:c});i=e}if("function"!==i.type)throw new s.Iz(void 0,{docsPath:c});return{abi:[i],functionName:(0,a.V)((0,o.B)(i))}}(e),d=r[0],h="inputs"in d&&d.inputs?(0,i.h)(d.inputs,t??[]):void 0;return(0,n.aP)([u,h??"0x"])}},65991:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(65936),i=r(49585);let s=(e,t)=>{i._.isServer?(0,n.useEffect)(e,t):(0,n.useLayoutEffect)(e,t)}},66010:(e,t,r)=>{"use strict";r.d(t,{N0:()=>I,S$:()=>b,az:()=>L,dU:()=>C,fr:()=>P,mN:()=>D,mm:()=>$,q0:()=>m,rt:()=>R,vm:()=>M});var n,i,s,a,o,l,c=r(82230),u=r(290),d=r(19122),h=r(64450),f=r(33918),p=r(77020),y=r(92722),g=r(6530);function m(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight&&(0,u.yF)(e.lifetimeConstraint.blockhash)}function b(e,t){return"lifetimeConstraint"in t&&t.lifetimeConstraint&&"blockhash"in t.lifetimeConstraint&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight?t:Object.freeze({...t,lifetimeConstraint:Object.freeze(e)})}function v(e,t){let[r,n]=e.split(RegExp(`((?!${t}).*)`));return[r,n]}function w(e,t){let r=BigInt(t.length),n=0n;for(let i of e)n*=r,n+=BigInt(t.indexOf(i));return n}var _="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function x(){return s||(s=(0,p.Qe)()),s}function E(){return a||(a=(0,p.eh)()),a}function I(){return(0,h.$C)({maxSize:1,read:(e,t)=>{let r=e[t];if((128&r)==0)return["legacy",t];{let e=128^r;if(e>0)throw new c.tsw(c.DAJ,{unsupportedVersion:e});return[e,t+1]}}})}function A(){return(0,f.a5)(k())}function S(){return(0,h.FU)((0,f.a5)([...k(),["addressTableLookups",(0,f.is)(function(){if(!n){let e=(0,f.is)((0,p.Qe)(),{size:(0,p.tD)()});n=(0,f.a5)([["lookupTableAddress",(0,d.jw)()],["writableIndexes",e],["readonlyIndexes",e]])}return n}(),{size:(0,p.tD)()})]]),e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function k(){let e=(0,f.md)([(0,f.J8)(new Uint8Array(32)),(0,h.Ns)((0,h.xv)({getSizeFromValue:e=>{let[t,r]=v(e,_[0]);if(!r)return e.length;let n=w(r,_);return t.length+Math.ceil(n.toString(16).length/2)},write(e,t,r){if(!function(e,t,r=t){if(!t.match(RegExp(`^[${e}]*$`)))throw new c.tsw(c.mZ_,{alphabet:e,base:e.length,value:r})}(_,e),""===e)return r;let[n,i]=v(e,_[0]);if(!i)return t.set(new Uint8Array(n.length).fill(0),r),r+n.length;let s=w(i,_),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let o=[...Array(n.length).fill(0),...a];return t.set(o,r),r+o.length}}),32)],e=>+(void 0!==e));return[["version",(0,h.xv)({getSizeFromValue:e=>+("legacy"!==e),maxSize:1,write:(e,t,r)=>{if("legacy"===e)return r;if(e<0||e>127)throw new c.tsw(c.Da$,{actualVersion:e});if(e>0)throw new c.tsw(c.DAJ,{unsupportedVersion:e});return t.set([128|e],r),r+1}})],["header",(0,f.a5)([["numSignerAccounts",x()],["numReadonlySignerAccounts",x()],["numReadonlyNonSignerAccounts",x()]])],["staticAccounts",(0,f.is)((0,d.jw)(),{size:(0,p.tD)()})],["lifetimeToken",e],["instructions",(0,f.is)((o||(o=(0,h.FU)((0,f.a5)([["programAddressIndex",(0,p.Qe)()],["accountIndices",(0,f.is)((0,p.Qe)(),{size:(0,p.tD)()})],["data",(0,h.Bq)((0,f.Im)(),(0,p.tD)())]]),e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),o),{size:(0,p.tD)()})]]}function C(){return(0,h.xv)({getSizeFromValue:e=>"legacy"===e.version?A().getSizeFromValue(e):S().getSizeFromValue(e),write:(e,t,r)=>"legacy"===e.version?A().write(e,t,r):S().write(e,t,r)})}function P(){return(0,h.vt)((0,f.ci)([["version",I()],["header",(0,f.ci)([["numSignerAccounts",E()],["numReadonlySignerAccounts",E()],["numReadonlyNonSignerAccounts",E()]])],["staticAccounts",(0,f.O_)((0,d.Xg)(),{size:(0,p.vU)()})],["lifetimeToken",(0,h.pI)((0,h.$C)({read(e,t){let r=0===t?e:e.slice(t);if(0===r.length)return["",0];let n=r.findIndex(e=>0!==e);n=-1===n?r.length:n;let i=_[0].repeat(n);return n===r.length?[i,e.length]:[i+function(e,t){let r=BigInt(t.length),n=[];for(;e>0n;)n.unshift(t[Number(e%r)]),e/=r;return n.join("")}(r.slice(n).reduce((e,t)=>256n*e+BigInt(t),0n),_),e.length]}}),32)],["instructions",(0,f.O_)((l||(l=(0,h.vt)((0,f.ci)([["programAddressIndex",(0,p.eh)()],["accountIndices",(0,f.O_)((0,p.eh)(),{size:(0,p.vU)()})],["data",(0,h.Ru)((0,f.EK)(),(0,p.vU)())]]),e=>{if(e.accountIndices.length&&e.data.byteLength)return e;let{accountIndices:t,data:r,...n}=e;return{...n,...t.length?{accountIndices:t}:null,...r.byteLength?{data:r}:null}})),l),{size:(0,p.vU)()})],["addressTableLookups",(0,f.O_)(function(){if(!i){let e=(0,f.O_)((0,p.eh)(),{size:(0,p.vU)()});i=(0,f.ci)([["lookupTableAddress",(0,d.Xg)()],["writableIndexes",e],["readonlyIndexes",e]])}return i}(),{size:(0,p.vU)()})]]),({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t)}function T(e,t,r){e[t]=r(e[t]??{role:y.Uv.READONLY})}var O=Symbol("AddressMapTypeProperty");function R(e){var t;let r,n,i,s=Object.entries(function(e,t){let r={[e]:{[O]:0,role:y.Uv.WRITABLE_SIGNER}},n=new Set;for(let e of t){let t;if(T(r,e.programAddress,t=>{if(n.add(e.programAddress),O in t){if((0,y.TN)(t.role))if(0===t[O])throw new c.tsw(c.XNQ,{programAddress:e.programAddress});else throw new c.tsw(c.Tsv,{programAddress:e.programAddress});if(2===t[O])return t}return{[O]:2,role:y.Uv.READONLY}}),e.accounts)for(let i of e.accounts)T(r,i.address,e=>{let{address:r,...s}=i;if(O in e)switch(e[O]){case 0:return e;case 1:{let r=(0,y.Wq)(e.role,s.role);if("lookupTableAddress"in s){if(e.lookupTableAddress!==s.lookupTableAddress&&0>(t||=(0,d.XF)())(s.lookupTableAddress,e.lookupTableAddress))return{[O]:1,...s,role:r}}else if((0,y.tZ)(s.role))return{[O]:2,role:r};if(e.role!==r)return{...e,role:r};return e}case 2:{let t=(0,y.Wq)(e.role,s.role);if(n.has(i.address)){if((0,y.TN)(s.role))throw new c.tsw(c.Tsv,{programAddress:i.address});if(e.role!==t)return{...e,role:t};return e}if("lookupTableAddress"in s&&!(0,y.tZ)(e.role))return{...s,[O]:1,role:t};if(e.role!==t)return{...e,role:t};else return e}}return"lookupTableAddress"in s?{...s,[O]:1}:{...s,[O]:2}})}return r}(e.feePayer.address,e.instructions)).sort(([e,t],[n,i])=>{if(t[O]!==i[O]){if(0===t[O])return -1;else if(0===i[O])return 1;else if(2===t[O])return -1;else if(2===i[O])return 1}let s=(0,y.tZ)(t.role);if(s!==(0,y.tZ)(i.role))return s?-1:1;let a=(0,y.TN)(t.role);return a!==(0,y.TN)(i.role)?a?-1:1:(r||=(0,d.XF)(),1===t[O]&&1===i[O]&&t.lookupTableAddress!==i.lookupTableAddress)?r(t.lookupTableAddress,i.lookupTableAddress):r(e,n)}).map(([e,t])=>({address:e,...t})),a=e.lifetimeConstraint;return{..."legacy"!==e.version?{addressTableLookups:function(e){let t={};for(let r of e){if(!("lookupTableAddress"in r))continue;let e=t[r.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};r.role===y.Uv.WRITABLE?e.writableIndexes.push(r.addressIndex):e.readonlyIndexes.push(r.addressIndex)}return Object.keys(t).sort((0,d.XF)()).map(e=>({lookupTableAddress:e,...t[e]}))}(s)}:null,...a?{lifetimeToken:"nonce"in a?a.nonce:a.blockhash}:null,header:function(e){let t=0,r=0,n=0;for(let i of e){if("lookupTableAddress"in i)break;let e=(0,y.TN)(i.role);(0,y.tZ)(i.role)?(n++,!e&&r++):!e&&t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:r,numSignerAccounts:n}}(s),instructions:(t=e.instructions,n=function(e){let t={};for(let[r,n]of e.entries())t[n.address]=r;return t}(s),t.map(({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map(({address:e})=>n[e])}:null,...t?{data:t}:null}))),staticAccounts:(-1===(i=s.findIndex(e=>"lookupTableAddress"in e))?s:s.slice(0,i)).map(({address:e})=>e),version:e.version}}function D(e){return Object.freeze({instructions:Object.freeze([]),version:e.version})}var N="SysvarRecentB1ockHashes11111111111111111111",B="11111111111111111111111111111111";function U(e,t){return{accounts:[{address:e,role:y.Uv.WRITABLE},{address:N,role:y.Uv.READONLY},{address:t,role:y.Uv.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:B}}function j(e){var t;return e.programAddress===B&&null!=e.data&&4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&e.accounts?.length===3&&null!=e.accounts[0].address&&e.accounts[0].role===y.Uv.WRITABLE&&e.accounts[1].address===N&&e.accounts[1].role===y.Uv.READONLY&&null!=e.accounts[2].address&&(0,y.tZ)(e.accounts[2].role)}function M(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&j(e.instructions[0])}function L(e,t){var r,n;return r=[e],Object.freeze({...n=t,instructions:Object.freeze([...n.instructions,...r])})}function $(e,t){let r=e.staticAccounts[0];if(!r)throw new c.tsw(c.eZ6);let n=[...function(e){let{header:t}=e,r=t.numSignerAccounts-t.numReadonlySignerAccounts,n=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,i=[],s=0;for(let t=0;t<r;t++)i.push({address:e.staticAccounts[s],role:y.Uv.WRITABLE_SIGNER}),s++;for(let r=0;r<t.numReadonlySignerAccounts;r++)i.push({address:e.staticAccounts[s],role:y.Uv.READONLY_SIGNER}),s++;for(let t=0;t<n;t++)i.push({address:e.staticAccounts[s],role:y.Uv.WRITABLE}),s++;for(let r=0;r<t.numReadonlyNonSignerAccounts;r++)i.push({address:e.staticAccounts[s],role:y.Uv.READONLY}),s++;return i}(e),..."addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){let r=e.map(e=>e.lookupTableAddress).filter(e=>void 0===t[e]);if(r.length>0)throw new c.tsw(c.Vjw,{lookupTableAddresses:r});let n=[],i=[];for(let r of e){let e=t[r.lookupTableAddress],s=r.readonlyIndexes,a=r.writableIndexes,o=Math.max(...s,...a);if(o>=e.length)throw new c.tsw(c.t_l,{highestKnownIndex:e.length-1,highestRequestedIndex:o,lookupTableAddress:r.lookupTableAddress});let l=s.map(t=>({address:e[t],addressIndex:t,lookupTableAddress:r.lookupTableAddress,role:y.Uv.READONLY}));n.push(...l);let u=a.map(t=>({address:e[t],addressIndex:t,lookupTableAddress:r.lookupTableAddress,role:y.Uv.WRITABLE}));i.push(...u)}return[...i,...n]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],i=e.instructions.map(e=>(function(e,t){let r=t[e.programAddressIndex]?.address;if(!r)throw new c.tsw(c.MQP,{index:e.programAddressIndex});let n=e.accountIndices?.map(e=>t[e]),{data:i}=e;return Object.freeze({programAddress:r,...n&&n.length?{accounts:Object.freeze(n)}:{},...i&&i.length?{data:i}:{}})})(e,n)),s=i[0],a=function(e,t,r){if(!t||!j(t))return{blockhash:e,lastValidBlockHeight:r??2n**64n-1n};{let r=t.accounts[0].address;(0,d.Vm)(r);let n=t.accounts[2].address;return(0,d.Vm)(n),{nonce:e,nonceAccountAddress:r,nonceAuthorityAddress:n}}}(e.lifetimeToken,s,t?.lastValidBlockHeight);return(0,g.F)(D({version:e.version}),e=>(function(e,t){var r;if("feePayer"in t&&e===t.feePayer?.address&&(r=t.feePayer)&&"address"in r&&"string"==typeof r.address&&1===Object.keys(r).length)return t;let n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n})(r,e),e=>i.reduce((e,t)=>L(t,e),e),e=>"blockhash"in a?b(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:r},n){let i,s=n.instructions[0];if(s&&j(s))if(s.accounts[0].address===t&&s.accounts[2].address===r)if(M(n)&&n.lifetimeConstraint.nonce===e)return n;else i=[s,...n.instructions.slice(1)];else i=[Object.freeze(U(t,r)),...n.instructions.slice(1)];else i=[Object.freeze(U(t,r)),...n.instructions];return Object.freeze({...n,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e))}},66673:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,a:()=>a});var n=r(65936),i=r(81541);let s=Symbol();function a(e,t=!0){return Object.assign(e,{[s]:t})}function o(...e){let t=(0,n.useRef)(e);(0,n.useEffect)(()=>{t.current=e},[e]);let r=(0,i._)(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[s]))?void 0:r}},67096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),r(28629);let n=r(64993),i=r(38509),s=["-moz-initial","fill","none","scale-down",void 0];function a(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:r=!1,priority:l=!1,preload:c=!1,loading:u,className:d,quality:h,width:f,height:p,fill:y=!1,style:g,overrideSrc:m,onLoad:b,onLoadingComplete:v,placeholder:w="empty",blurDataURL:_,fetchPriority:x,decoding:E="async",layout:I,objectFit:A,objectPosition:S,lazyBoundary:k,lazyRoot:C,...P},T){var O;let R,D,N,{imgConf:B,showAltText:U,blurComplete:j,defaultLoader:M}=T,L=B||i.imageConfigDefault;if("allSizes"in L)R=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,t)=>e-t),t=L.deviceSizes.sort((e,t)=>e-t),r=L.qualities?.sort((e,t)=>e-t);R={...L,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===M)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let $=P.loader||M;delete P.loader,delete P.srcSet;let z="__next_img_default"in $;if(z){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=$;$=t=>{let{config:r,...n}=t;return e(n)}}if(I){"fill"===I&&(y=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[I];e&&(g={...g,...e});let r={responsive:"100vw",fill:"100vw"}[I];r&&!t&&(t=r)}let F="",q=o(f),W=o(p);if((O=e)&&"object"==typeof O&&(a(O)||void 0!==O.src)){let t=a(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(D=t.blurWidth,N=t.blurHeight,_=_||t.blurDataURL,F=t.src,!y)if(q||W){if(q&&!W){let e=q/t.width;W=Math.round(t.height*e)}else if(!q&&W){let e=W/t.height;q=Math.round(t.width*e)}}else q=t.width,W=t.height}let V=!l&&!c&&("lazy"===u||void 0===u);(!(e="string"==typeof e?e:F)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,V=!1),R.unoptimized&&(r=!0),z&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let H=o(h),K=Object.assign(y?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:A,objectPosition:S}:{},U?{}:{color:"transparent"},g),G=j||"empty"===w?null:"blur"===w?`url("data:image/svg+xml;charset=utf-8,${(0,n.getImageBlurSvg)({widthInt:q,heightInt:W,blurWidth:D,blurHeight:N,blurDataURL:_||"",objectFit:K.objectFit})}")`:`url("${w}")`,Z=s.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,J=G?{backgroundSize:Z,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:G}:{},Y=function({config:e,src:t,unoptimized:r,width:n,quality:i,sizes:s,loader:a}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:o,kind:l}=function({deviceSizes:e,allSizes:t},r,n){if(n){let r=/(^|\s)(1?\d?\d)vw/g,i=[];for(let e;e=r.exec(n);)i.push(parseInt(e[2]));if(i.length){let r=.01*Math.min(...i);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,n,s),c=o.length-1;return{sizes:s||"w"!==l?s:"100vw",srcSet:o.map((r,n)=>`${a({config:e,src:t,quality:i,width:r})} ${"w"===l?r:n+1}${l}`).join(", "),src:a({config:e,src:t,quality:i,width:o[c]})}}({config:R,src:e,unoptimized:r,width:q,quality:H,sizes:t,loader:$}),X=V?"lazy":u;return{props:{...P,loading:X,fetchPriority:x,width:q,height:W,decoding:E,className:d,style:{...K,...J},sizes:Y.sizes,srcSet:Y.srcSet,src:m||Y.src},meta:{unoptimized:r,preload:c||l,placeholder:w,fill:y}}}},67120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=v;let n=r(2669),i=r(71964),s=BigInt(0),a=BigInt(1),o=BigInt(2),l=BigInt(7),c=BigInt(256),u=BigInt(113),d=[],h=[],f=[];for(let e=0,t=a,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),h.push((e+1)*(e+2)/2%64);let i=s;for(let e=0;e<7;e++)(t=(t<<a^(t>>l)*u)%c)&o&&(i^=a<<(a<<BigInt(e))-a);f.push(i)}let p=(0,n.split)(f,!0),y=p[0],g=p[1],m=(e,t,r)=>r>32?(0,n.rotlBH)(e,t,r):(0,n.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,n.rotlBL)(e,t,r):(0,n.rotlSL)(e,t,r);function v(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=m(s,a,1)^r[n],l=b(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=h[r],s=m(t,i,n),a=b(t,i,n),o=d[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=y[n],e[1]^=g[n]}(0,i.clean)(r)}class w extends i.Hash{constructor(e,t,r,n=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,(0,i.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),v(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new w(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=w;let _=(e,t,r)=>(0,i.createHasher)(()=>new w(t,e,r));t.sha3_224=_(6,144,28),t.sha3_256=_(6,136,32),t.sha3_384=_(6,104,48),t.sha3_512=_(6,72,64),t.keccak_224=_(1,144,28),t.keccak_256=_(1,136,32),t.keccak_384=_(1,104,48),t.keccak_512=_(1,72,64);let x=(e,t,r)=>(0,i.createXOFer)((n={})=>new w(t,e,void 0===n.dkLen?r:n.dkLen,!0));t.shake128=x(31,168,16),t.shake256=x(31,136,32)},67218:(e,t,r)=>{"use strict";r.d(t,{Hn:()=>o,X3:()=>i,_j:()=>s,eN:()=>a,f7:()=>n});let n=0xffffffff;function i(e,t,r){e.setUint32(t,r/0x100000000),e.setUint32(t+4,r)}function s(e,t,r){let n=Math.floor(r/0x100000000);e.setUint32(t,n),e.setUint32(t+4,r)}function a(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}function o(e,t){return 0x100000000*e.getUint32(t)+e.getUint32(t+4)}},67735:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var n=r(65936),i=r(17158),s=r(57198),a=r(73885),o=r(98395),l=r(92768),c=r(68606);function u(e,t,r){let u=(0,l.Y)(r),d=(0,n.useCallback)(function(e,r){if(e.defaultPrevented)return;let n=r(e);if(null!==n&&n.getRootNode().contains(n)&&n.isConnected){for(let r of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t))if(null!==r&&(r.contains(n)||e.composed&&e.composedPath().includes(r)))return;return(0,s.Bm)(n,s.MZ.Loose)||-1===n.tabIndex||e.preventDefault(),u.current(e,n)}},[u,t]),h=(0,n.useRef)(null);(0,o.z)(e,"pointerdown",e=>{var t,r;(0,a.Fr)()||(h.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),(0,o.z)(e,"pointerup",e=>{if((0,a.Fr)()||!h.current)return;let t=h.current;return h.current=null,d(e,()=>t)},!0);let f=(0,n.useRef)({x:0,y:0});(0,o.z)(e,"touchstart",e=>{f.current.x=e.touches[0].clientX,f.current.y=e.touches[0].clientY},!0),(0,o.z)(e,"touchend",e=>{let t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(!(Math.abs(t.x-f.current.x)>=30||Math.abs(t.y-f.current.y)>=30))return d(e,()=>i.Lk(e.target)?e.target:null)},!0),(0,c.M)(e,"blur",e=>d(e,()=>i.Gu(window.document.activeElement)?window.document.activeElement:null),!0)}},68406:(e,t,r)=>{"use strict";r.d(t,{T:()=>x});var n=r(56205),i=r(86085),s=r(5805),a=r(38653),o=r(12017),l=r(42213),c=r(46157),u=r(82148),d=r(40082),h=r(92120),f=r(65906),p=r(64101),y=r(16678),g=r(81280),m=r(70327),b=r(26983),v=r(88865),w=r(22211),_=r(31070);async function x(e,t){let{account:a=e.account,authorizationList:d,batch:f=!!e.batch?.multicall,blockNumber:p,blockTag:v=e.experimental_blockTag??"latest",accessList:x,blobs:A,blockOverrides:S,code:k,data:C,factory:P,factoryData:T,gas:O,gasPrice:R,maxFeePerBlobGas:D,maxFeePerGas:N,maxPriorityFeePerGas:B,nonce:U,to:j,value:M,stateOverride:L,...$}=t,z=a?(0,s.J)(a):void 0;if(k&&(P||T))throw new l.C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(k&&j)throw new l.C("Cannot provide both `code` & `to` as parameters.");let F=k&&C,q=P&&T&&j&&C,W=F||q,V=F?I({code:k,data:C}):q?function(e){let{data:t,factory:r,factoryData:i,to:s}=e;return(0,h.m)({abi:(0,n.U)(["constructor(address, bytes, address, bytes)"]),bytecode:o.WN,args:[s,t,r,i]})}({data:C,factory:P,factoryData:T,to:j}):C;try{let r;(0,_.c)(t);let n=("bigint"==typeof p?(0,y.cK)(p):void 0)||v,s=S?i.J(S):void 0,a=(0,w.yH)(L),o=e.chain?.formatters?.transactionRequest?.format,l=(o||b.Bv)({...(0,m.o)($,{format:o}),accessList:x,account:z,authorizationList:d,blobs:A,data:V,gas:O,gasPrice:R,maxFeePerBlobGas:D,maxFeePerGas:N,maxPriorityFeePerGas:B,nonce:U,to:W?void 0:j,value:M},"call");if(f&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:l})&&!a&&!s)try{return await E(e,{...l,blockNumber:p,blockTag:v})}catch(e){if(!(e instanceof c.YE)&&!(e instanceof c.rj))throw e}let u=(r=[l,n],a&&s?[...r,a,s]:a?[...r,a]:s?[...r,{},s]:r),h=await e.request({method:"eth_call",params:u});if("0x"===h)return{data:void 0};return{data:h}}catch(a){let n=function(e){if(!(e instanceof l.C))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(a),{offchainLookup:i,offchainLookupSignature:s}=await r.e(101).then(r.bind(r,30101));if(!1!==e.ccipRead&&n?.slice(0,10)===s&&j)return{data:await i(e,{data:n,to:j})};if(W&&n?.slice(0,10)==="0x101bb98d")throw new u.Po({factory:P});throw(0,g.d)(a,{...t,account:z,chain:e.chain})}}async function E(e,t){let{batchSize:r=1024,deployless:n=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:s,blockTag:l=e.experimental_blockTag??"latest",data:h,to:g}=t,m=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,p.M)({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new c.YE})(),b=("bigint"==typeof s?(0,y.cK)(s):void 0)||l,{schedule:w}=(0,v.u)({id:`${e.uid}.${b}`,wait:i,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,f.p)({abi:a.v2,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===m?{data:I({code:o.Ez,data:n})}:{to:m,data:n}},b]});return(0,d.e)({abi:a.v2,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:_,success:x}]=await w({data:h,to:g});if(!x)throw new u.$S({data:_});return"0x"===_?{data:void 0}:{data:_}}function I(e){let{code:t,data:r}=e;return(0,h.m)({abi:(0,n.U)(["constructor(bytes, bytes)"]),bytecode:o.LX,args:[t,r]})}},68472:(e,t,r)=>{"use strict";let n;r.d(t,{D:()=>i});var i=((n=i||{}).Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n)},68551:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(76956),i=r(13437);function s(e,t){if(!(0,i.P)(e,{strict:!1}))throw new n.M({address:e});if(!(0,i.P)(t,{strict:!1}))throw new n.M({address:t});return e.toLowerCase()===t.toLowerCase()}},68606:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(65936),i=r(92768);function s(e,t,r,s){let a=(0,i.Y)(r);(0,n.useEffect)(()=>{if(e)return window.addEventListener(t,r,s),()=>window.removeEventListener(t,r,s);function r(e){a.current(e)}},[e,t,s])}},68648:(e,t,r)=>{var n=r(60065).hp;let i=r(32352);function s(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);else if("fixed"===e)return"fixed128x128";else if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function a(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function o(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function l(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":Number.parseInt(t[2],10):null}function c(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw Error("Argument is not a number")}function u(e,t){if("address"===e)return u("uint160",c(t));if("bool"===e)return u("uint8",+!!t);if("string"===e)return u("bytes",new n(t,"utf8"));if((f=e).lastIndexOf("]")===f.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(r=l(e))&&0!==r&&t.length>r)throw Error("Elements exceed array size: "+r);for(h in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)d.push(u(e,t[h]));if("dynamic"===r){var r,s,d,h,f,p=u("uint256",t.length);d.unshift(p)}return n.concat(d)}else if("bytes"===e)return t=new n(t),d=n.concat([u("uint256",t.length),t]),t.length%32!=0&&(d=n.concat([d,i.zeros(32-t.length%32)])),d;else if(e.startsWith("bytes")){if((r=a(e))<1||r>32)throw Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}else if(e.startsWith("uint")){if((r=a(e))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);s=c(t);let n=i.bitLengthFromBigInt(s);if(n>r)throw Error("Supplied uint exceeds width: "+r+" vs "+n);if(s<0)throw Error("Supplied uint is negative");return i.bufferBEFromBigInt(s,32)}else if(e.startsWith("int")){if((r=a(e))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);s=c(t);let n=i.bitLengthFromBigInt(s);if(n>r)throw Error("Supplied int exceeds width: "+r+" vs "+n);let o=i.twosFromBigInt(s,256);return i.bufferBEFromBigInt(o,32)}else if(e.startsWith("ufixed")){if(r=o(e),(s=c(t))<0)throw Error("Supplied ufixed is negative");return u("uint256",s*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=o(e),u("int256",c(t)*BigInt(2)**BigInt(r[1]));throw Error("Unsupported or invalid type: "+e)}function d(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var r,o,l=[],u=0;u<e.length;u++){var d=s(e[u]),h=t[u];if("bytes"===d)l.push(h);else if("string"===d)l.push(new n(h,"utf8"));else if("bool"===d)l.push(new n(h?"01":"00","hex"));else if("address"===d)l.push(i.setLength(h,20));else if(d.startsWith("bytes")){if((r=a(d))<1||r>32)throw Error("Invalid bytes<N> width: "+r);l.push(i.setLengthRight(h,r))}else if(d.startsWith("uint")){if((r=a(d))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);o=c(h);let e=i.bitLengthFromBigInt(o);if(e>r)throw Error("Supplied uint exceeds width: "+r+" vs "+e);l.push(i.bufferBEFromBigInt(o,r/8))}else if(d.startsWith("int")){if((r=a(d))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);o=c(h);let e=i.bitLengthFromBigInt(o);if(e>r)throw Error("Supplied int exceeds width: "+r+" vs "+e);let t=i.twosFromBigInt(o,r);l.push(i.bufferBEFromBigInt(t,r/8))}else throw Error("Unsupported or invalid type: "+d)}return n.concat(l)}e.exports={rawEncode:function(e,t){var r=[],i=[],a=32*e.length;for(var o in e){var c=s(e[o]),d=u(c,t[o]);"string"===c||"bytes"===c||"dynamic"===l(c)?(r.push(u("uint256",a)),i.push(d),a+=d.length):r.push(d)}return n.concat(r.concat(i))},solidityPack:d,soliditySHA3:function(e,t){return i.keccak(d(e,t))}}},68794:(e,t,r)=>{"use strict";r.d(t,{VH:()=>c,li:()=>l});var n=r(50863),i=r(16891),s=r(43436);class a extends s.H{constructor(e){super()}}let o=i.FIVE_SECONDS,l={pulse:"heartbeat_pulse"};class c extends a{constructor(e){super(e),this.events=new n.EventEmitter,this.interval=o,this.interval=e?.interval||o}static async init(e){let t=new c(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(l.pulse)}}},69112:e=>{function t(e){return(0x100000000+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let s=0;s<r.length;s+=2){if(32===n)i+=t(r[s]).toUpperCase(),i+=" ",i+=t(r[s+1]).toUpperCase();else if(64===n)i+=t(r[s+1]).toUpperCase(),i+=t(r[s]).toUpperCase();else throw Error("Invalid size "+n);s%6==4?i+="\n"+Array(e.length+4).join(" "):s<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=new Date().getTime(),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;let s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let s=0;s<r;s++){let r=e(i),s=new Date().getTime(),a=s-n;n=s,console.log("Hashed in "+a+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(a/1e3)*100)/100+" MB PER SECOND")}}}},69316:(e,t,r)=>{"use strict";r.d(t,{v:()=>v});var n=r(5805),i=r(90943),s=r(42213),a=r(9547),o=r(71948),l=r(99859),c=r(49336),u=r(70327),d=r(26983),h=r(85436),f=r(84619),p=r(31070),y=r(42494),g=r(5292),m=r(45174);let b=new f.A(128);async function v(e,t){let{account:r=e.account,assertChainId:f=!0,chain:v=e.chain,accessList:w,authorizationList:_,blobs:x,data:E,dataSuffix:I="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,gas:A,gasPrice:S,maxFeePerBlobGas:k,maxFeePerGas:C,maxPriorityFeePerGas:P,nonce:T,type:O,value:R,...D}=t;if(void 0===r)throw new i.T({docsPath:"/docs/actions/wallet/sendTransaction"});let N=r?(0,n.J)(r):null;try{(0,p.c)(t);let r=await (async()=>t.to?t.to:null!==t.to&&_&&_.length>0?await (0,a.g)({authorization:_[0]}).catch(()=>{throw new s.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(N?.type==="json-rpc"||null===N){let t;null!==v&&(t=await (0,h.T)(e,y.T,"getChainId")({}),f&&(0,o.v)({currentChainId:t,chain:v}));let n=e.chain?.formatters?.transactionRequest?.format,i=(n||d.Bv)({...(0,u.o)(D,{format:n}),accessList:w,account:N,authorizationList:_,blobs:x,chainId:t,data:E?(0,l.xW)([E,I??"0x"]):E,gas:A,gasPrice:S,maxFeePerBlobGas:k,maxFeePerGas:C,maxPriorityFeePerGas:P,nonce:T,to:r,type:O,value:R},"sendTransaction"),s=b.get(e.uid);try{return await e.request({method:s?"wallet_sendTransaction":"eth_sendTransaction",params:[i]},{retryCount:0})}catch(t){if(!1===s)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(b.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw b.set(e.uid,!1),t;throw r});throw t}}if(N?.type==="local"){let t=await (0,h.T)(e,g.ft,"prepareTransactionRequest")({account:N,accessList:w,authorizationList:_,blobs:x,chain:v,data:E?(0,l.xW)([E,I??"0x"]):E,gas:A,gasPrice:S,maxFeePerBlobGas:k,maxFeePerGas:C,maxPriorityFeePerGas:P,nonce:T,nonceManager:N.nonceManager,parameters:[...g.MM,"sidecars"],type:O,value:R,...D,to:r}),n=v?.serializers?.transaction,i=await N.signTransaction(t,{serializer:n});return await (0,h.T)(e,m.L,"sendRawTransaction")({serializedTransaction:i})}if(N?.type==="smart")throw new i.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:N?.type})}catch(e){if(e instanceof i.Z)throw e;throw(0,c.p)(e,{...t,account:N,chain:t.chain||void 0})}}},69435:(e,t,r)=>{"use strict";r.d(t,{n:()=>y});var n=r(59670),i=r(98539),s=r(3168),a=r(38006),o=r(45855),l=r(5247),c=r(45113),u=r(68549),d=r(16678);function h(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});let r=(0,d.My)(e,t);return(0,u.ME)(r,t)}var f=r(38252),p=r(91068);function y(e,t){let r="string"==typeof t?(0,f.aT)(t):t,y=(0,s.l)(r);if(0===(0,a.E)(r)&&e.length>0)throw new n.O;if((0,a.E)(t)&&32>(0,a.E)(t))throw new n.Iy({data:"string"==typeof t?t:(0,d.My)(t),params:e,size:(0,a.E)(t)});let m=0,b=[];for(let t=0;t<e.length;++t){let r=e[t];y.setPosition(m);let[s,a]=function e(t,r,{staticPosition:s}){let a=(0,p.k)(r.type);if(a){let[n,i]=a;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+h(t.readBytes(32)),s=n+32;t.setPosition(n);let a=h(t.readBytes(32)),o=g(r),l=0,c=[];for(let n=0;n<a;++n){t.setPosition(s+(o?32*n:l));let[i,a]=e(t,r,{staticPosition:s});l+=a,c.push(i)}return t.setPosition(i+32),[c,32]}if(g(r)){let s=i+h(t.readBytes(32)),a=[];for(let i=0;i<n;++i){t.setPosition(s+32*i);let[n]=e(t,r,{staticPosition:s});a.push(n)}return t.setPosition(i+32),[a,32]}let s=0,a=[];for(let o=0;o<n;++o){let[n,o]=e(t,r,{staticPosition:i+s});s+=o,a.push(n)}return[a,s]}(t,{...r,type:i},{length:n,staticPosition:s})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),s=i?[]:{},a=0;if(g(r)){let o=n+h(t.readBytes(32));for(let n=0;n<r.components.length;++n){let l=r.components[n];t.setPosition(o+a);let[c,u]=e(t,l,{staticPosition:o});a+=u,s[i?n:l?.name]=c}return t.setPosition(n+32),[s,32]}for(let o=0;o<r.components.length;++o){let l=r.components[o],[c,u]=e(t,l,{staticPosition:n});s[i?o:l?.name]=c,a+=u}return[s,a]}(t,r,{staticPosition:s});if("address"===r.type){let e;return e=t.readBytes(32),[(0,i.o)((0,d.My)((0,o.A1)(e,-20))),32]}if("bool"===r.type)return[function(e,t={}){let r=e;if(void 0!==t.size&&((0,u.Sl)(r,{size:t.size}),r=(0,l.B)(r)),r.length>1||r[0]>1)throw new c.xO(r);return!!r[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=h(e.readBytes(32));e.setPosition(r+t);let n=h(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,d.My)(i),32]}return[(0,d.My)(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int")){var f,y;let e,n,i;return f=t,e=(y=r).type.startsWith("int"),n=Number.parseInt(y.type.split("int")[1]||"256",10),i=f.readBytes(32),[n>48?function(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});let r=(0,d.My)(e,t);return(0,u.uU)(r,t)}(i,{signed:e}):h(i,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=h(e.readBytes(32));e.setPosition(t+r);let n=h(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),s=function(e,t={}){let r=e;return void 0!==t.size&&((0,u.Sl)(r,{size:t.size}),r=(0,l.B)(r,{dir:"right"})),new TextDecoder().decode(r)}((0,l.B)(i));return e.setPosition(t+32),[s,32]}(t,{staticPosition:s});throw new n.j(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(y,r,{staticPosition:0});m+=a,b.push(s)}return b}function g(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(g);let r=(0,p.k)(e.type);return!!(r&&g({...e,type:r[1]}))}},70199:(e,t,r)=>{"use strict";async function n(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{u:()=>n})},70210:(e,t,r)=>{"use strict";let n,i;r.d(t,{K:()=>y});var s,a,o=r(65936),l=r(65991),c=r(58037),u=r(17158),d=r(73885);function h(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let f=(s=()=>new Map,a={PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:(0,c.e)(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=h(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=h(r.meta)),this},SCROLL_PREVENT(e){let t,r={doc:e.doc,d:e.d,meta:()=>e.computedMeta},n=[(0,d.un)()?{before({doc:e,d:t,meta:r}){function n(e){for(let t of r().containers)for(let r of t())if(r.contains(e))return!0;return!1}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=(0,c.e)();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let i=null!=(r=window.scrollY)?r:window.pageYOffset,s=null;t.addEventListener(e,"click",t=>{if(u.Lk(t.target))try{let r=t.target.closest("a");if(!r)return;let{hash:i}=new URL(r.href),a=e.querySelector(i);u.Lk(a)&&!n(a)&&(s=a)}catch{}},!0),t.group(r=>{t.addEventListener(e,"touchstart",e=>{if(r.dispose(),u.Lk(e.target)&&u.pv(e.target))if(n(e.target)){let t=e.target;for(;t.parentElement&&n(t.parentElement);)t=t.parentElement;r.style(t,"overscrollBehavior","contain")}else r.style(e.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",e=>{if(u.Lk(e.target)&&!u.A3(e.target))if(n(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),t.add(()=>{var e;i!==(null!=(e=window.scrollY)?e:window.pageYOffset)&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{},{before({doc:e}){var r;let n=e.documentElement;t=Math.max(0,(null!=(r=e.defaultView)?r:window).innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}},{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];n.forEach(({before:e})=>null==e?void 0:e(r)),n.forEach(({after:e})=>null==e?void 0:e(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}},n=s(),i=new Set,{getSnapshot:()=>n,subscribe:e=>(i.add(e),()=>i.delete(e)),dispatch(e,...t){let r=a[e].call(n,...t);r&&(n=r,i.forEach(e=>e()))}});f.subscribe(()=>{let e=f.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&f.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&f.dispatch("TEARDOWN",r)}});var p=r(14893);function y(e,t,r=()=>[document.body]){!function(e,t,r=()=>({containers:[]})){let n=(0,o.useSyncExternalStore)(f.subscribe,f.getSnapshot,f.getSnapshot),i=t?n.get(t):void 0;i&&i.count,(0,l.s)(()=>{if(!(!t||!e))return f.dispatch("PUSH",t,r),()=>f.dispatch("POP",t,r)},[e,t])}((0,p.S)(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}},70241:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},70327:(e,t,r)=>{"use strict";function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}r.d(t,{o:()=>n})},70831:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(54612),i=r.n(n)},71361:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});let n=Symbol("data-suffix-plugin")},71567:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(38252),i=r(16678);function s(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),s="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.aT)(e)):e.blobs,a=[];for(let e of s)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?a:a.map(e=>(0,i.My)(e))}},71759:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n=r(17916).k},71860:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,l:()=>i});var n=r(87041);let i=e=>(e=>{let t=e;"string"==typeof t&&(t=n.Rd.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),s=e=>{let t=e;t instanceof Uint8Array&&(t=n.D0.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}}},71948:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(46157);function i({chain:e,currentChainId:t}){if(!e)throw new n.jF;if(t!==e.id)throw new n.EH({chain:e,currentChainId:t})}},71964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=s,t.abytes=a,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},t.aoutput=function(e,t){a(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=l,t.bytesToHex=function(e){if(a(e),c)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=d(e.charCodeAt(i)),s=d(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n},t.asyncLoop=h,t.utf8ToBytes=f,t.bytesToUtf8=function(e){return new TextDecoder().decode(e)},t.toBytes=p,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=f(e)),a(e),e},t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];a(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=g,t.createOptHasher=m,t.createXOFer=b,t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let n=r(2930);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function a(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function l(e){for(let t=0;t<e.length;t++)e[t]=o(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>o(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:l;let c="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}async function h(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function f(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),a(e),e}t.nextTick=async()=>{};class y{}function g(e){let t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function m(e){let t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function b(e){let t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}t.Hash=y,t.wrapConstructor=g,t.wrapConstructorWithOpts=m,t.wrapXOFConstructorWithOpts=b},72064:(e,t,r)=>{"use strict";r.d(t,{iY:()=>l});var n=r(59670),i=r(84968),s=r(13437),a=r(71759),o=r(92751);function l(e){let t,{abi:r,args:l=[],name:c}=e,u=(0,i.q)(c,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,o.V)(e)===c:"event"===e.type&&(0,a.h)(e)===c:"name"in e&&e.name===c);if(0!==d.length){if(1===d.length)return d[0];for(let e of d){if("inputs"in e){if(!l||0===l.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===l.length&&l.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,s.P)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,i)=>"object"===n&&e(Object.values(t)[i],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let a=t[i],o=r[i];if("tuple"===a.type&&"tuple"===o.type&&"components"in a&&"components"in o)return e(a.components,o.components,n[i]);let l=[a.type,o.type];if(l.includes("address")&&l.includes("bytes20")||(l.includes("address")&&l.includes("string")||l.includes("address")&&l.includes("bytes"))&&(0,s.P)(n[i],{strict:!1}))return l}}(e.inputs,t.inputs,l);if(r)throw new n.nM({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}}return t||d[0]}}},72182:(e,t,r)=>{"use strict";r.d(t,{lB:()=>a});let n=new Map,i=new Map,s=0;function a(e,t,r){let a=++s,o=()=>n.get(e)||[],l=()=>{let t,r=o();if(!r.some(e=>e.id===a))return;let s=i.get(e);if(1===r.length&&s){let e=s();e instanceof Promise&&e.catch(()=>{})}t=o(),n.set(e,t.filter(e=>e.id!==a))},c=o();if(n.set(e,[...c,{id:a,fns:t}]),c&&c.length>0)return l;let u={};for(let e in t)u[e]=(...t)=>{let r=o();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let d=r(u);return"function"==typeof d&&i.set(e,d),l}},72608:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var n=r(19842),i=r(84968),s=r(38252),a=r(16678);function o(e,t){let r=(0,n.sc)((0,i.q)(e,{strict:!1})?(0,s.ZJ)(e):e);return"bytes"===(t||"hex")?r:(0,a.nj)(r)}},73536:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(40082),i=r(65906),s=r(10106),a=r(85436),o=r(68406);async function l(e,t){let{abi:r,address:l,args:c,functionName:u,...d}=t,h=(0,i.p)({abi:r,args:c,functionName:u});try{let{data:t}=await (0,a.T)(e,o.T,"call")({...d,data:h,to:l});return(0,n.e)({abi:r,args:c,functionName:u,data:t||"0x"})}catch(e){throw(0,s.j)(e,{abi:r,address:l,args:c,docsPath:"/docs/contract/readContract",functionName:u})}}},73822:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(70199);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:s=()=>!0}={}){return new Promise((i,a)=>{let o=async({count:l=0}={})=>{let c=async({error:e})=>{let r="function"==typeof t?t({count:l,error:e}):t;r&&await (0,n.u)(r),o({count:l+1})};try{let t=await e();i(t)}catch(e){if(l<r&&await s({count:l,error:e}))return c({error:e});a(e)}};o()})}},73885:(e,t,r)=>{"use strict";function n(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return n()||/Android/gi.test(window.navigator.userAgent)}r.d(t,{Fr:()=>i,un:()=>n})},74439:(e,t,r)=>{"use strict";r.d(t,{o0:()=>f});var n=r(55036),i=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},o=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},l=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==n&&n.version?new a(n.version.slice(1)):null}function p(e){var t=""!==e&&d.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new l;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=function(e){for(var t=0,r=h.length;t<r;t++){var n=h[t],i=n[0];if(n[1].exec(e))return i}return null}(e),p=u.exec(e);return p&&p[1]?new o(r,c,f,p[1]):new s(r,c,f)}},75104:(e,t,r)=>{"use strict";function n(e,t){let r=e.exec(t);return r?.groups}r.d(t,{BD:()=>i,Ge:()=>s,Yv:()=>n,wj:()=>a});let i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/},75510:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,a=0,o=0;for(;e[s]===n;)a++,s++;let l=(e.length-s)*i+1>>>0,c=new Uint8Array(l);for(;s<e.length;){let n=e.charCodeAt(s);if(n>255)return;let i=t[n];if(255===i)return;let a=0;for(let e=l-1;(0!==i||a<o)&&-1!==e;e--,a++)i+=r*c[e]>>>0,c[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");o=a,s++}let u=l-o;for(;u!==l&&0===c[u];)u++;let d=new Uint8Array(a+(l-u)),h=a;for(;u!==l;)d[h++]=c[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,o=0,l=t.length;for(;o!==l&&0===t[o];)o++,i++;let c=(l-o)*s+1>>>0,u=new Uint8Array(c);for(;o!==l;){let e=t[o],n=0;for(let t=c-1;(0!==e||n<a)&&-1!==t;t--,n++)e+=256*u[t]>>>0,u[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");a=n,o++}let d=c-a;for(;d!==c&&0===u[d];)d++;let h=n.repeat(i);for(;d<c;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:a,decode:function(e){let t=a(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},76335:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});var n=r(75104),i=r(81243),s=r(33759),a=r(52648),o=r(7506);class l extends o.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var c=r(30460),u=r(62581);function d(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!(0,c.WL)(r))continue;let i=(0,c.FO)(r);if(!i)throw new a.s7({signature:r,type:"struct"});let s=i.properties.split(";"),o=[],l=s.length;for(let e=0;e<l;e++){let t=s[e].trim();if(!t)continue;let r=(0,u.Pj)(t,{type:"struct"});o.push(r)}if(!o.length)throw new a.X9({signature:r});t[i.name]=o}let o={},d=Object.entries(t),f=d.length;for(let e=0;e<f;e++){let[r,a]=d[e];o[r]=function e(t=[],r={},a=new Set){let o=[],c=t.length;for(let d=0;d<c;d++){let c=t[d];if(n.wj.test(c.type))o.push(c);else{let t=(0,n.Yv)(h,c.type);if(!t?.type)throw new s.nx({abiParameter:c});let{array:d,type:f}=t;if(f in r){if(a.has(f))throw new l({type:f});o.push({...c,type:`tuple${d??""}`,components:e(r[f],r,new Set([...a,f]))})}else if((0,u._o)(f))o.push(c);else throw new i.zz({type:f})}}return o}(a,t)}return o}let h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},76588:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(42213),i=r(1176);function s(e,t){let r=(e.details||"").toLowerCase(),s=e instanceof n.C?e.walk(e=>e?.code===i.A7.code):e;return s instanceof n.C?new i.A7({cause:e,message:s.details}):i.A7.nodeMessage.test(r)?new i.A7({cause:e,message:e.details}):i.BG.nodeMessage.test(r)?new i.BG({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.jj.nodeMessage.test(r)?new i.jj({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.K0.nodeMessage.test(r)?new i.K0({cause:e,nonce:t?.nonce}):i.Oh.nodeMessage.test(r)?new i.Oh({cause:e,nonce:t?.nonce}):i.vW.nodeMessage.test(r)?new i.vW({cause:e,nonce:t?.nonce}):i.k5.nodeMessage.test(r)?new i.k5({cause:e}):i.lY.nodeMessage.test(r)?new i.lY({cause:e,gas:t?.gas}):i.Fo.nodeMessage.test(r)?new i.Fo({cause:e,gas:t?.gas}):i.uC.nodeMessage.test(r)?new i.uC({cause:e}):i.lN.nodeMessage.test(r)?new i.lN({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.RM({cause:e})}},76635:(e,t,r)=>{"use strict";r.d(t,{T:()=>u});var n=r(71567),i=r(52996),s=r(35251),a=r(3168),o=r(38006),l=r(38252),c=r(16678);function u(e){let{data:t,kzg:r,to:u}=e,d=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,l.aT)(e.data):e.data,n=(0,o.E)(r);if(!n)throw new s.zF;if(n>761855)throw new s.iq({maxSize:761855,size:n});let i=[],u=!0,d=0;for(;u;){let e=(0,a.l)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(d,d+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),u=!1;break}t++,d+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,c.My)(e.bytes))}({data:t,to:u}),h=e.commitments??(0,n.S)({blobs:d,kzg:r,to:u}),f=e.proofs??(0,i.t)({blobs:d,commitments:h,kzg:r,to:u}),p=[];for(let e=0;e<d.length;e++)p.push({blob:d[e],commitment:h[e],proof:f[e]});return p}},76740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return w}});let n=r(5541),i=r(49750),s=r(73788),a=i._(r(65936)),o=n._(r(86305)),l=n._(r(85153)),c=r(67096),u=r(38509),d=r(99255);r(28629);let h=r(3566),f=n._(r(50588)),p=r(93211),y={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,r,n,i,s,a){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}n?.current&&n.current(e)}}))}function m(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}let b=(0,a.forwardRef)(({src:e,srcSet:t,sizes:r,height:n,width:i,decoding:o,className:l,style:c,fetchPriority:u,placeholder:d,loading:h,unoptimized:f,fill:y,onLoadRef:b,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:_,sizesInput:x,onLoad:E,onError:I,...A},S)=>{let k=(0,a.useCallback)(e=>{e&&(I&&(e.src=e.src),e.complete&&g(e,d,b,v,w,f,x))},[e,d,b,v,w,I,f,x]),C=(0,p.useMergedRef)(S,k);return(0,s.jsx)("img",{...A,...m(u),loading:h,width:i,height:n,decoding:o,"data-nimg":y?"fill":"1",className:l,style:c,sizes:r,srcSet:t,src:e,ref:C,onLoad:e=>{g(e.currentTarget,d,b,v,w,f,x)},onError:e=>{_(!0),"empty"!==d&&w(!0),I&&I(e)}})});function v({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...m(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,r),null):(0,s.jsx)(l.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let w=(0,a.forwardRef)((e,t)=>{let r=(0,a.useContext)(h.RouterContext),n=(0,a.useContext)(d.ImageConfigContext),i=(0,a.useMemo)(()=>{let e=y||n||u.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),i=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:i,localPatterns:e.localPatterns}},[n]),{onLoad:o,onLoadingComplete:l}=e,p=(0,a.useRef)(o);(0,a.useEffect)(()=>{p.current=o},[o]);let g=(0,a.useRef)(l);(0,a.useEffect)(()=>{g.current=l},[l]);let[m,w]=(0,a.useState)(!1),[_,x]=(0,a.useState)(!1),{props:E,meta:I}=(0,c.getImgProps)(e,{defaultLoader:f.default,imgConf:i,blurComplete:m,showAltText:_});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{...E,unoptimized:I.unoptimized,placeholder:I.placeholder,fill:I.fill,onLoadRef:p,onLoadingCompleteRef:g,setBlurComplete:w,setShowAltText:x,sizesInput:e.sizes,ref:t}),I.preload?(0,s.jsx)(v,{isAppRouter:!r,imgAttributes:E}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},76899:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(50863),i=r(83792);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{(0,i.isJsonRpcError)(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},77020:(e,t,r)=>{"use strict";r.d(t,{PL:()=>f,Qe:()=>g,VI:()=>p,eC:()=>y,eh:()=>m,tD:()=>d,vU:()=>h});var n,i=r(82230),s=r(64450);function a(e,t,r,n){if(n<t||n>r)throw new i.tsw(i.hMG,{codecDescription:e,max:r,min:t,value:n})}var o=((n=o||{})[n.Little=0]="Little",n[n.Big=1]="Big",n);function l(e){return e?.endian!==1}function c(e){return(0,s.xv)({fixedSize:e.size,write(t,r,n){e.range&&a(e.name,e.range[0],e.range[1],t);let i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,l(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function u(e){return(0,s.$C)({fixedSize:e.size,read(t,r=0){(0,s.xL)(e.name,t,r),(0,s.C1)(e.name,e.size,t,r);let n=new DataView((0,s.XA)(t,r,e.size));return[e.get(n,l(e.config)),r+e.size]}})}var d=()=>(0,s.xv)({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,r)=>{a("shortU16",0,65535,e);let n=[0];for(let t=0;;t+=1){let r=Number(e)>>7*t;if(0===r)break;let i=127&r;n[t]=i,t>0&&(n[t-1]|=128)}return t.set(n,r),r+n.length}}),h=()=>(0,s.$C)({maxSize:3,read:(e,t)=>{let r=0,n=0;for(;++n;){let i=n-1,s=e[t+i];if(r|=(127&s)<<7*i,(128&s)==0)break}return[r,t+n]}}),f=(e={})=>c({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,r)=>e.setUint32(0,Number(t),r),size:4}),p=(e={})=>u({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),y=(e={})=>c({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),g=()=>c({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),m=()=>u({get:e=>e.getUint8(0),name:"u8",size:1})},77097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>S,__createBinding:()=>h,__decorate:()=>o,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>y,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>m,__values:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){var l=[s,o];if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function h(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(l,c):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var s,a,o;s=n,a=i,o=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:o})},a)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},77906:(e,t,r)=>{"use strict";r.d(t,{G$:()=>K,Hs:()=>_,UC:()=>et,VY:()=>en,ZL:()=>Q,bL:()=>Y,bm:()=>ei,hE:()=>er,hJ:()=>ee,l9:()=>X});var n=r(65936),i=r(13227),s=r(60808),a=r(86410),o=r(85491),l=r(56595),c=r(47345),u=r(93709),d=r(22388),h=r(55222),f=r(19698),p=r(37656),y=r(18844),g=r(4109),m=r(3696),b=r(73788),v="Dialog",[w,_]=(0,a.A)(v),[x,E]=w(v),I=e=>{let{__scopeDialog:t,children:r,open:i,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,u=n.useRef(null),d=n.useRef(null),[h=!1,f]=(0,l.i)({prop:i,defaultProp:s,onChange:a});return(0,b.jsx)(x,{scope:t,triggerRef:u,contentRef:d,contentId:(0,o.B)(),titleId:(0,o.B)(),descriptionId:(0,o.B)(),open:h,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:c,children:r})};I.displayName=v;var A="DialogTrigger",S=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=E(A,r),o=(0,s.s)(t,a.triggerRef);return(0,b.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":V(a.open),...n,ref:o,onClick:(0,i.m)(e.onClick,a.onOpenToggle)})});S.displayName=A;var k="DialogPortal",[C,P]=w(k,{forceMount:void 0}),T=e=>{let{__scopeDialog:t,forceMount:r,children:i,container:s}=e,a=E(k,t);return(0,b.jsx)(C,{scope:t,forceMount:r,children:n.Children.map(i,e=>(0,b.jsx)(h.C,{present:r||a.open,children:(0,b.jsx)(d.Z,{asChild:!0,container:s,children:e})}))})};T.displayName=k;var O="DialogOverlay",R=n.forwardRef((e,t)=>{let r=P(O,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=E(O,e.__scopeDialog);return s.modal?(0,b.jsx)(h.C,{present:n||s.open,children:(0,b.jsx)(D,{...i,ref:t})}):null});R.displayName=O;var D=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=E(O,r);return(0,b.jsx)(y.A,{as:m.DX,allowPinchZoom:!0,shards:[i.contentRef],children:(0,b.jsx)(f.sG.div,{"data-state":V(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),N="DialogContent",B=n.forwardRef((e,t)=>{let r=P(N,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=E(N,e.__scopeDialog);return(0,b.jsx)(h.C,{present:n||s.open,children:s.modal?(0,b.jsx)(U,{...i,ref:t}):(0,b.jsx)(j,{...i,ref:t})})});B.displayName=N;var U=n.forwardRef((e,t)=>{let r=E(N,e.__scopeDialog),a=n.useRef(null),o=(0,s.s)(t,r.contentRef,a);return n.useEffect(()=>{let e=a.current;if(e)return(0,g.Eq)(e)},[]),(0,b.jsx)(M,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,i.m)(e.onFocusOutside,e=>e.preventDefault())})}),j=n.forwardRef((e,t)=>{let r=E(N,e.__scopeDialog),i=n.useRef(!1),s=n.useRef(!1);return(0,b.jsx)(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||r.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),M=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,d=E(N,r),h=n.useRef(null),f=(0,s.s)(t,h);return(0,p.Oh)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.n,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,b.jsx)(c.qW,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":V(d.open),...l,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z,{titleId:d.titleId}),(0,b.jsx)(J,{contentRef:h,descriptionId:d.descriptionId})]})]})}),L="DialogTitle",$=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=E(L,r);return(0,b.jsx)(f.sG.h2,{id:i.titleId,...n,ref:t})});$.displayName=L;var z="DialogDescription",F=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=E(z,r);return(0,b.jsx)(f.sG.p,{id:i.descriptionId,...n,ref:t})});F.displayName=z;var q="DialogClose",W=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=E(q,r);return(0,b.jsx)(f.sG.button,{type:"button",...n,ref:t,onClick:(0,i.m)(e.onClick,()=>s.onOpenChange(!1))})});function V(e){return e?"open":"closed"}W.displayName=q;var H="DialogTitleWarning",[K,G]=(0,a.q)(H,{contentName:N,titleName:L,docsSlug:"dialog"}),Z=({titleId:e})=>{let t=G(H),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},J=({contentRef:e,descriptionId:t})=>{let r=G("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return n.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Y=I,X=S,Q=T,ee=R,et=B,er=$,en=F,ei=W},78552:(e,t,r)=>{"use strict";r.d(t,{$s:()=>u,Kc:()=>h,Kz:()=>d,Sq:()=>f,Vg:()=>l,WA:()=>p,aO:()=>a,fZ:()=>c,zW:()=>o});var n=r(85550),i=r(19782),s=r(42213);function a(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}s.C;class o extends s.C{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class l extends s.C{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}s.C,s.C;class c extends s.C{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class u extends s.C{constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:l,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",a({chain:s&&`${s?.name} (id: ${s?.id})`,from:t?.address,to:f,value:void 0!==p&&`${(0,n.c)(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,i.Q)(c)} gwei`,maxFeePerGas:void 0!==u&&`${(0,i.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.Q)(d)} gwei`,nonce:h})].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class d extends s.C{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let s="Transaction";r&&void 0!==i&&(s=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(s=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(s=`Transaction at block number "${t}" at index "${i}"`),n&&(s=`Transaction with hash "${n}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class h extends s.C{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class f extends s.C{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class p extends s.C{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},78705:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=l(e),a=s[0],o=s[1],c=new i((a+o)*3/4-o),u=0,d=o>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=0,o=n-i;a<o;a+=16383)s.push(function(e,t,n){for(var i,s=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},78912:(e,t,r)=>{"use strict";r.d(t,{DU:()=>tm,AH:()=>tf,i7:()=>tb,I4:()=>ty});var n=r(95836),i=r(65936),s="-ms-",a="-moz-",o="-webkit-",l="comm",c="rule",u="decl",d="@keyframes",h=Math.abs,f=String.fromCharCode,p=Object.assign;function y(e,t){return(e=t.exec(e))?e[0]:e}function g(e,t,r){return e.replace(t,r)}function m(e,t,r){return e.indexOf(t,r)}function b(e,t){return 0|e.charCodeAt(t)}function v(e,t,r){return e.slice(t,r)}function w(e){return e.length}function _(e,t){return t.push(e),e}function x(e,t){return e.filter(function(e){return!y(e,t)})}var E=1,I=1,A=0,S=0,k=0,C="";function P(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:E,column:I,length:a,return:"",siblings:o}}function T(e,t){return p(P("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function O(e){for(;e.root;)e=T(e.root,{children:[e]});_(e,e.siblings)}function R(){return k=S<A?b(C,S++):0,I++,10===k&&(I=1,E++),k}function D(){return b(C,S)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B(e){var t,r;return(t=S-1,r=function e(t){for(;R();)switch(k){case t:return S;case 34:case 39:34!==t&&39!==t&&e(k);break;case 40:41===t&&e(t);break;case 92:R()}return S}(91===e?e+2:40===e?e+1:e),v(C,t,r)).trim()}function U(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function j(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case u:return e.return=e.return||e.value;case l:return"";case d:return e.return=e.value+"{"+U(e.children,n)+"}";case c:if(!w(e.value=e.props.join(",")))return""}return w(r=U(e.children,n))?e.return=e.value+"{"+r+"}":""}function M(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case u:e.return=function e(t,r,n){var i;switch(i=r,45^b(t,0)?(((i<<2^b(t,0))<<2^b(t,1))<<2^b(t,2))<<2^b(t,3):0){case 5103:return o+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return o+t+t;case 4855:return o+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return a+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return o+t+a+t+s+t+t;case 5936:switch(b(t,r+11)){case 114:return o+t+s+g(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return o+t+s+g(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return o+t+s+g(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return o+t+s+t+t;case 6165:return o+t+s+"flex-"+t+t;case 5187:return o+t+g(t,/(\w+).+(:[^]+)/,o+"box-$1$2"+s+"flex-$1$2")+t;case 5443:return o+t+s+"flex-item-"+g(t,/flex-|-self/g,"")+(y(t,/flex-|baseline/)?"":s+"grid-row-"+g(t,/flex-|-self/g,""))+t;case 4675:return o+t+s+"flex-line-pack"+g(t,/align-content|flex-|-self/g,"")+t;case 5548:return o+t+s+g(t,"shrink","negative")+t;case 5292:return o+t+s+g(t,"basis","preferred-size")+t;case 6060:return o+"box-"+g(t,"-grow","")+o+t+s+g(t,"grow","positive")+t;case 4554:return o+g(t,/([^-])(transform)/g,"$1"+o+"$2")+t;case 6187:return g(g(g(t,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),t,"")+t;case 5495:case 3959:return g(t,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return g(g(t,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+s+"flex-pack:$3"),/space-between/,"justify")+o+t+t;case 4200:if(!y(t,/flex-|baseline/))return s+"grid-column-align"+v(t,r)+t;break;case 2592:case 3360:return s+g(t,"template-","")+t;case 4384:case 3616:if(n&&n.some(function(e,t){return r=t,y(e.props,/grid-\w+-end/)}))return~m(t+(n=n[r].value),"span",0)?t:s+g(t,"-start","")+t+s+"grid-row-span:"+(~m(n,"span",0)?y(n,/\d+/):y(n,/\d+/)-y(t,/\d+/))+";";return s+g(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(e){return y(e.props,/grid-\w+-start/)})?t:s+g(g(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return g(t,/(.+)-inline(.+)/,o+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(w(t)-1-r>6)switch(b(t,r+1)){case 109:if(45!==b(t,r+4))break;case 102:return g(t,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+a+(108==b(t,r+3)?"$3":"$2-$3"))+t;case 115:return~m(t,"stretch",0)?e(g(t,"stretch","fill-available"),r,n)+t:t}break;case 5152:case 5920:return g(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,r,n,i,a,o,l){return s+r+":"+n+l+(i?s+r+"-span:"+(a?o:o-n)+l:"")+t});case 4949:if(121===b(t,r+6))return g(t,":",":"+o)+t;break;case 6444:switch(b(t,45===b(t,14)?18:11)){case 120:return g(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+o+(45===b(t,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+s+"$2box$3")+t;case 100:return g(t,":",":"+s)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return g(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,r);return;case d:return U([T(e,{value:g(e.value,"@","@"+o)})],n);case c:if(e.length){var i,l;return i=r=e.props,l=function(t){switch(y(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":O(T(e,{props:[g(t,/:(read-\w+)/,":"+a+"$1")]})),O(T(e,{props:[t]})),p(e,{props:x(r,n)});break;case"::placeholder":O(T(e,{props:[g(t,/:(plac\w+)/,":"+o+"input-$1")]})),O(T(e,{props:[g(t,/:(plac\w+)/,":"+a+"$1")]})),O(T(e,{props:[g(t,/:(plac\w+)/,s+"input-$1")]})),O(T(e,{props:[t]})),p(e,{props:x(r,n)})}return""},i.map(l).join("")}}}function L(e,t,r,n,i,s,a,o,l,u,d,f){for(var p=i-1,y=0===i?s:[""],m=y.length,b=0,w=0,_=0;b<n;++b)for(var x=0,E=v(e,p+1,p=h(w=a[b])),I=e;x<m;++x)(I=(w>0?y[x]+" "+E:g(E,/&\f/g,y[x])).trim())&&(l[_++]=I);return P(e,t,r,0===i?c:o,l,u,d,f)}function $(e,t,r,n,i){return P(e,t,r,u,v(e,0,n),v(e,n+1,-1),n,i)}var z={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},F=r(55036),q=void 0!==F&&void 0!==F.env&&(F.env.REACT_APP_SC_ATTR||F.env.SC_ATTR)||"data-styled",W="active",V="data-styled-version",H="6.3.9",K="/*!sc*/\n",G="undefined"!=typeof window&&"undefined"!=typeof document,Z=void 0===i.createContext,J=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==F&&void 0!==F.env&&void 0!==F.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==F.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==F.env.REACT_APP_SC_DISABLE_SPEEDY&&F.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==F&&void 0!==F.env&&void 0!==F.env.SC_DISABLE_SPEEDY&&""!==F.env.SC_DISABLE_SPEEDY&&"false"!==F.env.SC_DISABLE_SPEEDY&&F.env.SC_DISABLE_SPEEDY),Y={},X=Object.freeze([]),Q=Object.freeze({});function ee(e,t,r){return void 0===r&&(r=Q),e.theme!==r.theme&&e.theme||t||r.theme}var et=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),er=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,en=/(^-|-$)/g;function ei(e){return e.replace(er,"-").replace(en,"")}var es=/(a)(d)/gi,ea=function(e){return String.fromCharCode(e+(e>25?39:97))};function eo(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=ea(t%52)+r;return(ea(t%52)+r).replace(es,"$1-$2")}var el,ec=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},eu=function(e){return ec(5381,e)};function ed(e){return eo(eu(e)>>>0)}function eh(e){return"string"==typeof e}var ef="function"==typeof Symbol&&Symbol.for,ep=ef?Symbol.for("react.memo"):60115,ey=ef?Symbol.for("react.forward_ref"):60112,eg={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},em={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ev=((el={})[ey]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},el[ep]=eb,el);function ew(e){return("type"in e&&e.type.$$typeof)===ep?eb:"$$typeof"in e?ev[e.$$typeof]:eg}var e_=Object.defineProperty,ex=Object.getOwnPropertyNames,eE=Object.getOwnPropertySymbols,eI=Object.getOwnPropertyDescriptor,eA=Object.getPrototypeOf,eS=Object.prototype;function ek(e){return"function"==typeof e}function eC(e){return"object"==typeof e&&"styledComponentId"in e}function eP(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function eT(e,t){return e.join(t||"")}function eO(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function eR(e,t){Object.defineProperty(e,"toString",{value:t})}function eD(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var eN=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e,this._cGroup=0,this._cIndex=0}return e.prototype.indexOfGroup=function(e){if(e===this._cGroup)return this._cIndex;var t=this._cIndex;if(e>this._cGroup)for(var r=this._cGroup;r<e;r++)t+=this.groupSizes[r];else for(r=this._cGroup-1;r>=e;r--)t-=this.groupSizes[r];return this._cGroup=e,this._cIndex=t,t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw eD(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=n;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),o=0,l=(s=0,t.length);s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++,o++);o>0&&this._cGroup>e&&(this._cIndex+=o)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r);t>0&&this._cGroup>e&&(this._cIndex-=t)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,s=n;s<i;s++)t+=this.tag.getRule(s)+K;return t},e}(),eB=new Map,eU=new Map,ej=1,eM=function(e){if(eB.has(e))return eB.get(e);for(;eU.has(ej);)ej++;var t=ej++;return eB.set(e,t),eU.set(t,e),t},eL=function(e,t){ej=t+1,eB.set(e,t),eU.set(t,e)},e$="style[".concat(q,"][").concat(V,'="').concat(H,'"]'),ez=new RegExp("^".concat(q,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),eF=function(e){return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot||"host"in e&&11===e.nodeType},eq=function(e){if(!e)return document;if(eF(e))return e;if("getRootNode"in e){var t=e.getRootNode();if(eF(t))return t}return document},eW=function(e,t,r){for(var n,i=r.split(","),s=0,a=i.length;s<a;s++)(n=i[s])&&e.registerName(t,n)},eV=function(e,t){for(var r,n=(null!=(r=t.textContent)?r:"").split(K),i=[],s=0,a=n.length;s<a;s++){var o=n[s].trim();if(o){var l=o.match(ez);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(eL(u,c),eW(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}},eH=function(e){for(var t=eq(e.options.target).querySelectorAll(e$),r=0,n=t.length;r<n;r++){var i=t[r];i&&i.getAttribute(q)!==W&&(eV(e,i),i.parentNode&&i.parentNode.removeChild(i))}},eK=function(e){var t,n=document.head,i=e||n,s=document.createElement("style"),a=(t=Array.from(i.querySelectorAll("style[".concat(q,"]"))))[t.length-1],o=void 0!==a?a.nextSibling:null;s.setAttribute(q,W),s.setAttribute(V,H);var l=r.nc;return l&&s.setAttribute("nonce",l),i.insertBefore(s,o),s},eG=function(){function e(e){this.element=eK(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){var t;if(e.sheet)return e.sheet;for(var r=null!=(t=e.getRootNode().styleSheets)?t:document.styleSheets,n=0,i=r.length;n<i;n++){var s=r[n];if(s.ownerNode===e)return s}throw eD(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),eZ=function(){function e(e){this.element=eK(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),eJ=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(e===this.length?this.rules.push(t):this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),eY=G,eX={isServer:!G,useCSSOMInjection:!J},eQ=function(){function e(e,t,r){void 0===e&&(e=Q),void 0===t&&(t={});var i=this;this.options=(0,n.Cl)((0,n.Cl)({},eX),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&G&&eY&&(eY=!1,eH(this)),eR(this,function(){for(var e=i.getTag(),t=e.length,r="",n=0;n<t;n++)!function(t){var n=eU.get(t);if(void 0===n)return;var s=i.names.get(n);if(void 0===s||!s.size)return;var a=e.getGroup(t);if(0!==a.length){var o=q+".g"+t+'[id="'+n+'"]',l="";s.forEach(function(e){e.length>0&&(l+=e+",")}),r+=a+o+'{content:"'+l+'"}'+K}}(n);return r})}return e.registerId=function(e){return eM(e)},e.prototype.rehydrate=function(){!this.server&&G&&eH(this)},e.prototype.reconstructWithOptions=function(t,r){void 0===r&&(r=!0);var i=new e((0,n.Cl)((0,n.Cl)({},this.options),t),this.gs,r&&this.names||void 0);return!this.server&&G&&t.target!==this.options.target&&eq(this.options.target)!==eq(t.target)&&eH(i),i},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){var e,t,r;return this.tag||(this.tag=(t=(e=this.options).useCSSOMInjection,r=e.target,new eN(e.isServer?new eJ(r):t?new eG(r):new eZ(r))))},e.prototype.hasNameForId=function(e,t){var r,n;return null!=(n=null==(r=this.names.get(e))?void 0:r.has(t))&&n},e.prototype.registerName=function(e,t){eM(e);var r=this.names.get(e);r?r.add(t):this.names.set(e,new Set([t]))},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(eM(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(eM(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),e0=/&/g;function e1(e){if(-1===e.indexOf("}"))return!1;for(var t=e.length,r=0,n=0,i=!1,s=0;s<t;s++){var a=e.charCodeAt(s);if(0!==n||i||47!==a||42!==e.charCodeAt(s+1))if(i)42===a&&47===e.charCodeAt(s+1)&&(i=!1,s++);else if(34!==a&&39!==a||0!==s&&92===e.charCodeAt(s-1)){if(0===n){if(123===a)r++;else if(125===a&&--r<0)return!0}}else 0===n?n=a:n===a&&(n=0);else i=!0,s++}return 0!==r||0!==n}function e2(e){var t,r,n,i,s,a,o=void 0===e?Q:e,u=o.options,d=void 0===u?Q:u,p=o.plugins,y=void 0===p?X:p,x=function(e,t,r){return r.startsWith(s)&&r.endsWith(s)&&r.replaceAll(s,"").length>0?".".concat(i):e},T=y.slice();T.push(function(e){e.type===c&&e.value.includes("&")&&(a||(a=RegExp("\\".concat(s,"\\b"),"g")),e.props[0]=e.props[0].replace(e0,s).replace(a,x))}),d.prefix&&T.push(M),T.push(j);var O=[],z=(r=(t=T.concat((n=function(e){return O.push(e)},function(e){!e.root&&(e=e.return)&&n(e)}))).length,function(e,n,i,s){for(var a="",o=0;o<r;o++)a+=t[o](e,n,i,s)||"";return a}),F=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r=""),void 0===n&&(n="&"),i=n,s=t,a=void 0;var o,c,u,p=function(e){if(!e1(e))return e;for(var t=e.length,r="",n=0,i=0,s=0,a=!1,o=0;o<t;o++){var l=e.charCodeAt(o);if(0!==s||a||47!==l||42!==e.charCodeAt(o+1))if(a)42===l&&47===e.charCodeAt(o+1)&&(a=!1,o++);else if(34!==l&&39!==l||0!==o&&92===e.charCodeAt(o-1)){if(0===s)if(123===l)i++;else if(125===l){if(--i<0){for(var c=o+1;c<t;){var u=e.charCodeAt(c);if(59===u||10===u)break;c++}c<t&&59===e.charCodeAt(c)&&c++,i=0,o=c-1,n=c;continue}0===i&&(r+=e.substring(n,o+1),n=o+1)}else 59===l&&0===i&&(r+=e.substring(n,o+1),n=o+1)}else 0===s?s=l:s===l&&(s=0);else a=!0,o++}if(n<t){var d=e.substring(n);e1(d)||(r+=d)}return r}(function(e){if(-1===e.indexOf("//"))return e;for(var t=e.length,r=[],n=0,i=0,s=0,a=0;i<t;){var o=e.charCodeAt(i);if(34!==o&&39!==o||0!==i&&92===e.charCodeAt(i-1))if(0===s)if(47===o&&i+1<t&&42===e.charCodeAt(i+1)){for(i+=2;i+1<t&&(42!==e.charCodeAt(i)||47!==e.charCodeAt(i+1));)i++;i+=2}else if(40===o&&i>=3&&108==(32|e.charCodeAt(i-1))&&114==(32|e.charCodeAt(i-2))&&117==(32|e.charCodeAt(i-3)))a=1,i++;else if(a>0)41===o?a--:40===o&&a++,i++;else if(42===o&&i+1<t&&47===e.charCodeAt(i+1))i>n&&r.push(e.substring(n,i)),n=i+=2;else if(47===o&&i+1<t&&47===e.charCodeAt(i+1)){for(i>n&&r.push(e.substring(n,i));i<t&&10!==e.charCodeAt(i);)i++;n=i}else i++;else i++;else 0===s?s=o:s===o&&(s=0),i++}return 0===n?e:(n<t&&r.push(e.substring(n)),r.join(""))}(e)),y=(u=function e(t,r,n,i,s,a,o,c,u){for(var d,p,y,x,A=0,T=0,O=o,U=0,j=0,M=0,z=1,F=1,q=1,W=0,V="",H=s,K=a,G=i,Z=V;F;)switch(M=W,W=R()){case 40:if(108!=M&&58==b(Z,O-1)){-1!=m(Z+=g(B(W),"&","&\f"),"&\f",h(A?c[A-1]:0))&&(q=-1);break}case 34:case 39:case 91:Z+=B(W);break;case 9:case 10:case 13:case 32:Z+=function(e){for(;k=D();)if(k<33)R();else break;return N(e)>2||N(k)>3?"":" "}(M);break;case 92:Z+=function(e,t){for(var r;--t&&R()&&!(k<48)&&!(k>102)&&(!(k>57)||!(k<65))&&(!(k>70)||!(k<97)););return r=S+(t<6&&32==D()&&32==R()),v(C,e,r)}(S-1,7);continue;case 47:switch(D()){case 42:case 47:_((d=function(e,t){for(;R();)if(e+k===57)break;else if(e+k===84&&47===D())break;return"/*"+v(C,t,S-1)+"*"+f(47===e?e:R())}(R(),S),p=r,y=n,x=u,P(d,p,y,l,f(k),v(d,2,-2),0,x)),u),(5==N(M||1)||5==N(D()||1))&&w(Z)&&" "!==v(Z,-1,void 0)&&(Z+=" ");break;default:Z+="/"}break;case 123*z:c[A++]=w(Z)*q;case 125*z:case 59:case 0:switch(W){case 0:case 125:F=0;case 59+T:-1==q&&(Z=g(Z,/\f/g,"")),j>0&&(w(Z)-O||0===z&&47===M)&&_(j>32?$(Z+";",i,n,O-1,u):$(g(Z," ","")+";",i,n,O-2,u),u);break;case 59:Z+=";";default:if(_(G=L(Z,r,n,A,T,s,c,V,H=[],K=[],O,a),a),123===W)if(0===T)e(Z,r,G,G,H,a,O,c,K);else{switch(U){case 99:if(110===b(Z,3))break;case 108:if(97===b(Z,2))break;default:T=0;case 100:case 109:case 115:}T?e(t,G,G,i&&_(L(t,G,G,0,0,s,c,V,s,H=[],O,K),K),s,K,O,c,i?H:K):e(Z,G,G,G,[""],K,0,c,K)}}A=T=j=0,z=q=1,V=Z="",O=o;break;case 58:O=1+w(Z),j=M;default:if(z<1){if(123==W)--z;else if(125==W&&0==z++&&125==(k=S>0?b(C,--S):0,I--,10===k&&(I=1,E--),k))continue}switch(Z+=f(W),W*z){case 38:q=T>0?1:(Z+="\f",-1);break;case 44:c[A++]=(w(Z)-1)*q,q=1;break;case 64:45===D()&&(Z+=B(R())),U=D(),T=O=w(V=Z+=function(e){for(;!N(D());)R();return v(C,e,S)}(S)),W++;break;case 45:45===M&&2==w(Z)&&(z=0)}}return a}("",null,null,null,[""],(c=o=r||t?"".concat(r," ").concat(t," { ").concat(p," }"):p,E=I=1,A=w(C=c),S=0,o=[]),0,[0],o),C="",u);return d.namespace&&(y=function e(t,r){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(r," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(r," ")),t.props=t.props.map(function(e){return"".concat(r," ").concat(e)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,r)),t})}(y,d.namespace)),O=[],U(y,z),O};return F.hash=y.length?y.reduce(function(e,t){return t.name||eD(15),ec(e,t.name)},5381).toString():"",F}var e6=new eQ,e5=e2(),e8={shouldForwardProp:void 0,styleSheet:e6,stylis:e5},e3=Z?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(e8)}}:i.createContext(e8),e4=(e3.Consumer,Z?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:i.createContext(void 0));function e9(){return Z?e8:i.useContext(e3)}function e7(e){if(Z||!i.useMemo)return e.children;var t=e9().styleSheet,r=i.useMemo(function(){var r=t;return e.sheet?r=e.sheet:e.target&&(r=r.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(r=r.reconstructWithOptions({useCSSOMInjection:!1})),r},[e.disableCSSOMInjection,e.sheet,e.target,t]),n=i.useMemo(function(){return e2({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:e.stylisPlugins})},[e.enableVendorPrefixes,e.namespace,e.stylisPlugins]),s=i.useMemo(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:r,stylis:n}},[e.shouldForwardProp,r,n]);return i.createElement(e3.Provider,{value:s},i.createElement(e4.Provider,{value:n},e.children))}var te=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=e5);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,eR(this,function(){throw eD(12,String(r.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=e5),this.name+e.hash},e}();function tt(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;n>="A"&&n<="Z"?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var tr=function(e){return null==e||!1===e||""===e},tn=function(e){var t=[];for(var r in e){var i=e[r];e.hasOwnProperty(r)&&!tr(i)&&(Array.isArray(i)&&i.isCss||ek(i)?t.push("".concat(tt(r),":"),i,";"):eO(i)?t.push.apply(t,(0,n.fX)((0,n.fX)(["".concat(r," {")],tn(i),!1),["}"],!1)):t.push("".concat(tt(r),": ").concat(null==i||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in z||r.startsWith("--")?String(i).trim():"".concat(i,"px"),";")))}return t};function ti(e,t,r,n,i){if(void 0===i&&(i=[]),"string"==typeof e)return e&&i.push(e),i;if(tr(e))return i;if(eC(e))return i.push(".".concat(e.styledComponentId)),i;if(ek(e))return!ek(e)||e.prototype&&e.prototype.isReactComponent||!t?(i.push(e),i):ti(e(t),t,r,n,i);if(e instanceof te)return r?(e.inject(r,n),i.push(e.getName(n))):i.push(e),i;if(eO(e)){for(var s=tn(e),a=0;a<s.length;a++)i.push(s[a]);return i}if(!Array.isArray(e))return i.push(e.toString()),i;for(a=0;a<e.length;a++)ti(e[a],t,r,n,i);return i}function ts(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(ek(r)&&!eC(r))return!1}return!0}var ta=eu(H),to=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&ts(e),this.componentId=t,this.baseHash=ec(ta,t),this.baseStyle=r,eQ.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=eP(n,this.staticRulesId);else{var i=eT(ti(this.rules,e,t,r)),s=eo(ec(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,a)}n=eP(n,s),this.staticRulesId=s}else{for(var o=ec(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=eT(ti(u,e,t,r));o=ec(ec(o,String(c)),d),l+=d}}if(l){var h=eo(o>>>0);if(!t.hasNameForId(this.componentId,h)){var f=r(l,".".concat(h),void 0,this.componentId);t.insertRules(this.componentId,h,f)}n=eP(n,h)}}return{className:n,css:"undefined"==typeof window?t.getTag().getGroup(eM(this.componentId)):""}},e}(),tl=Z?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:i.createContext(void 0);tl.Consumer;var tc={};function tu(e,t,r){var s,a,o,l,c=eC(e),u=!eh(e),d=t.attrs,h=void 0===d?X:d,f=t.componentId,p=void 0===f?(s=t.displayName,a=t.parentComponentId,tc[o="string"!=typeof s?"sc":ei(s)]=(tc[o]||0)+1,l="".concat(o,"-").concat(ed(H+o+tc[o])),a?"".concat(a,"-").concat(l):l):f,y=t.displayName,g=void 0===y?eh(e)?"styled.".concat(e):"Styled(".concat(e.displayName||e.name||"Component",")"):y,m=t.displayName&&t.componentId?"".concat(ei(t.displayName),"-").concat(t.componentId):t.componentId||p,b=c&&e.attrs?e.attrs.concat(h).filter(Boolean):h,v=t.shouldForwardProp;if(c&&e.shouldForwardProp){var w=e.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;v=function(e,t){return w(e,t)&&_(e,t)}}else v=w}var x=new to(r,m,c?e.componentStyle:void 0);function E(e,t){return function(e,t,r){var s,a=e.attrs,o=e.componentStyle,l=e.defaultProps,c=e.foldedComponentIds,u=e.styledComponentId,d=e.target,h=Z?void 0:i.useContext(tl),f=e9(),p=e.shouldForwardProp||f.shouldForwardProp,y=ee(t,h,l)||(Z?void 0:Q),g=function(e,t,r){for(var i,s=(0,n.Cl)((0,n.Cl)({},t),{className:void 0,theme:r}),a=0;a<e.length;a+=1){var o=ek(i=e[a])?i(s):i;for(var l in o)"className"===l?s.className=eP(s.className,o[l]):"style"===l?s.style=(0,n.Cl)((0,n.Cl)({},s.style),o[l]):s[l]=o[l]}return"className"in t&&"string"==typeof t.className&&(s.className=eP(s.className,t.className)),s}(a,t,y),m=g.as||d,b={};for(var v in g)void 0===g[v]||"$"===v[0]||"as"===v||"theme"===v&&g.theme===y||("forwardedAs"===v?b.as=g.forwardedAs:p&&!p(v,m)||(b[v]=g[v]));var w=(s=e9(),o.generateAndInjectStyles(g,s.styleSheet,s.stylis)),_=w.className,x=w.css,E=eP(c,u);_&&(E+=" "+_),g.className&&(E+=" "+g.className),b[eh(m)&&!et.has(m)?"class":"className"]=E,r&&(b.ref=r);var I=(0,i.createElement)(m,b);return Z&&x?i.createElement(i.Fragment,null,i.createElement("style",{precedence:"styled-components",href:"sc-".concat(u,"-").concat(_),children:x}),I):I}(I,e,t)}E.displayName=g;var I=i.forwardRef(E);return I.attrs=b,I.componentStyle=x,I.displayName=g,I.shouldForwardProp=v,I.foldedComponentIds=c?eP(e.foldedComponentIds,e.styledComponentId):"",I.styledComponentId=m,I.target=c?e.target:e,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=c?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++)!function e(t,r,n){if(void 0===n&&(n=!1),!n&&!eO(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var i=0;i<r.length;i++)t[i]=e(t[i],r[i]);else if(eO(r))for(var i in r)t[i]=e(t[i],r[i]);return t}(e,t[n],!0);return e}({},e.defaultProps,t):t}}),eR(I,function(){return".".concat(I.styledComponentId)}),u&&function e(t,r,n){if("string"!=typeof r){if(eS){var i=eA(r);i&&i!==eS&&e(t,i,n)}var s=ex(r);eE&&(s=s.concat(eE(r)));for(var a=ew(t),o=ew(r),l=0;l<s.length;++l){var c=s[l];if(!(c in em||n&&n[c]||o&&c in o||a&&c in a)){var u=eI(r,c);try{e_(t,c,u)}catch(e){}}}}return t}(I,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function td(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var th=function(e){return Object.assign(e,{isCss:!0})};function tf(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return ek(e)||eO(e)?th(ti(td(X,(0,n.fX)([e],t,!0)))):0===t.length&&1===e.length&&"string"==typeof e[0]?ti(e):th(ti(td(e,t)))}var tp=function(e){return function e(t,r,i){if(void 0===i&&(i=Q),!r)throw eD(1,r);var s=function(e){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(r,i,tf.apply(void 0,(0,n.fX)([e],s,!1)))};return s.attrs=function(s){return e(t,r,(0,n.Cl)((0,n.Cl)({},i),{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},s.withConfig=function(s){return e(t,r,(0,n.Cl)((0,n.Cl)({},i),s))},s}(tu,e)},ty=tp;et.forEach(function(e){ty[e]=tp(e)});var tg=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ts(e),eQ.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,r,n){var i=n(eT(ti(this.rules,t,r,n)),""),s=this.componentId+e;r.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&eQ.registerId(this.componentId+e);var i=this.componentId+e;this.isStatic?r.hasNameForId(i,i)||this.createStyles(e,t,r,n):(this.removeStyles(e,r),this.createStyles(e,t,r,n))},e}();function tm(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var s=tf.apply(void 0,(0,n.fX)([e],t,!1)),a="sc-global-".concat(ed(JSON.stringify(s))),o=new tg(s,a),l=new WeakMap,c=function(e){var t=e9(),r=Z?void 0:i.useContext(tl),n=l.get(t.styleSheet);if(void 0===n&&(n=t.styleSheet.allocateGSInstance(a),l.set(t.styleSheet,n)),"undefined"!=typeof window&&t.styleSheet.server||u(n,e,t.styleSheet,r,t.stylis),Z||i.useLayoutEffect(function(){return t.styleSheet.server||u(n,e,t.styleSheet,r,t.stylis),function(){var e;o.removeStyles(n,t.styleSheet),e=t.styleSheet.options.target,"undefined"!=typeof document&&(null!=e?e:document).querySelectorAll('style[data-styled-global="'.concat(a,'"]')).forEach(function(e){return e.remove()})}},[n,e,t.styleSheet,r,t.stylis]),Z){var s=a+n,c="undefined"==typeof window?t.styleSheet.getTag().getGroup(eM(s)):"";if(c)return i.createElement("style",{key:"".concat(a,"-").concat(n),"data-styled-global":a,children:c})}return null};function u(e,t,r,i,s){if(o.isStatic)o.renderStyles(e,Y,r,s);else{var a=(0,n.Cl)((0,n.Cl)({},t),{theme:ee(t,i,c.defaultProps)});o.renderStyles(e,a,r,s)}}return i.memo(c)}function tb(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=eT(tf.apply(void 0,(0,n.fX)([e],t,!1)));return new te(ed(i),i)}function tv(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=r.nc,i=eT([n&&'nonce="'.concat(n,'"'),"".concat(q,'="true"'),"".concat(V,'="').concat(H,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw eD(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw eD(2);var t,s=e.instance.toString();if(!s)return[];var a=((t={})[q]="",t[V]=H,t.dangerouslySetInnerHTML={__html:s},t),o=r.nc;return o&&(a.nonce=o),[i.createElement("style",(0,n.Cl)({},a,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new eQ({isServer:!0}),this.sealed=!1}tv.prototype.collectStyles=function(e){if(this.sealed)throw eD(2);return i.createElement(e7,{sheet:this.instance},e)},tv.prototype.interleaveWithNodeStream=function(e){throw eD(3)}},79052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},79109:(e,t,r)=>{"use strict";r.d(t,{W:()=>d});var n=r(5805),i=r(90943),s=r(71948),a=r(16678),o=r(26983),l=r(85436),c=r(31070),u=r(42494);async function d(e,t){let{account:r=e.account,chain:d=e.chain,...h}=t;if(!r)throw new i.T({docsPath:"/docs/actions/wallet/signTransaction"});let f=(0,n.J)(r);(0,c.c)({account:f,...t});let p=await (0,l.T)(e,u.T,"getChainId")({});null!==d&&(0,s.v)({currentChainId:p,chain:d});let y=d?.formatters||e.chain?.formatters,g=y?.transactionRequest?.format||o.Bv;return f.signTransaction?f.signTransaction({...h,chainId:p},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...g({...h,account:f},"signTransaction"),chainId:(0,a.cK)(p),from:f.address}]},{retryCount:0})}},79265:(e,t,r)=>{"use strict";r.d(t,{_:()=>l,k:()=>a});var n=r(84968),i=r(16678);let s={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"},a={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4},o=e=>void 0!==e?BigInt(e):void 0;function l(e){let t,{type:r=2,...a}="string"==typeof e?JSON.parse(e):e;a.accessList&&Array.isArray(a.accessList)?t=a.accessList.map(e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e):a.accessList&&(t=Object.entries(a.accessList).map(e=>({address:e[0],storageKeys:e[1]})));let l=Number(a.chainId??1),c=(0,n.q)(a.data)?a.data:a.data?(0,i.nj)(Uint8Array.from(a.data)):void 0,u=a.nonce?Number(a.nonce):void 0,d={chainId:l,data:c,nonce:u,value:o(a.value),gas:o(a.gas??a.gasLimit)},h=Number(r);if(0===h)return{...a,type:s[h],...d,gasPrice:o(a.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===h)return{...a,type:s[h],...d,gasPrice:o(a.gasPrice),accessList:t,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===h)return{...a,type:s[h],...d,nonce:u,accessList:t,maxFeePerGas:o(a.maxFeePerGas),maxPriorityFeePerGas:o(a.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}},79547:(e,t,r)=>{"use strict";r.d(t,{UC:()=>R,VY:()=>U,ZD:()=>N,ZL:()=>T,bL:()=>P,hE:()=>B,hJ:()=>O,rc:()=>D});var n=r(65936),i=r(86410),s=r(60808),a=r(77906),o=r(13227),l=r(3696),c=r(73788),u="AlertDialog",[d,h]=(0,i.A)(u,[a.Hs]),f=(0,a.Hs)(),p=e=>{let{__scopeAlertDialog:t,...r}=e,n=f(t);return(0,c.jsx)(a.bL,{...n,...r,modal:!0})};p.displayName=u,n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=f(r);return(0,c.jsx)(a.l9,{...i,...n,ref:t})}).displayName="AlertDialogTrigger";var y=e=>{let{__scopeAlertDialog:t,...r}=e,n=f(t);return(0,c.jsx)(a.ZL,{...n,...r})};y.displayName="AlertDialogPortal";var g=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=f(r);return(0,c.jsx)(a.hJ,{...i,...n,ref:t})});g.displayName="AlertDialogOverlay";var m="AlertDialogContent",[b,v]=d(m),w=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:i,...u}=e,d=f(r),h=n.useRef(null),p=(0,s.s)(t,h),y=n.useRef(null);return(0,c.jsx)(a.G$,{contentName:m,titleName:_,docsSlug:"alert-dialog",children:(0,c.jsx)(b,{scope:r,cancelRef:y,children:(0,c.jsxs)(a.UC,{role:"alertdialog",...d,...u,ref:p,onOpenAutoFocus:(0,o.m)(u.onOpenAutoFocus,e=>{e.preventDefault(),y.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,c.jsx)(l.xV,{children:i}),(0,c.jsx)(C,{contentRef:h})]})})})});w.displayName=m;var _="AlertDialogTitle",x=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=f(r);return(0,c.jsx)(a.hE,{...i,...n,ref:t})});x.displayName=_;var E="AlertDialogDescription",I=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=f(r);return(0,c.jsx)(a.VY,{...i,...n,ref:t})});I.displayName=E;var A=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=f(r);return(0,c.jsx)(a.bm,{...i,...n,ref:t})});A.displayName="AlertDialogAction";var S="AlertDialogCancel",k=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=v(S,r),o=f(r),l=(0,s.s)(t,i);return(0,c.jsx)(a.bm,{...o,...n,ref:l})});k.displayName=S;var C=({contentRef:e})=>{let t=`\`${m}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${m}\` by passing a \`${E}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${m}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},P=p,T=y,O=g,R=w,D=A,N=k,B=x,U=I},80044:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});let n=1},80562:(e,t,r)=>{"use strict";r.d(t,{b4:()=>s,gU:()=>o,uP:()=>a});var n=r(68549),i=r(4932);let s={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function a(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?s[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return+(r.v%2n===0n)}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}let o=(0,i.q)("transaction",a)},81218:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(16918);class i extends n.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.sd)(e);const r=(0,n.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),(0,n.uH)(s)}update(e){return(0,n.CC)(this),this.iHash.update(e),this}digestInto(e){(0,n.CC)(this),(0,n.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(e,t,r)=>new i(e,t).update(r).digest();s.create=(e,t)=>new i(e,t)},81243:(e,t,r)=>{"use strict";r.d(t,{UG:()=>a,xo:()=>i,zz:()=>s});var n=r(7506);class i extends n.C{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class s extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class a extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},81280:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(82148),i=r(1176),s=r(76588);function a(e,{docsPath:t,...r}){let a,o=(a=(0,s.l)(e,r))instanceof i.RM?e:a;return new n.zX(o,{docsPath:t,...r})}},81541:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(65936),i=r(92768);let s=function(e){let t=(0,i.Y)(e);return n.useCallback((...e)=>t.current(...e),[t])}},82148:(e,t,r)=>{"use strict";r.d(t,{zX:()=>m,bG:()=>b,M:()=>v,rR:()=>w,Po:()=>_,$S:()=>x});var n=r(5805),i=r(55467),s=r(34226),a=r(36487),o=r(30095);function l({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,o.A)(t[r]):t[r]}`).join(", ")})`}var c=r(72064),u=r(85550),d=r(19782),h=r(59670),f=r(42213),p=r(53861),y=r(78552),g=r(34845);class m extends f.C{constructor(e,{account:t,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:f,value:g,stateOverride:m}){const b=t?(0,n.J)(t):void 0;let v=(0,y.aO)({from:b?.address,to:f,value:void 0!==g&&`${(0,u.c)(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${(0,d.Q)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,d.Q)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,d.Q)(c)} gwei`,nonce:h});m&&(v+=`
${(0,p.uj)(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class b extends f.C{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o}){const u=(0,c.iY)({abi:t,args:r,name:s}),d=u?l({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?(0,a.B)(u,{includeName:!0}):void 0,f=(0,y.aO)({address:n&&(0,g.R)(n),function:h,args:d&&"()"!==d&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=s,this.sender=o}}class v extends f.C{constructor({abi:e,data:t,functionName:r,message:n}){let o,c,u,d,f;if(t&&"0x"!==t)try{const{abiItem:r,errorName:n,args:o}=c=(0,s.W)({abi:e,data:t});if("Error"===n)d=o[0];else if("Panic"===n){const[e]=o;d=i.fD[e]}else{const e=r?(0,a.B)(r,{includeName:!0}):void 0,t=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){o=e}else n&&(d=n);o instanceof h.Wq&&(f=o.signature,u=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${f}.`]),super(d&&"execution reverted"!==d||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,d||f].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.raw=t,this.reason=d,this.signature=f}}class w extends f.C{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class _ extends f.C{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class x extends f.C{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},82230:(e,t,r)=>{"use strict";r.d(t,{BUQ:()=>T,CvZ:()=>B,DAJ:()=>R,Da$:()=>I,Dgp:()=>w,Ipf:()=>O,JOu:()=>ee,Ji6:()=>l,JsK:()=>f,LzQ:()=>X,MQP:()=>k,Ngb:()=>P,O7$:()=>W,Ot7:()=>D,R_T:()=>a,SHY:()=>j,Tsv:()=>E,Uq4:()=>U,UwC:()=>Z,Uyo:()=>N,VCG:()=>i,VO0:()=>_,Vjw:()=>A,XNQ:()=>x,XzN:()=>g,Y0g:()=>c,Y5q:()=>v,_jo:()=>H,_yh:()=>V,aYZ:()=>G,bg4:()=>q,eZ6:()=>C,evr:()=>el,f$j:()=>y,gF:()=>Y,hMG:()=>L,iOv:()=>b,ibr:()=>Q,kz9:()=>p,lUj:()=>M,mMN:()=>u,mZ_:()=>$,nNU:()=>o,ncp:()=>n,pFb:()=>J,qTc:()=>h,rIW:()=>z,rMr:()=>ei,rXw:()=>m,sf7:()=>d,t_l:()=>S,tsw:()=>en,uWs:()=>K,v8P:()=>F,xZX:()=>s,zbS:()=>er});var n=28e5,i=2800001,s=2800003,a=2800006,o=2800007,l=2800008,c=2800009,u=0x1ecdbe1,d=3230004,h=361e4,f=3610001,p=3610003,y=3610005,g=3610006,m=3610007,b=3611e3,v=3704e3,w=3704001,_=3704004,x=5663e3,E=5663001,I=5663004,A=5663005,S=5663006,k=5663007,C=5663008,P=5663015,T=5663016,O=5663017,R=5663021,D=8078e3,N=8078001,B=8078004,U=8078005,j=8078006,M=8078007,L=8078011,$=8078012,z=8078013,F=8078014,q=8078017,W=81e5,V=8100002,H=8100003,K=819e4,G=8190001,Z=8190002,J=8190003,Y=8190004,X=99e5,Q=9900001,ee=9900004;function et([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}function er(e,t){return e instanceof Error&&"SolanaError"===e.name&&(void 0===t||e.context.__code===t)}var en=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([t,i])=>{"cause"===t?n={cause:i.value}:(void 0===r&&(r={__code:e}),Object.defineProperty(r,t,i))}),super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(et).join("&"))}'`),`${r}\``}}(e,r),n),this.context=Object.freeze(void 0===r?{__code:e}:r),this.name="SolanaError"}};function ei(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function es({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:r,rpcEnumError:n},i){let s,a;"string"==typeof n?s=n:(s=Object.keys(n)[0],a=n[s]);let o=e+r.indexOf(s),l=t(o,s,a),c=new en(o,l);return ei(c,i),c}var ea=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"],eo=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function el(e){var t;let r;if("object"==typeof(t=e)&&null!==t&&"code"in t&&"message"in t&&("number"==typeof t.code||"bigint"==typeof t.code)&&"string"==typeof t.message){let{code:t,data:n,message:i}=e,s=Number(t);if(-32002===s){let{err:e,...t}=n,i=e?{cause:function e(t){return"object"==typeof t&&"InstructionError"in t?function e(t,r){let n=Number(t);return es({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:n}:{index:n},orderedErrorNames:ea,rpcEnumError:r},e)}(...t.InstructionError):es({errorCodeBaseOffset:7050001,getErrorContext:(e,t,r)=>705e4===e?{errorName:t,...void 0!==r?{transactionErrorContext:r}:null}:7050030===e?{index:Number(r)}:7050031===e||7050035===e?{accountIndex:Number(r.account_index)}:void 0,orderedErrorNames:eo,rpcEnumError:t},e)}(e)}:null;r=new en(-32002,{...t,...i})}else{let e;switch(s){case -32603:case -32602:case -32600:case -32601:case -32700:case -32012:case -32001:case -32004:case -32014:case -32010:case -32009:case -32007:case -32006:case -32015:e={__serverMessage:i};break;default:"object"!=typeof n||Array.isArray(n)||(e=n)}r=new en(s,e)}}else{let t="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";r=new en(10,{error:e,message:t})}return ei(r,el),r}},82670:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();(function(e){var t=void 0!==i&&i||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(n.blob)return this.blob().then(f);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=d(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},n.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=o(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[o(e)]},u.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},u.prototype.set=function(e,t){this.map[o(e)]=l(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(e,r){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,s=(r=r||{}).body;if(e instanceof m){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",(r.headers||!this.headers)&&(this.headers=new u(r.headers)),this.method=(i=(n=r.method||this.method||"GET").toUpperCase(),g.indexOf(i)>-1?i:n),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal||function(){if("AbortController"in t)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===r.cache||"no-cache"===r.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(r,i){return new Promise(function(s,a){var c=new m(r,i);if(c.signal&&c.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function h(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===c.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var n="response"in d?d.response:d.responseText;setTimeout(function(){s(new v(n,r))},0)},d.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){a(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){a(new e.DOMException("Aborted","AbortError"))},0)},d.open(c.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?d.withCredentials=!0:"omit"===c.credentials&&(d.withCredentials=!1),"responseType"in d&&(n.blob?d.responseType="blob":n.arrayBuffer&&(d.responseType="arraybuffer")),i&&"object"==typeof i.headers&&!(i.headers instanceof u||t.Headers&&i.headers instanceof t.Headers)){var f=[];Object.getOwnPropertyNames(i.headers).forEach(function(e){f.push(o(e)),d.setRequestHeader(e,l(i.headers[e]))}),c.headers.forEach(function(e,t){-1===f.indexOf(t)&&d.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){d.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",h),d.onreadystatechange=function(){4===d.readyState&&c.signal.removeEventListener("abort",h)}),d.send(void 0===c._bodyInit?null:c._bodyInit)})}_.polyfill=!0,t.fetch||(t.fetch=_,t.Headers=u,t.Request=m,t.Response=v),e.Headers=u,e.Request=m,e.Response=v,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},83045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(77097);n.__exportStar(r(44911),t),n.__exportStar(r(60470),t)},83266:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});let n=({origin:e,path:t,query:r={},hash:n={}})=>{let i=new URL(t,e.endsWith("/")?e:`${e}/`);for(let[e,t]of Object.entries(r))void 0!==t&&i.searchParams.set(e,t);let s=Object.entries(n);if(s.length>0){let e=new URLSearchParams;for(let[t,r]of s)void 0!==r&&e.append(t,r);i.hash=e.toString()}return i.href}},83282:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(65936);let i=(0,n.createContext)(void 0);function s(){return(0,n.useContext)(i)}},83319:(e,t,r)=>{"use strict";r.d(t,{kF:()=>s});class n{}class i extends n{constructor(){super()}}class s extends i{constructor(e){super()}}},83792:(e,t,r)=>{"use strict";r.d(t,{IJsonRpcProvider:()=>a.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>o.q$,isJsonRpcError:()=>l.U$,isJsonRpcRequest:()=>l.p3,isJsonRpcResponse:()=>l.tq,isJsonRpcResult:()=>l.xT,isLocalhostUrl:()=>o.z,isWsUrl:()=>o.A1,parseConnectionError:()=>n.eF,payloadId:()=>s.ER}),r(4521);var n=r(49162),i=r(48823);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),r.o(i,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}}),r.o(i,"payloadId")&&r.d(t,{payloadId:function(){return i.payloadId}});var s=r(90571),a=r(83319),o=r(5425),l=r(18139)},83879:(e,t,r)=>{"use strict";function n(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let i=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,n),i}r.d(t,{Y:()=>n})},84904:(e,t)=>{t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=o;u>0;s=256*s+e[t+d],d+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=c}return(f?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,l,c=8*s-i-1,u=(1<<c)-1,d=u>>1,h=5960464477539062e-23*(23===i),f=n?0:s-1,p=n?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(t*l-1)*Math.pow(2,i),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&o,f+=p,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[r+f]=255&a,f+=p,a/=256,c-=8);e[r+f-p]|=128*y}},84984:(e,t,r)=>{"use strict";let n;r.d(t,{L:()=>s});let i=256;function s(e=11){if(!n||i+e>512){n="",i=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(i,i+++e)}},85110:(e,t,r)=>{"use strict";r.d(t,{sc:()=>v,qt:()=>_,Zf:()=>w});var n=r(16918);class i extends n.Vw{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.O8)(this.buffer)}update(e){(0,n.CC)(this),e=(0,n.ZJ)(e),(0,n.DO)(e);let{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let o=Math.min(i-this.pos,s-a);if(o===i){let t=(0,n.O8)(e);for(;i<=s-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.CC)(this),(0,n.Ht)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:s}=this,{pos:a}=this;t[a++]=128,(0,n.uH)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=4*!!n,c=4*!n;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)}(r,i-8,BigInt(8*this.length),s),this.process(r,0);let o=(0,n.O8)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let s=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),a=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),o=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]);var l=r(90627);let c=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),u=new Uint32Array(64);class d extends i{constructor(e=32){super(64,e,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=u[e-15],r=u[e-2],i=(0,n.Ow)(t,7)^(0,n.Ow)(t,18)^t>>>3,s=(0,n.Ow)(r,17)^(0,n.Ow)(r,19)^r>>>10;u[e]=s+u[e-7]+i+u[e-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:l,G:d,H:h}=this;for(let e=0;e<64;e++){var f,p,y,g;let t=h+((0,n.Ow)(o,6)^(0,n.Ow)(o,11)^(0,n.Ow)(o,25))+((f=o)&l^~f&d)+c[e]+u[e]|0,m=((0,n.Ow)(r,2)^(0,n.Ow)(r,13)^(0,n.Ow)(r,22))+((p=r)&(y=i)^p&(g=s)^y&g)|0;h=d,d=l,l=o,o=a+t|0,a=s,s=i,i=r,r=t+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,o,l,d,h)}roundClean(){(0,n.uH)(u)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.uH)(this.buffer)}}let h=l.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),f=h[0],p=h[1],y=new Uint32Array(80),g=new Uint32Array(80);class m extends i{constructor(e=64){super(128,e,16,!1),this.Ah=0|o[0],this.Al=0|o[1],this.Bh=0|o[2],this.Bl=0|o[3],this.Ch=0|o[4],this.Cl=0|o[5],this.Dh=0|o[6],this.Dl=0|o[7],this.Eh=0|o[8],this.El=0|o[9],this.Fh=0|o[10],this.Fl=0|o[11],this.Gh=0|o[12],this.Gl=0|o[13],this.Hh=0|o[14],this.Hl=0|o[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)y[r]=e.getUint32(t),g[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|y[e-15],r=0|g[e-15],n=l.rE(t,r,1)^l.rE(t,r,8)^l.xn(t,r,7),i=l.ry(t,r,1)^l.ry(t,r,8)^l.jm(t,r,7),s=0|y[e-2],a=0|g[e-2],o=l.rE(s,a,19)^l.qh(s,a,61)^l.xn(s,a,6),c=l.ry(s,a,19)^l.Ei(s,a,61)^l.jm(s,a,6),u=l.CW(i,c,g[e-7],g[e-16]),d=l.CQ(u,n,o,y[e-7],y[e-16]);y[e]=0|d,g[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:c,Dl:u,Eh:d,El:h,Fh:m,Fl:b,Gh:v,Gl:w,Hh:_,Hl:x}=this;for(let e=0;e<80;e++){let t=l.rE(d,h,14)^l.rE(d,h,18)^l.qh(d,h,41),E=l.ry(d,h,14)^l.ry(d,h,18)^l.Ei(d,h,41),I=d&m^~d&v,A=h&b^~h&w,S=l.F8(x,E,A,p[e],g[e]),k=l.TH(S,_,t,I,f[e],y[e]),C=0|S,P=l.rE(r,n,28)^l.qh(r,n,34)^l.qh(r,n,39),T=l.ry(r,n,28)^l.Ei(r,n,34)^l.Ei(r,n,39),O=r&i^r&a^i&a,R=n&s^n&o^s&o;_=0|v,x=0|w,v=0|m,w=0|b,m=0|d,b=0|h,({h:d,l:h}=l.WQ(0|c,0|u,0|k,0|C)),c=0|a,u=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let D=l.Vl(C,T,R);r=l.Vr(D,k,P,O),n=0|D}({h:r,l:n}=l.WQ(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=l.WQ(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=l.WQ(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l:u}=l.WQ(0|this.Dh,0|this.Dl,0|c,0|u)),({h:d,l:h}=l.WQ(0|this.Eh,0|this.El,0|d,0|h)),({h:m,l:b}=l.WQ(0|this.Fh,0|this.Fl,0|m,0|b)),({h:v,l:w}=l.WQ(0|this.Gh,0|this.Gl,0|v,0|w)),({h:_,l:x}=l.WQ(0|this.Hh,0|this.Hl,0|_,0|x)),this.set(r,n,i,s,a,o,c,u,d,h,m,b,v,w,_,x)}roundClean(){(0,n.uH)(y,g)}destroy(){(0,n.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class b extends m{constructor(){super(48),this.Ah=0|a[0],this.Al=0|a[1],this.Bh=0|a[2],this.Bl=0|a[3],this.Ch=0|a[4],this.Cl=0|a[5],this.Dh=0|a[6],this.Dl=0|a[7],this.Eh=0|a[8],this.El=0|a[9],this.Fh=0|a[10],this.Fl=0|a[11],this.Gh=0|a[12],this.Gl=0|a[13],this.Hh=0|a[14],this.Hl=0|a[15]}}let v=(0,n.qj)(()=>new d),w=(0,n.qj)(()=>new m),_=(0,n.qj)(()=>new b)},85153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={default:function(){return y},defaultHead:function(){return d}};for(var i in n)Object.defineProperty(t,i,{enumerable:!0,get:n[i]});let s=r(5541),a=r(49750),o=r(73788),l=a._(r(65936)),c=s._(r(87158)),u=r(42753);function d(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(28629);let f=["name","httpEquiv","charSet","itemProp"];function p(e){let t,r,n,i;return e.reduce(h,[]).reverse().concat(d().reverse()).filter((t=new Set,r=new Set,n=new Set,i={},e=>{let s=!0,a=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){a=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=f.length;t<r;t++){let r=f[t];if(e.props.hasOwnProperty(r))if("charSet"===r)n.has(r)?s=!1:n.add(r);else{let t=e.props[r],n=i[r]||new Set;("name"!==r||!a)&&n.has(t)?s=!1:(n.add(t),i[r]=n)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return l.default.cloneElement(e,{key:r})})}let y=function({children:e}){let t=(0,l.useContext)(u.HeadManagerContext);return(0,o.jsx)(c.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},85370:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(78552),i=r(16678),s=r(80562);async function a(e,{blockHash:t,blockNumber:r,blockTag:a,hash:o,index:l,sender:c,nonce:u}){let d=a||"latest",h=void 0!==r?(0,i.cK)(r):void 0,f=null;if(o?f=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.cK)(l)]},{dedupe:!0}):(h||d)&&"number"==typeof l?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||d,(0,i.cK)(l)]},{dedupe:!!h}):c&&"number"==typeof u&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[c,(0,i.cK)(u)]},{dedupe:!0})),!f)throw new n.Kz({blockHash:t,blockNumber:r,blockTag:d,hash:o,index:l});return(e.chain?.formatters?.transaction?.format||s.uP)(f,"getTransaction")}},85436:(e,t,r)=>{"use strict";function n(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}r.d(t,{T:()=>n})},85550:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(1296),i=r(58813);function s(e,t="wei"){return(0,i.J)(e,n.eL[t])}},85604:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(33641).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},86052:(e,t,r)=>{"use strict";r.d(t,{UC:()=>W,ZL:()=>q,bL:()=>z,l9:()=>F});var n=r(65936),i=r(13227),s=r(60808),a=r(86410),o=r(47345),l=r(37656),c=r(93709),u=r(85491),d=r(70232),h=r(22388),f=r(55222),p=r(19698),y=r(3696),g=r(56595),m=r(4109),b=r(18844),v=r(73788),w="Popover",[_,x]=(0,a.A)(w,[d.Bk]),E=(0,d.Bk)(),[I,A]=_(w),S=e=>{let{__scopePopover:t,children:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=E(t),c=n.useRef(null),[h,f]=n.useState(!1),[p=!1,y]=(0,g.i)({prop:i,defaultProp:s,onChange:a});return(0,v.jsx)(d.bL,{...l,children:(0,v.jsx)(I,{scope:t,contentId:(0,u.B)(),triggerRef:c,open:p,onOpenChange:y,onOpenToggle:n.useCallback(()=>y(e=>!e),[y]),hasCustomAnchor:h,onCustomAnchorAdd:n.useCallback(()=>f(!0),[]),onCustomAnchorRemove:n.useCallback(()=>f(!1),[]),modal:o,children:r})})};S.displayName=w;var k="PopoverAnchor";n.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,s=A(k,r),a=E(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return n.useEffect(()=>(o(),()=>l()),[o,l]),(0,v.jsx)(d.Mz,{...a,...i,ref:t})}).displayName=k;var C="PopoverTrigger",P=n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,a=A(C,r),o=E(r),l=(0,s.s)(t,a.triggerRef),c=(0,v.jsx)(p.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$(a.open),...n,ref:l,onClick:(0,i.m)(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:(0,v.jsx)(d.Mz,{asChild:!0,...o,children:c})});P.displayName=C;var T="PopoverPortal",[O,R]=_(T,{forceMount:void 0}),D=e=>{let{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=A(T,t);return(0,v.jsx)(O,{scope:t,forceMount:r,children:(0,v.jsx)(f.C,{present:r||s.open,children:(0,v.jsx)(h.Z,{asChild:!0,container:i,children:n})})})};D.displayName=T;var N="PopoverContent",B=n.forwardRef((e,t)=>{let r=R(N,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=A(N,e.__scopePopover);return(0,v.jsx)(f.C,{present:n||s.open,children:s.modal?(0,v.jsx)(U,{...i,ref:t}):(0,v.jsx)(j,{...i,ref:t})})});B.displayName=N;var U=n.forwardRef((e,t)=>{let r=A(N,e.__scopePopover),a=n.useRef(null),o=(0,s.s)(t,a),l=n.useRef(!1);return n.useEffect(()=>{let e=a.current;if(e)return(0,m.Eq)(e)},[]),(0,v.jsx)(b.A,{as:y.DX,allowPinchZoom:!0,children:(0,v.jsx)(M,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;l.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,i.m)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),j=n.forwardRef((e,t)=>{let r=A(N,e.__scopePopover),i=n.useRef(!1),s=n.useRef(!1);return(0,v.jsx)(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||r.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),M=n.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,...y}=e,g=A(N,r),m=E(r);return(0,l.Oh)(),(0,v.jsx)(c.n,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,v.jsx)(o.qW,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:(0,v.jsx)(d.UC,{"data-state":$(g.open),role:"dialog",id:g.contentId,...m,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose";function $(e){return e?"open":"closed"}n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,s=A(L,r);return(0,v.jsx)(p.sG.button,{type:"button",...n,ref:t,onClick:(0,i.m)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=L,n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=E(r);return(0,v.jsx)(d.i3,{...i,...n,ref:t})}).displayName="PopoverArrow";var z=S,F=P,q=D,W=B},86085:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(56658);function i(e){return{address:e.address,amount:n.oB(e.amount),index:n.oB(e.index),validatorIndex:n.oB(e.validatorIndex)}}function s(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.oB(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.oB(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.oB(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.oB(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.oB(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.oB(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},86126:(e,t,r)=>{"use strict";r.d(t,{Lj:()=>o,WB:()=>c,uL:()=>l});var n=r(68549),i=r(4932),s=r(36688),a=r(80562);let o={"0x0":"reverted","0x1":"success"};function l(e,t){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,s.e)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ME)(e.transactionIndex):null,status:e.status?o[e.status]:null,type:e.type?a.b4[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}let c=(0,i.q)("transactionReceipt",l)},86216:(e,t,r)=>{"use strict";function n(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}r.d(t,{_:()=>n})},86708:(e,t,r)=>{"use strict";var n=r(70436);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}})},87041:(e,t,r)=>{"use strict";r.d(t,{D0:()=>i,Rd:()=>n});let n=new TextEncoder,i=new TextDecoder},87158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(65936),i=n.useLayoutEffect,s=n.useEffect;function a(e){let{headManager:t,reduceComponentsToState:r}=e;function a(){if(t&&t.mountedInstances){let e=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return i(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),i(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},87386:(e,t,r)=>{"use strict";let n;r.d(t,{_:()=>t0});class i{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){let t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){let n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new i("CBWSDK").clear(),new i("walletlink").clear()}}let s=-32602,a=-32603,o=4001,l=4100,c=4200,u=4900,d={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},h="Unspecified error message.";function f(e,t=h){if(e&&Number.isInteger(e)){var r;let t=e.toString();if(y(d,t))return d[t].message;if((r=e)>=-32099&&r<=-32e3)return"Unspecified server error."}return t}function p(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}let m=e=>I(s,e),b=e=>I(a,e),v=e=>A(o,e),w=e=>A(l,e),_=e=>A(c,e),x=e=>A(u,e),E=e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new C(t,r,n)};function I(e,t){let[r,n]=S(t);return new k(e,r||f(e),n)}function A(e,t){let[r,n]=S(t);return new C(e,r||f(e),n)}function S(e){if(e){if("string"==typeof e)return[e];else if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}class k extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}}class C extends k{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function P(e){return Math.floor(e)}var T=r(60065).hp;let O=/^[0-9]*$/,R=/^[a-f0-9]*$/;function D(e){return N(crypto.getRandomValues(new Uint8Array(e)))}function N(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function B(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function U(e,t=!1){let r=e.toString("hex");return t?`0x${r}`:r}function j(e){return U(H(e),!0)}function M(e){return e.toString(10)}function L(e){return`0x${BigInt(e).toString(16)}`}function $(e){return e.startsWith("0x")||e.startsWith("0X")}function z(e){return $(e)?e.slice(2):e}function F(e){return $(e)?`0x${e.slice(2)}`:`0x${e}`}function q(e){if("string"!=typeof e)return!1;let t=z(e).toLowerCase();return R.test(t)}function W(e,t=!1){let r=function(e,t=!1){if("string"==typeof e){let r=z(e).toLowerCase();if(R.test(r))return t?`0x${r}`:r}throw m(`"${String(e)}" is not a hexadecimal string`)}(e,!1);return r.length%2==1&&(r=`0${r}`),t?`0x${r}`:r}function V(e){if("string"==typeof e){let t=z(e).toLowerCase();if(q(t)&&40===t.length)return F(t)}throw m(`Invalid Ethereum address: ${String(e)}`)}function H(e){if(T.isBuffer(e))return e;if("string"==typeof e){if(q(e)){let t=W(e,!1);return T.from(t,"hex")}return T.from(e,"utf8")}throw m(`Not binary data: ${String(e)}`)}function K(e){if("number"==typeof e&&Number.isInteger(e))return P(e);if("string"==typeof e){if(O.test(e))return P(Number(e));if(q(e))return P(Number(BigInt(W(e,!0))))}throw m(`Not an integer: ${String(e)}`)}function G(e){if(null!==e&&("bigint"==typeof e||function(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}(e)))return BigInt(e.toString(10));if("number"==typeof e)return BigInt(K(e));if("string"==typeof e){if(O.test(e))return BigInt(e);if(q(e))return BigInt(W(e,!0))}throw m(`Not an integer: ${String(e)}`)}async function Z(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function J(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Y(e,t){let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}async function X(e,{iv:t,cipherText:r}){let n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}function Q(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function ee(e,t){let r=Q(e);return N(new Uint8Array(await crypto.subtle.exportKey(r,t)))}async function et(e,t){let r=Q(e),n=B(t).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,"private"===e?["deriveKey"]:[])}async function er(e,t){return Y(t,JSON.stringify(e,(e,t)=>t instanceof Error?Object.assign(Object.assign({},t.code?{code:t.code}:{}),{message:t.message}):t))}async function en(e,t){return JSON.parse(await X(t,e))}let ei={storageKey:"ownPrivateKey",keyType:"private"},es={storageKey:"ownPublicKey",keyType:"public"},ea={storageKey:"peerPublicKey",keyType:"public"};class eo{constructor(){this.storage=new i("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(ea,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(es.storageKey),this.storage.removeItem(ei.storageKey),this.storage.removeItem(ea.storageKey)}async generateKeyPair(){let e=await Z();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(ei,e.privateKey),await this.storeKey(es,e.publicKey)}async loadKeysIfNeeded(){null===this.ownPrivateKey&&(this.ownPrivateKey=await this.loadKey(ei)),null===this.ownPublicKey&&(this.ownPublicKey=await this.loadKey(es)),(null===this.ownPrivateKey||null===this.ownPublicKey)&&await this.generateKeyPair(),null===this.peerPublicKey&&(this.peerPublicKey=await this.loadKey(ea)),null===this.sharedSecret&&null!==this.ownPrivateKey&&null!==this.peerPublicKey&&(this.sharedSecret=await J(this.ownPrivateKey,this.peerPublicKey))}async loadKey(e){let t=this.storage.getItem(e.storageKey);return t?et(e.keyType,t):null}async storeKey(e,t){let r=await ee(e.keyType,t);this.storage.setItem(e.storageKey,r)}}let el="4.3.2",ec="@coinbase/wallet-sdk";async function eu(e,t){let r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(t,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":el,"X-Cbw-Sdk-Platform":ec}}),{result:i,error:s}=await n.json();if(s)throw s;return i}let ed="accounts",eh="activeChain",ef="availableChains",ep="walletCapabilities";class ey{constructor(e){var t,r,n;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new eo,this.storage=new i("CBWSDK","SCWStateManager"),this.accounts=null!=(t=this.storage.loadObject(ed))?t:[],this.chain=this.storage.loadObject(eh)||{id:null!=(n=null==(r=e.metadata.appChainIds)?void 0:r[0])?n:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,r,n,i;await (null==(r=(t=this.communicator).waitForPopupLoaded)?void 0:r.call(t));let s=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,null!=(n=e.params)?n:{})}}),a=await this.communicator.postRequestAndWaitForResponse(s);if("failure"in a.content)throw a.content.failure;let o=await et("public",a.sender);await this.keyManager.setPeerPublicKey(o);let l=(await this.decryptResponseMessage(a)).result;if("error"in l)throw l.error;if("eth_requestAccounts"===e.method){let e=l.value;this.accounts=e,this.storage.storeObject(ed,e),null==(i=this.callback)||i.call(this,"accountsChanged",e)}}async request(e){var t;if(0===this.accounts.length)if("wallet_sendCalls"===e.method)return this.sendRequestToPopup(e);else throw w();switch(e.method){case"eth_requestAccounts":return null==(t=this.callback)||t.call(this,"connect",{chainId:L(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return L(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(ep);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw b("No RPC URL set for chain");return eu(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,r;await (null==(r=(t=this.communicator).waitForPopupLoaded)?void 0:r.call(t));let n=await this.sendEncryptedRequest(e),i=(await this.decryptResponseMessage(n)).result;if("error"in i)throw i.error;return i.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:null!=(t=null==(e=this.metadata.appChainIds)?void 0:e[0])?t:1}}async handleSwitchChainRequest(e){var t;let r=e.params;if(!r||!(null==(t=r[0])?void 0:t.chainId))throw m();let n=K(r[0].chainId);if(this.updateChain(n))return null;let i=await this.sendRequestToPopup(e);return null===i&&this.updateChain(n),i}async sendEncryptedRequest(e){let t=await this.keyManager.getSharedSecret();if(!t)throw w("No valid session found, try requestAccounts before other methods");let r=await er({action:e,chainId:this.chain.id},t),n=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(n)}async createRequestMessage(e){let t=await ee("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,r;let n=e.content;if("failure"in n)throw n.failure;let i=await this.keyManager.getSharedSecret();if(!i)throw w("Invalid session");let s=await en(n.encrypted,i),a=null==(t=s.data)?void 0:t.chains;if(a){let e=Object.entries(a).map(([e,t])=>({id:Number(e),rpcUrl:t}));this.storage.storeObject(ef,e),this.updateChain(this.chain.id,e)}let o=null==(r=s.data)?void 0:r.capabilities;return o&&this.storage.storeObject(ep,o),s}updateChain(e,t){var r;let n=null!=t?t:this.storage.loadObject(ef),i=null==n?void 0:n.find(t=>t.id===e);return!!i&&(i!==this.chain&&(this.chain=i,this.storage.storeObject(eh,i),null==(r=this.callback)||r.call(this,"chainChanged",L(i.id))),!0)}}var eg=r(16726);let em="Addresses";function eb(e){return void 0!==e.errorMessage}class ev{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",B(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(e)),a=s.slice(s.byteLength-16),o=s.slice(0,s.byteLength-16),l=new Uint8Array(a),c=new Uint8Array(o);return N(new Uint8Array([...r,...l,...c]))}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((r,n)=>{!async function(){let i=await crypto.subtle.importKey("raw",B(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=B(e),a=s.slice(0,12),o=s.slice(12,28),l=new Uint8Array([...s.slice(28),...o]),c={name:"AES-GCM",iv:new Uint8Array(a)};try{let e=await window.crypto.subtle.decrypt(c,i,l),t=new TextDecoder;r(t.decode(e))}catch(e){n(e)}}()})}}class ew{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;const n=`${t}:${r}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:r,error:n}=await t.json();if(n)throw Error(`Check unseen events failed: ${n}`);let i=null!=(e=null==r?void 0:r.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))?e:[];return this.markUnseenEventsAsSeen(i),i}throw Error(`Check unseen events failed: ${t.status}`)}}(eR=eD||(eD={}))[eR.DISCONNECTED=0]="DISCONNECTED",eR[eR.CONNECTING=1]="CONNECTING",eR[eR.CONNECTED=2]="CONNECTED";class e_{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw Error("webSocket object is not null");return new Promise((e,t)=>{var r;let n;try{this.webSocket=n=new this.WebSocketClass(this.url)}catch(e){t(e);return}null==(r=this.connectionStateListener)||r.call(this,eD.CONNECTING),n.onclose=e=>{var r;this.clearWebSocket(),t(Error(`websocket error ${e.code}: ${e.reason}`)),null==(r=this.connectionStateListener)||r.call(this,eD.DISCONNECTED)},n.onopen=t=>{var r;e(),null==(r=this.connectionStateListener)||r.call(this,eD.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(e=>this.sendData(e)),this.pendingData=[])},n.onmessage=e=>{var t,r;if("h"===e.data)null==(t=this.incomingDataListener)||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null==(r=this.incomingDataListener)||r.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.clearWebSocket(),null==(e=this.connectionStateListener)||e.call(this,eD.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}class ex{constructor({session:e,linkAPIUrl:t,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=P(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,r)=>{let n=e[r];void 0!==n&&t(n)})},this.handleDestroyed=e=>{var t;"1"===e&&(null==(t=this.listener)||t.resetAndReload())},this.handleAccountUpdated=async e=>{var t;let r=await this.cipher.decrypt(e);null==(t=this.listener)||t.accountUpdated(r)},this.handleMetadataUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(t);null==(r=this.listener)||r.metadataUpdated(e,n)},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated("walletUsername",e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated("AppVersion",e)},this.handleChainUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null==(r=this.listener)||r.chainUpdated(n,i)},this.session=e,this.cipher=new ev(e.secret),this.listener=r;const n=new e_(`${t}/rpc`,WebSocket);n.setConnectionStateListener(async e=>{let t=!1;switch(e){case eD.DISCONNECTED:if(!this.destroyed){let e=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||n.connect().catch(()=>{e()})};e()}break;case eD.CONNECTED:t=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case eD.CONNECTING:}this.connected!==t&&(this.connected=t)}),n.setIncomingDataListener(e=>{var t;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let t="IsLinkedOK"===e.type?e.linked:void 0;this.linked=t||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null==(t=this.requestResolutions.get(e.id))||t(e))}),this.ws=n,this.http=new ew(t,e.id,e.key)}connect(){if(this.destroyed)throw Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:P(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&(null==(t=this.onceLinked)||t.call(this)),null==(r=this.listener)||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if("Event"!==e.type||"Web3Response"!==e.event)return;let r=JSON.parse(await this.cipher.decrypt(e.data));if("WEB3_RESPONSE"!==r.type)return;let{id:n,response:i}=r;null==(t=this.listener)||t.handleWeb3ResponseMessage(n,i)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(e=>this.handleIncomingEvent(e))}async publishEvent(e,t,r=!1){let n=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:P(this.nextReqId++),sessionId:this.session.id,event:e,data:n,callWebhook:r};return this.setOnceLinked(async()=>{let e=await this.makeRequest(i);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)return void this.ws.disconnect();try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t={timeout:6e4}){let r,n=e.id;return this.sendData(e),Promise.race([new Promise((e,i)=>{r=window.setTimeout(()=>{i(Error(`request ${n} timed out`))},t.timeout)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(r),e(t),this.requestResolutions.delete(n)})})])}async handleConnected(){return"Fail"!==(await this.makeRequest({type:"HostSession",id:P(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type&&(this.sendData({type:"IsLinked",id:P(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:P(this.nextReqId++),sessionId:this.session.id}),!0)}}class eE{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%0x7fffffff;let e=this._nextRequestId,t=F(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}var eI=r(19842),eA=r(16918);let eS="session:id",ek="session:secret",eC="session:linked";class eP{constructor(e,t,r,n=!1){this.storage=e,this.id=t,this.secret=r,this.key=(0,eA.My)((0,eI.sc)(`${t}, ${r} WalletLink`)),this._linked=!!n}static create(e){return new eP(e,D(16),D(32)).save()}static load(e){let t=e.getItem(eS),r=e.getItem(eC),n=e.getItem(ek);return t&&n?new eP(e,t,n,"1"===r):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(eS,this.id),this.storage.setItem(ek,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(eC,this._linked?"1":"0")}}function eT(){var e,t;return null!=(t=null==(e=null==window?void 0:window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&t}function eO(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode('@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')),document.documentElement.appendChild(e)}var eR,eD,eN,eB,eU,ej,eM,eL,e$,ez,eF,eq,eW,eV=r(52248),eH={},eK=[],eG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,eZ=Array.isArray;function eJ(e,t){for(var r in t)e[r]=t[r];return e}function eY(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function eX(e,t,r){var n,i,s,a={};for(s in t)"key"==s?n=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?eN.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return eQ(e,a,n,i,null)}function eQ(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++eU:i,__i:-1,__u:0};return null==i&&null!=eB.vnode&&eB.vnode(s),s}function e0(e){return e.children}function e1(e,t){this.props=e,this.context=t}function e2(e,t){if(null==t)return e.__?e2(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?e2(e):null}function e6(e){(!e.__d&&(e.__d=!0)&&ej.push(e)&&!e5.__r++||eM!=eB.debounceRendering)&&((eM=eB.debounceRendering)||eL)(e5)}function e5(){for(var e,t,r,n,i,s,a=1;ej.length;)ej.length>a&&ej.sort(e$),e=ej.shift(),a=ej.length,e.__d&&(t=void 0,r=void 0,n=(r=e.__v).__e,i=[],s=[],e.__P&&((t=eJ({},r)).__v=r.__v+1,eB.vnode&&eB.vnode(t),e7(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[n]:null,i,null==n?e2(r):n,!!(32&r.__u),s),t.__v=r.__v,t.__.__k[t.__i]=t,tt(i,t,s),r.__e=r.__=null,t.__e!=n&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(t)));e5.__r=0}function e8(e,t,r,n,i,s,a,o,l,c,u){var d,h,f,p,y,g,m,b=n&&n.__k||eK,v=t.length;for(l=function(e,t,r,n,i){var s,a,o,l,c,u=r.length,d=u,h=0;for(e.__k=Array(i),s=0;s<i;s++)null!=(a=t[s])&&"boolean"!=typeof a&&"function"!=typeof a?("string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?a=e.__k[s]=eQ(null,a,null,null,null):eZ(a)?a=e.__k[s]=eQ(e0,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?a=e.__k[s]=eQ(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):e.__k[s]=a,l=s+h,a.__=e,a.__b=e.__b+1,o=null,-1!=(c=a.__i=function(e,t,r,n){var i,s,a,o=e.key,l=e.type,c=t[r],u=null!=c&&0==(2&c.__u);if(null===c&&null==o||u&&o==c.key&&l==c.type)return r;if(n>+!!u){for(i=r-1,s=r+1;i>=0||s<t.length;)if(null!=(c=t[a=i>=0?i--:s++])&&0==(2&c.__u)&&o==c.key&&l==c.type)return a}return -1}(a,r,l,d))&&(d--,(o=r[c])&&(o.__u|=2)),null==o||null==o.__v?(-1==c&&(i>u?h--:i<u&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,a.__u|=4))):e.__k[s]=null;if(d)for(s=0;s<u;s++)null!=(o=r[s])&&0==(2&o.__u)&&(o.__e==n&&(n=e2(o)),function e(t,r,n){var i,s;if(eB.unmount&&eB.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||tr(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){eB.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&e(i[s],r,n||"function"!=typeof t.type);n||eY(t.__e),t.__c=t.__=t.__e=void 0}(o,o));return n}(r,t,b,l,v),d=0;d<v;d++)null!=(f=r.__k[d])&&(h=-1==f.__i?eH:b[f.__i]||eH,f.__i=d,g=e7(e,f,h,i,s,a,o,l,c,u),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&tr(h.ref,null,f),u.push(f.ref,f.__c||p,f)),null==y&&null!=p&&(y=p),(m=!!(4&f.__u))||h.__k===f.__k?l=function e(t,r,n,i){var s,a;if("function"==typeof t.type){for(s=t.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=t,r=e(s[a],r,n,i));return r}t.__e!=r&&(i&&(r&&t.type&&!r.parentNode&&(r=e2(t)),n.insertBefore(t.__e,r||null)),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8==r.nodeType);return r}(f,l,e,m):"function"==typeof f.type&&void 0!==g?l=g:p&&(l=p.nextSibling),f.__u&=-7);return r.__e=y,l}function e3(e,t,r){"-"==t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||eG.test(t)?r:r+"px"}function e4(e,t,r,n,i){var s,a;r:if("style"==t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||e3(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||e3(e.style,t,r[t])}else if("o"==t[0]&&"n"==t[1])s=t!=(t=t.replace(ez,"$1")),t=(a=t.toLowerCase())in e||"onFocusOut"==t||"onFocusIn"==t?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=eF,e.addEventListener(t,s?eW:eq,s)):e.removeEventListener(t,s?eW:eq,s);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break r}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function e9(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=eF++;else if(t.t<r.u)return;return r(eB.event?eB.event(t):t)}}}function e7(e,t,r,n,i,s,a,o,l,c){var u,d,h,f,p,y,g,m,b,v,w,_,x,E,I,A,S,k=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),s=[o=t.__e=r.__e]),(u=eB.__b)&&u(t);r:if("function"==typeof k)try{if(m=t.props,b="prototype"in k&&k.prototype.render,v=(u=k.contextType)&&n[u.__c],w=u?v?v.props.value:u.__:n,r.__c?g=(d=t.__c=r.__c).__=d.__E:(b?t.__c=d=new k(m,w):(t.__c=d=new e1(m,w),d.constructor=k,d.render=tn),v&&v.sub(d),d.state||(d.state={}),d.__n=n,h=d.__d=!0,d.__h=[],d._sb=[]),b&&null==d.__s&&(d.__s=d.state),b&&null!=k.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=eJ({},d.__s)),eJ(d.__s,k.getDerivedStateFromProps(m,d.__s))),f=d.props,p=d.state,d.__v=t,h)b&&null==k.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),b&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(b&&null==k.getDerivedStateFromProps&&m!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(m,w),t.__v==r.__v||!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(m,d.__s,w)){for(t.__v!=r.__v&&(d.props=m,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&a.push(d);break r}null!=d.componentWillUpdate&&d.componentWillUpdate(m,d.__s,w),b&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(f,p,y)})}if(d.context=w,d.props=m,d.__P=e,d.__e=!1,x=eB.__r,E=0,b){for(d.state=d.__s,d.__d=!1,x&&x(t),u=d.render(d.props,d.state,d.context),I=0;I<d._sb.length;I++)d.__h.push(d._sb[I]);d._sb=[]}else do d.__d=!1,x&&x(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,null!=d.getChildContext&&(n=eJ(eJ({},n),d.getChildContext())),b&&!h&&null!=d.getSnapshotBeforeUpdate&&(y=d.getSnapshotBeforeUpdate(f,p)),A=u,null!=u&&u.type===e0&&null==u.key&&(A=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:eZ(t)?t.map(e):eJ({},t)}(u.props.children)),o=e8(e,eZ(A)?A:[A],t,r,n,i,s,a,o,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),g&&(d.__E=d.__=null)}catch(e){if(t.__v=null,l||null!=s)if(e.then){for(t.__u|=l?160:128;o&&8==o.nodeType&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,t.__e=o}else{for(S=s.length;S--;)eY(s[S]);te(t)}else t.__e=r.__e,t.__k=r.__k,e.then||te(t);eB.__e(e,t,r)}else null==s&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):o=t.__e=function(e,t,r,n,i,s,a,o,l){var c,u,d,h,f,p,y,g=r.props||eH,m=t.props,b=t.type;if("svg"==b?i="http://www.w3.org/2000/svg":"math"==b?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=s){for(c=0;c<s.length;c++)if((f=s[c])&&"setAttribute"in f==!!b&&(b?f.localName==b:3==f.nodeType)){e=f,s[c]=null;break}}if(null==e){if(null==b)return document.createTextNode(m);e=document.createElementNS(i,b,m.is&&m),o&&(eB.__m&&eB.__m(t,s),o=!1),s=null}if(null==b)g===m||o&&e.data==m||(e.data=m);else{if(s=s&&eN.call(e.childNodes),!o&&null!=s)for(g={},c=0;c<e.attributes.length;c++)g[(f=e.attributes[c]).name]=f.value;for(c in g)if(f=g[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=f;else if(!(c in m)){if("value"==c&&"defaultValue"in m||"checked"==c&&"defaultChecked"in m)continue;e4(e,c,null,f,i)}for(c in m)f=m[c],"children"==c?h=f:"dangerouslySetInnerHTML"==c?u=f:"value"==c?p=f:"checked"==c?y=f:o&&"function"!=typeof f||g[c]===f||e4(e,c,f,g[c],i);if(u)o||d&&(u.__html==d.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),e8("template"==t.type?e.content:e,eZ(h)?h:[h],t,r,n,"foreignObject"==b?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:r.__k&&e2(r,0),o,l),null!=s)for(c=s.length;c--;)eY(s[c]);o||(c="value","progress"==b&&null==p?e.removeAttribute("value"):null==p||p===e[c]&&("progress"!=b||p)&&("option"!=b||p==g[c])||e4(e,c,p,g[c],i),c="checked",null!=y&&y!=e[c]&&e4(e,c,y,g[c],i))}return e}(r.__e,t,r,n,i,s,a,l,c);return(u=eB.diffed)&&u(t),128&t.__u?void 0:o}function te(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(te)}function tt(e,t,r){for(var n=0;n<r.length;n++)tr(r[n],r[++n],r[++n]);eB.__c&&eB.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){eB.__e(e,t.__v)}})}function tr(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){eB.__e(e,r)}}function tn(e,t,r){return this.constructor(e,r)}function ti(e,t,r){var n,i,s,a;t==document&&(t=document.documentElement),eB.__&&eB.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,s=[],a=[],e7(t,e=(!n&&r||t).__k=eX(e0,null,[e]),i||eH,eH,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?eN.call(t.childNodes):null,s,!n&&r?r:i?i.__e:t.firstChild,n,a),tt(s,e,a)}eN=eK.slice,eB={__e:function(e,t,r,n){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},eU=0,e1.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=eJ({},this.state),"function"==typeof e&&(e=e(eJ({},r),this.props)),e&&eJ(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),e6(this))},e1.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),e6(this))},e1.prototype.render=e0,ej=[],eL="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e$=function(e,t){return e.__v.__b-t.__v.__b},e5.__r=0,ez=/(PointerCapture)$|Capture$/i,eF=0,eq=e9(!1),eW=e9(!0);var ts,ta,to,tl,tc=0,tu=[],td=eB,th=td.__b,tf=td.__r,tp=td.diffed,ty=td.__c,tg=td.unmount,tm=td.__;function tb(e,t){td.__h&&td.__h(ta,e,tc||t),tc=0;var r=ta.__H||(ta.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function tv(e,t,r){var n=tb(ts++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):tI(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=ta,!ta.__f)){var i=function(e,t,r){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!s||s.call(this,e,t,r);var a=n.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}}),s&&s.call(this,e,t,r)||a};ta.__f=!0;var s=ta.shouldComponentUpdate,a=ta.componentWillUpdate;ta.componentWillUpdate=function(e,t,r){if(this.__e){var n=s;s=void 0,i(e,t,r),s=n}a&&a.call(this,e,t,r)},ta.shouldComponentUpdate=i}return n.__N||n.__}function tw(){for(var e;e=tu.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(tx),e.__H.__h.forEach(tE),e.__H.__h=[]}catch(t){e.__H.__h=[],td.__e(t,e.__v)}}td.__b=function(e){ta=null,th&&th(e)},td.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),tm&&tm(e,t)},td.__r=function(e){tf&&tf(e),ts=0;var t=(ta=e.__c).__H;t&&(to===ta?(t.__h=[],ta.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(tx),t.__h.forEach(tE),t.__h=[],ts=0)),to=ta},td.diffed=function(e){tp&&tp(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==tu.push(t)&&tl===td.requestAnimationFrame||((tl=td.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),t_&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);t_&&(t=requestAnimationFrame(r))})(tw)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),to=ta=null},td.__c=function(e,t){t.some(function(e){try{e.__h.forEach(tx),e.__h=e.__h.filter(function(e){return!e.__||tE(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],td.__e(r,e.__v)}}),ty&&ty(e,t)},td.unmount=function(e){tg&&tg(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{tx(e)}catch(e){t=e}}),r.__H=void 0,t&&td.__e(t,r.__v))};var t_="function"==typeof requestAnimationFrame;function tx(e){var t=ta,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),ta=t}function tE(e){var t=ta;e.__c=e.__(),ta=t}function tI(e,t){return"function"==typeof t?t(e):t}class tA{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=eT()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&ti(eX("div",null,eX(tS,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>eX(tk,Object.assign({},t,{key:e}))))),this.root)}}let tS=e=>eX("div",{class:(0,eV.$)("-cbwsdk-snackbar-container")},eX("style",null,".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),eX("div",{class:"-cbwsdk-snackbar"},e.children)),tk=({autoExpand:e,message:t,menuItems:r})=>{var n,i,s,a;let[o,l]=(tc=1,tv(tI,!0)),[c,u]=(tc=1,tv(tI,null!=e&&e));return n=()=>{let e=[window.setTimeout(()=>{l(!1)},1),window.setTimeout(()=>{u(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}},i=tb(ts++,3),!td.__s&&(s=i.__H,a=void 0,!s||s.length!==a.length||a.some(function(e,t){return e!==s[t]}))&&(i.__=n,i.u=void 0,ta.__H.__h.push(i)),eX("div",{class:(0,eV.$)("-cbwsdk-snackbar-instance",o&&"-cbwsdk-snackbar-instance-hidden",c&&"-cbwsdk-snackbar-instance-expanded")},eX("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{u(!c)}},eX("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",eX("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),eX("div",{class:"-gear-container"},!c&&eX("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eX("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),eX("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&eX("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((e,t)=>eX("div",{class:(0,eV.$)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},eX("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eX("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),eX("span",{class:(0,eV.$)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))},tC="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class tP{constructor(){this.attached=!1,this.snackbar=new tA}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,eO()}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:tC,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}class tT{constructor(){this.root=null,this.darkMode=eT()}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),eO()}present(e){this.render(e)}clear(){this.render(null)}render(e){!this.root||(ti(null,this.root),e&&ti(eX(tO,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}let tO=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>eX(tS,{darkMode:r},eX("div",{class:"-cbwsdk-redirect-dialog"},eX("style",null,".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),eX("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),eX("div",{class:(0,eV.$)("-cbwsdk-redirect-dialog-box",r?"dark":"light")},eX("p",null,e),eX("button",{onClick:n},t)))),tR="https://www.walletlink.org";class tD{constructor(){this.attached=!1,this.redirectDialog=new tT}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",function(){try{if(function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top)return window.top.location;return window.location}catch(e){return window.location}}().href),e&&t.searchParams.append("wl_url",e);let r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class tN{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)}(),this.linkedUpdated=e=>{this.isLinked=e;let t=this.storage.getItem(em);if(e&&(this._session.linked=e),this.isUnlinkedErrorState=!1,t){let r=t.split(" "),n="true"===this.storage.getItem("IsStandaloneSigning");""===r[0]||e||!this._session.linked||n||(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(t,Number.parseInt(e,10)))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),tN.accountRequestCallbackIds.size>0&&(Array.from(tN.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(t,{method:"requestEthereumAccounts",result:[e]})}),tN.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:t,ui:r,connection:n}=this.subscribe();this._session=t,this.connection=n,this.relayEventManager=new eE,this.ui=r,this.ui.attach()}subscribe(){let e=eP.load(this.storage)||eP.create(this.storage),{linkAPIUrl:t}=this,r=new ex({session:e,linkAPIUrl:t,listener:this}),n=this.isMobileWeb?new tD:new tP;return r.connect(),{session:e,ui:n,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{let e=eP.load(this.storage);(null==e?void 0:e.id)===this._session.id&&i.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:M(e.weiValue),data:U(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?M(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?M(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?M(e.gasPriceInWei):null,gasLimit:e.gasLimit?M(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:M(e.weiValue),data:U(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?M(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?M(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?M(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?M(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:U(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null,r=D(8),n=n=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,n),null==t||t()};return new Promise((i,s)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,e=>{if(null==t||t(),eb(e))return s(Error(e.errorMessage));i(e)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,t){let r={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",r,!0).then(e=>{}).catch(e=>{this.handleWeb3ResponseMessage(r.id,{method:t.method,errorMessage:e.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof tD)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e,t){if("requestEthereumAccounts"===t.method){tN.accountRequestCallbackIds.forEach(e=>this.invokeCallback(e,t)),tN.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,r){var n;let i=null!=(n=null==r?void 0:r.message)?n:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:i})}invokeCallback(e,t){let r=this.relayEventManager.callbacks.get(e);r&&(r(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){let{appName:e,appLogoUrl:t}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},n=D(8);return new Promise((e,t)=>{this.relayEventManager.callbacks.set(n,r=>{if(eb(r))return t(Error(r.errorMessage));e(r)}),tN.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,r)})}watchAsset(e,t,r,n,i,s){let a={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:i},chainId:s}},o=null,l=D(8),c=e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,e),null==o||o()};return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==o||o(),eb(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,t,r,n,i,s){let a={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:s}},o=null,l=D(8),c=e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,e),null==o||o()};return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==o||o(),eb(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,t){let r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},n=null,i=D(8),s=e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,e),null==n||n()};return n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(i,r=>(null==n||n(),eb(r)&&r.errorCode)?t(E({code:r.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):eb(r)?t(Error(r.errorMessage)):void e(r)),this.publishWeb3RequestEvent(i,r)})}}tN.accountRequestCallbackIds=new Set;var tB=r(60065).hp;let tU="DefaultChainId",tj="DefaultJsonRpcUrl";class tM{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new i("walletlink",tR),this.callback=e.callback||null;const t=this._storage.getItem(em);if(t){const e=t.split(" ");""!==e[0]&&(this._addresses=e.map(e=>V(e)))}this.initializeRelay()}getSession(){let{id:e,secret:t}=this.initializeRelay().getWalletLinkSession();return{id:e,secret:t}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return null!=(e=this._storage.getItem(tj))?e:void 0}set jsonRpcUrl(e){this._storage.setItem(tj,e)}updateProviderInfo(e,t){var r;this.jsonRpcUrl=e;let n=this.getChainId();this._storage.setItem(tU,t.toString(10)),K(t)!==n&&(null==(r=this.callback)||r.call(this,"chainChanged",L(t)))}async watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw m("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw m(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw m("Options are required");if(!(null==t?void 0:t.options.address))throw m("Address is required");let r=this.getChainId(),{address:n,symbol:i,image:s,decimals:a}=t.options,o=this.initializeRelay(),l=await o.watchAsset(t.type,n,i,a,s,null==r?void 0:r.toString());return!eb(l)&&!!l.result}async addEthereumChain(e){var t,r;let n=e[0];if((null==(t=n.rpcUrls)?void 0:t.length)===0)throw m("please pass in at least 1 rpcUrl");if(!n.chainName||""===n.chainName.trim())throw m("chainName is a required field");if(!n.nativeCurrency)throw m("nativeCurrency is a required field");let i=Number.parseInt(n.chainId,16);if(i===this.getChainId())return!1;let s=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:o=[],chainName:l,iconUrls:c=[],nativeCurrency:u}=n,d=await s.addEthereumChain(i.toString(),a,c,o,l,u);if(eb(d))return!1;if((null==(r=d.result)?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],i),null;throw b("unable to add ethereum chain")}async switchEthereumChain(e){let t=Number.parseInt(e[0].chainId,16),r=this.initializeRelay(),n=await r.switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if(eb(n))throw n;let i=n.result;return i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var r;if(!Array.isArray(e))throw Error("addresses is not an array");let n=e.map(e=>V(e));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,null==(r=this.callback)||r.call(this,"accountsChanged",n),this._storage.setItem(em,n.join(" ")))}async request(e){let t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return L(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw b("No RPC URL set for chain");return eu(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){let t=V(e);if(!this._addresses.map(e=>V(e)).includes(t))throw Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?V(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let r=e.to?V(e.to):null,n=null!=e.value?G(e.value):BigInt(0),i=e.data?H(e.data):tB.alloc(0),s=null!=e.nonce?K(e.nonce):null,a=null!=e.gasPrice?G(e.gasPrice):null,o=null!=e.maxFeePerGas?G(e.maxFeePerGas):null,l=null!=e.maxPriorityFeePerGas?G(e.maxPriorityFeePerGas):null;return{fromAddress:t,toAddress:r,weiValue:n,data:i,nonce:s,gasPriceInWei:a,maxFeePerGas:o,maxPriorityFeePerGas:l,gasLimit:null!=e.gas?G(e.gas):null,chainId:e.chainId?K(e.chainId):this.getChainId()}}async ecRecover(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw m();let n=this.initializeRelay(),i=await n.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:j(r[0]),signature:j(r[1]),addPrefix:"personal_ecRecover"===t}});if(eb(i))throw i;return i.result}getChainId(){var e;return Number.parseInt(null!=(e=this._storage.getItem(tU))?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return null==(e=this.callback)||e.call(this,"connect",{chainId:L(this.getChainId())}),this._addresses;let r=this.initializeRelay(),n=await r.requestEthereumAccounts();if(eb(n))throw n;if(!n.result)throw Error("accounts received is empty");return this._setAddresses(n.result),null==(t=this.callback)||t.call(this,"connect",{chainId:L(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw m();let t=e[1],r=e[0];this._ensureKnownAddress(t);let n=this.initializeRelay(),i=await n.sendRequest({method:"signEthereumMessage",params:{address:V(t),message:j(r),addPrefix:!0,typedDataJson:null}});if(eb(i))throw i;return i.result}async _eth_signTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signEthereumTransaction(t);if(eb(n))throw n;return n.result}async _eth_sendRawTransaction(e){let t=H(e[0]),r=this.initializeRelay(),n=await r.submitEthereumTransaction(t,this.getChainId());if(eb(n))throw n;return n.result}async _eth_sendTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signAndSubmitEthereumTransaction(t);if(eb(n))throw n;return n.result}async signTypedData(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw m();let n=r[+("eth_signTypedData_v1"===t)],i=r[+("eth_signTypedData_v1"!==t)];this._ensureKnownAddress(n);let s=this.initializeRelay(),a=await s.sendRequest({method:"signEthereumMessage",params:{address:V(n),message:U(({eth_signTypedData_v1:eg.hashForSignTypedDataLegacy,eth_signTypedData_v3:eg.hashForSignTypedData_v3,eth_signTypedData_v4:eg.hashForSignTypedData_v4,eth_signTypedData:eg.hashForSignTypedData_v4})[t]({data:function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw m(`Not a JSON string or an object: ${String(e)}`)}(i)}),!0),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});if(eb(a))throw a;return a.result}initializeRelay(){return this._relay||(this._relay=new tN({linkAPIUrl:tR,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}let tL="SignerType",t$=new i("CBWSDK","SignerConfigurator");async function tz(e){let{communicator:t,metadata:r,handshakeRequest:n,callback:i}=e;tF(t,r,i).catch(()=>{});let s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:n})},{data:a}=await t.postRequestAndWaitForResponse(s);return a}async function tF(e,t,r){await e.onMessage(({event:e})=>"WalletLinkSessionRequest"===e);let n=new tM({metadata:t,callback:r});e.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}let tq=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,{checkCrossOriginOpenerPolicy:tW,getCrossOriginOpenerPolicy:tV}={getCrossOriginOpenerPolicy:()=>void 0===n?"undefined":n,checkCrossOriginOpenerPolicy:async()=>{if("undefined"==typeof window){n="non-browser-env";return}try{let e=`${window.location.origin}${window.location.pathname}`,t=await fetch(e,{method:"HEAD"});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let r=t.headers.get("Cross-Origin-Opener-Policy");n=null!=r?r:"null","same-origin"===n&&console.error(tq)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),n="error"}}},tH={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:tC,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},tK=null;class tG{constructor({url:e="https://keys.coinbase.com/connect",metadata:t,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{let t=this.onMessage(({requestId:t})=>t===e.id);return this.postMessage(e),await t},this.onMessage=async e=>new Promise((t,r)=>{let n=r=>{if(r.origin!==this.url.origin)return;let i=r.data;e(i)&&(t(i),window.removeEventListener("message",n),this.listeners.delete(n))};window.addEventListener("message",n),this.listeners.set(n,{reject:r})}),this.disconnect=()=>{var e;(e=this.popup)&&!e.closed&&e.close(),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(v("Request rejected")),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await function(e){let t=(window.innerWidth-420)/2+window.screenX,r=(window.innerHeight-540)/2+window.screenY;function n(){let n=`wallet_${crypto.randomUUID()}`,i=window.open(e,n,`width=420, height=540, left=${t}, top=${r}`);return(null==i||i.focus(),i)?i:null}var i=e;for(let[e,t]of Object.entries({sdkName:ec,sdkVersion:el,origin:window.location.origin,coop:tV()}))i.searchParams.append(e,t.toString());let s=n();if(!s){let e=function(){if(!tK){let e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),(tK=new tA).attach(e)}return tK}();return new Promise((t,r)=>{e.presentItem({autoExpand:!0,message:"Popup was blocked. Try again.",menuItems:[Object.assign(Object.assign({},tH),{onClick:()=>{(s=n())?t(s):r(b("Popup window was blocked")),e.clear()}})]})})}return Promise.resolve(s)}(this.url),this.onMessage(({event:e})=>"PopupUnload"===e).then(this.disconnect).catch(()=>{}),this.onMessage(({event:e})=>"PopupLoaded"===e).then(e=>{this.postMessage({requestId:e.id,data:{version:el,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw b();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=r}}var tZ=r(7764);class tJ extends tZ.b{}var tY=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class tX extends tJ{constructor(e){var{metadata:t}=e,r=e.preference,{keysUrl:n}=r,i=tY(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=i,this.communicator=new tG({url:n,metadata:t,preference:i});const s=t$.getItem(tL);s&&(this.signer=this.initSigner(s))}async request(e){try{if(!function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw m({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw m({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw m({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw _()}}(e),!this.signer)switch(e.method){case"eth_requestAccounts":{let t=await this.requestSignerSelection(e),r=this.initSigner(t);await r.handshake(e),this.signer=r,t$.setItem(tL,t);break}case"wallet_sendCalls":{let t=this.initSigner("scw");await t.handshake({method:"handshake"});let r=await t.request(e);return await t.cleanup(),r}case"wallet_getCallsStatus":return eu(e,"https://rpc.wallet.coinbase.com");case"net_version":return 1;case"eth_chainId":return L(1);default:throw w("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){let e,t,{code:r}=n;return r===l&&this.disconnect(),Promise.reject((e=function(e,{shouldIncludeStack:t=!1}={}){var r,n;let i={};if(e&&"object"==typeof e&&!Array.isArray(e)&&y(e,"code")&&Number.isInteger(r=e.code)&&(d[r.toString()]||(n=r)>=-32099&&n<=-32e3))i.code=e.code,e.message&&"string"==typeof e.message?(i.message=e.message,y(e,"data")&&(i.data=e.data)):(i.message=f(i.code),i.data={originalError:p(e)});else i.code=a,i.message=g(e,"message")?e.message:h,i.data={originalError:p(e)};return t&&(i.stack=g(e,"stack")?e.stack:void 0),i}(function(e){var t;if("string"==typeof e)return{message:e,code:a};if(eb(e)){let r=e.errorMessage,n=null!=(t=e.errorCode)?t:r.match(/(denied|rejected)/i)?o:void 0;return Object.assign(Object.assign({},e),{message:r,code:n,data:{method:e.method}})}return e}(n),{shouldIncludeStack:!0}),(t=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors")).searchParams.set("version",el),t.searchParams.set("code",e.code.toString()),t.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:t.href})))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await (null==(e=this.signer)?void 0:e.cleanup()),this.signer=null,i.clearAll(),this.emit("disconnect",x("User initiated disconnection"))}requestSignerSelection(e){return tz({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return function(e){let{signerType:t,metadata:r,communicator:n,callback:i}=e;switch(t){case"scw":return new ey({metadata:r,callback:i,communicator:n});case"walletlink":return new tM({metadata:r,callback:i})}}({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}let tQ={options:"all"};function t0(e){new i("CBWSDK").setItem("VERSION",el),tW();let t={metadata:{appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||"",appChainIds:e.appChainIds||[]},preference:Object.assign(tQ,null!=(r=e.preference)?r:{})};var r,n=t.preference;if(n){if(!["all","smartWalletOnly","eoaOnly"].includes(n.options))throw Error(`Invalid options: ${n.options}`);if(n.attribution&&void 0!==n.attribution.auto&&void 0!==n.attribution.dataSuffix)throw Error("Attribution cannot contain both auto and dataSuffix properties")}let s=null;return{getProvider:()=>{var e;let r;return s||(s=null!=(e=function({metadata:e,preference:t}){var r,n;let{appName:i,appLogoUrl:s,appChainIds:a}=e;if("smartWalletOnly"!==t.options){let e=globalThis.coinbaseWalletExtension;if(e)return null==(r=e.setAppInfo)||r.call(e,i,s,a,t),e}let o=function(){var e,t;try{let r=globalThis;return null!=(e=r.ethereum)?e:null==(t=r.top)?void 0:t.ethereum}catch(e){return}}();if(null==o?void 0:o.isCoinbaseBrowser)return null==(n=o.setAppInfo)||n.call(o,i,s,a,t),o}(r={metadata:t.metadata,preference:t.preference}))?e:new tX(r)),s}}}},87444:(e,t,r)=>{"use strict";r.d(t,{l:()=>l});var n=r(41012),i=r(61676),s=r(67218),a=r(63331);class o{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new o({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let t=(0,n.dS)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,n.yi)(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=(0,a.C)(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error(`Too large map object: ${n}`);for(let n of r){let r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=0x100000000)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function l(e,t){return new o(t).encodeSharedRef(e)}},87890:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(71860),i=r(87041);class s extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}class a extends s{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function o(e){let t,r;if("string"!=typeof e)throw new a("JWTs must use Compact JWS serialization, JWT must be a string");let{1:s,length:o}=e.split(".");if(5===o)throw new a("Only JWTs using Compact JWS serialization can be decoded");if(3!==o)throw new a("Invalid JWT");if(!s)throw new a("JWTs must contain a payload");try{t=(0,n.D)(s)}catch(e){throw new a("Failed to base64url decode the payload")}try{r=JSON.parse(i.D0.decode(t))}catch(e){throw new a("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new a("Invalid JWT Claims Set");return r}},88099:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(n.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:n.name})}}},88865:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(49139);let i=new Map;function s({fn:e,id:t,shouldSplitBatch:r,wait:s=0,sort:a}){let o=async()=>{let t=c();l();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{a&&Array.isArray(e)&&e.sort(a);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},l=()=>i.delete(t),c=()=>i.get(t)||[],u=e=>i.set(t,[...c(),e]);return{flush:l,async schedule(e){let{promise:t,resolve:i,reject:a}=(0,n.Y)();return(r?.([...c().map(({args:e})=>e),e])&&o(),c().length>0)?u({args:e,resolve:i,reject:a}):(u({args:e,resolve:i,reject:a}),setTimeout(o,s)),t}}}},89017:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(78552),i=r(86126),s=r(16678);async function a(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:a}){let o=await e.request({method:"eth_sendRawTransactionSync",params:a?[t,(0,s.cK)(a)]:[t]},{retryCount:0}),l=(e.chain?.formatters?.transactionReceipt?.format||i.uL)(o);if("reverted"===l.status&&r)throw new n.Sq({receipt:l});return l}},89499:(e,t,r)=>{"use strict";function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}r.d(t,{A:()=>n})},90571:(e,t,r)=>{"use strict";r.d(t,{ER:()=>s,Im:()=>l,dZ:()=>c,eX:()=>a,e_:()=>o});var n=r(49162),i=r(4521);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function a(e=6){return BigInt(s(e))}function o(e,t,r){return{id:r||s(),jsonrpc:"2.0",method:e,params:t}}function l(e,t){return{id:e,jsonrpc:"2.0",result:t}}function c(e,t,r){var s,a;return{id:e,jsonrpc:"2.0",error:(s=t,a=r,void 0===s?(0,n.vG)(i.zR):("string"==typeof s&&(s=Object.assign(Object.assign({},(0,n.vG)(i.fO)),{message:s})),void 0!==a&&(s.data=a),(0,n.mE)(s.code)&&(s=(0,n.rI)(s.code)),s))}}},90595:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var n=r(16678);async function i(e,{address:t,blockNumber:r,blockTag:i="latest"}){let s=void 0!==r?(0,n.cK)(r):void 0,a=await e.request({method:"eth_getCode",params:[t,s||i]},{dedupe:!!s});if("0x"!==a)return a}},90943:(e,t,r)=>{"use strict";r.d(t,{T:()=>i,Z:()=>s});var n=r(42213);class i extends n.C{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class s extends n.C{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},91068:(e,t,r)=>{"use strict";r.d(t,{h:()=>p,k:()=>g});var n=r(59670),i=r(76956),s=r(42213),a=r(45113),o=r(13437),l=r(99859),c=r(61144),u=r(38006),d=r(45855),h=r(16678),f=r(97609);function p(e,t){if(e.length!==t.length)throw new n.YE({expectedLength:e.length,givenLength:t.length});let r=y(function({params:e,values:t}){let r=[];for(let p=0;p<e.length;p++)r.push(function e({param:t,value:r}){let p=g(t.type);if(p){let[i,s]=p;return function(t,{length:r,param:i}){let s=null===r;if(!Array.isArray(t))throw new n.dm(t);if(!s&&t.length!==r)throw new n.Nc({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1,o=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(a=!0),o.push(n)}if(s||a){let e=y(o);if(s){let t=(0,h.cK)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,l.xW)([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,l.xW)(o.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:s}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let s=0;s<r.components.length;s++){let a=r.components[s],o=Array.isArray(t)?s:a.name,l=e({param:a,value:t[o]});i.push(l),l.dynamic&&(n=!0)}return{dynamic:n,encoded:n?y(i):(0,l.xW)(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type){var m=r;if(!(0,o.P)(m))throw new i.M({address:m});return{dynamic:!1,encoded:(0,c.db)(m.toLowerCase())}}if("bool"===t.type){var b=r;if("boolean"!=typeof b)throw new s.C(`Invalid boolean value: "${b}" (type: ${typeof b}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,c.db)((0,h.$P)(b))}}if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=f.Ge.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new a.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,h.cK)(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,u.E)(e);if(!r){let t=e;return i%32!=0&&(t=(0,c.db)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,l.xW)([(0,c.db)((0,h.cK)(i,{size:32})),t])}}if(i!==Number.parseInt(r,10))throw new n.gH({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:(0,c.db)(e,{dir:"right"})}}(r,{param:t});if("string"===t.type){var v=r;let e=(0,h.i3)(v),t=Math.ceil((0,u.E)(e)/32),n=[];for(let r=0;r<t;r++)n.push((0,c.db)((0,d.di)(e,32*r,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,l.xW)([(0,c.db)((0,h.cK)((0,u.E)(e),{size:32})),...n])}}throw new n.nK(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[p],value:t[p]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function y(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.E)(i)}let r=[],n=[],i=0;for(let s=0;s<e.length;s++){let{dynamic:a,encoded:o}=e[s];a?(r.push((0,h.cK)(t+i,{size:32})),n.push(o),i+=(0,u.E)(o)):r.push(o)}return(0,l.xW)([...r,...n])}function g(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},91375:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(65936),i=r(86216),s=r(81541);function a(e){let t=(0,s._)(e),r=(0,n.useRef)(!1);(0,n.useEffect)(()=>(r.current=!1,()=>{r.current=!0,(0,i._)(()=>{r.current&&t()})}),[t])}},92045:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(45855),i=r(5247),s=r(68549),a=r(86126),o=r(22513);async function l(e,t){let r;async function l(t){if(t.endsWith(o.vB.slice(2))){let r=(0,i.B)((0,n.iN)(t,-64,-32)),a=(0,n.iN)(t,0,-64).slice(2).match(/.{1,64}/g),l=await Promise.all(a.map(t=>o.BH.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),c=l.some(e=>null===e)?100:l.every(e=>e?.status==="0x1")?200:l.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,s.ME)(r),receipts:l.filter(Boolean),status:c,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:c=!1,chainId:u,receipts:d,version:h="2.0.0",...f}=await l(t.id),[p,y]=(r=f.status)>=100&&r<200?["pending",r]:r>=200&&r<300?["success",r]:r>=300&&r<700?["failure",r]:"CONFIRMED"===r?["success",200]:"PENDING"===r?["pending",100]:[void 0,r];return{...f,atomic:c,chainId:u?(0,s.ME)(u):void 0,receipts:d?.map(e=>({...e,blockNumber:(0,s.uU)(e.blockNumber),gasUsed:(0,s.uU)(e.gasUsed),status:a.Lj[e.status]}))??[],statusCode:y,status:p,version:h}}},92120:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(59670),i=r(99859),s=r(91068);let a="/docs/contract/encodeDeployData";function o(e){let{abi:t,args:r,bytecode:o}=e;if(!r||0===r.length)return o;let l=t.find(e=>"type"in e&&"constructor"===e.type);if(!l)throw new n.YW({docsPath:a});if(!("inputs"in l)||!l.inputs||0===l.inputs.length)throw new n.YF({docsPath:a});let c=(0,s.h)(l.inputs,r);return(0,i.aP)([o,c])}},92122:(e,t,r)=>{"use strict";r.d(t,{o:()=>d});var n=r(42213),i=r(14717),s=r(41347),a=r(16678);let o=new(r(84619)).A(8192);var l=r(73822),c=r(30095),u=r(84984);function d({key:e,methods:t,name:r,request:d,retryCount:h=3,retryDelay:f=150,timeout:p,type:y},g){return{config:{key:e,methods:t,name:r,request:d,retryCount:h,retryDelay:f,timeout:p,type:y},request:function(e,t={}){return async(r,u={})=>{let{dedupe:d=!1,methods:h,retryDelay:f=150,retryCount:p=3,uid:y}={...t,...u},{method:g}=r;if(h?.exclude?.includes(g)||h?.include&&!h.include.includes(g))throw new s.ab(Error("method not supported"),{method:g});let m=d?(0,a.i3)(`${y}.${(0,c.A)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(o.get(r))return o.get(r);let n=e().finally(()=>o.delete(r));return o.set(r,n),n}(()=>(0,l.b)(async()=>{try{return await e(r)}catch(e){switch(e.code){case s.XU.code:throw new s.XU(e);case s.CL.code:throw new s.CL(e);case s.Gi.code:throw new s.Gi(e,{method:r.method});case s.D5.code:throw new s.D5(e);case s.bq.code:throw new s.bq(e);case s.Di.code:throw new s.Di(e);case s.hA.code:throw new s.hA(e);case s.qZ.code:throw new s.qZ(e);case s.YW.code:throw new s.YW(e);case s.ab.code:throw new s.ab(e,{method:r.method});case s.s0.code:throw new s.s0(e);case s.xQ.code:throw new s.xQ(e);case s.vx.code:throw new s.vx(e);case s.sV.code:throw new s.sV(e);case s.Sf.code:throw new s.Sf(e);case s.RV.code:throw new s.RV(e);case s.xq.code:throw new s.xq(e);case s.ch.code:throw new s.ch(e);case s.L5.code:throw new s.L5(e);case s.WT.code:throw new s.WT(e);case s.hl.code:throw new s.hl(e);case s.cg.code:throw new s.cg(e);case s.uL.code:throw new s.uL(e);case s.G1.code:throw new s.G1(e);case s.jz.code:throw new s.jz(e);case 5e3:throw new s.vx(e);case s.nR.code:throw new s.nR(e);default:if(e instanceof n.C)throw e;throw new s.MI(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Ci){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*f},retryCount:p,shouldRetry:({error:e})=>{var t;return"code"in(t=e)&&"number"==typeof t.code?-1===t.code||t.code===s.s0.code||t.code===s.bq.code:!(t instanceof i.Ci)||!t.status||403===t.status||408===t.status||413===t.status||429===t.status||500===t.status||502===t.status||503===t.status||504===t.status||!1}}),{enabled:d,id:m})}}(d,{methods:t,retryCount:h,retryDelay:f,uid:(0,u.L)()}),value:g}}},92402:(e,t,r)=>{"use strict";r.d(t,{XF:()=>i,Zg:()=>c,cr:()=>a,f_:()=>l,sw:()=>o});var n=r(82230);function i(){if(void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.getRandomValues)throw new n.tsw(n.iOv)}function s(){if(!globalThis.isSecureContext)throw new n.tsw(n.qTc)}function a(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new n.tsw(n.JsK)}function o(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.exportKey)throw new n.tsw(n.kz9)}function l(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.sign)throw new n.tsw(n.f$j)}function c(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.verify)throw new n.tsw(n.XzN)}},92658:(e,t,r)=>{"use strict";r.d(t,{L:()=>u});var n=r(14717),i=r(42213);class s extends i.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var a=r(88865),o=r(30095);let l={current:0,take(){return this.current++},reset(){this.current=0}};var c=r(92122);function u(e,t={}){let{batch:r,fetchFn:i,fetchOptions:d,key:h="http",methods:f,name:p="HTTP JSON-RPC",onFetchRequest:y,onFetchResponse:g,retryDelay:m,raw:b}=t;return({chain:u,retryCount:v,timeout:w})=>{let{batchSize:_=1e3,wait:x=0}="object"==typeof r?r:{},E=t.retryCount??v,I=w??t.timeout??1e4,A=e||u?.rpcUrls.default.http[0];if(!A)throw new s;let S=function(e,t={}){let{url:r,headers:i}=function(e){try{let t=new URL(e),r=(()=>{if(t.username){let e=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(e)}`}}}})();return{url:t.toString(),...r}}catch{return{url:e}}}(e);return{async request(e){let{body:s,fetchFn:a=t.fetchFn??fetch,onRequest:c=t.onRequest,onResponse:u=t.onResponse,timeout:d=t.timeout??1e4}=e,h={...t.fetchOptions??{},...e.fetchOptions??{}},{headers:f,method:p,signal:y}=h;try{let e,t=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let a;try{let o=new AbortController;r>0&&(a=setTimeout(()=>{n?o.abort():s(t)},r)),i(await e({signal:o?.signal||null}))}catch(e){e?.name==="AbortError"&&s(t),s(e)}finally{clearTimeout(a)}})()})}(async({signal:e})=>{let t={...h,body:Array.isArray(s)?(0,o.A)(s.map(e=>({jsonrpc:"2.0",id:e.id??l.take(),...e}))):(0,o.A)({jsonrpc:"2.0",id:s.id??l.take(),...s}),headers:{...i,"Content-Type":"application/json",...f},method:p||"POST",signal:y||(d>0?e:null)},n=new Request(r,t),u=await c?.(n,t)??{...t,url:r};return await a(u.url??r,u)},{errorInstance:new n.MU({body:s,url:r}),timeout:d,signal:!0});if(u&&await u(t),t.headers.get("Content-Type")?.startsWith("application/json"))e=await t.json();else{e=await t.text();try{e=JSON.parse(e||"{}")}catch(r){if(t.ok)throw r;e={error:e}}}if(!t.ok)throw new n.Ci({body:s,details:(0,o.A)(e.error)||t.statusText,headers:t.headers,status:t.status,url:r});return e}catch(e){if(e instanceof n.Ci||e instanceof n.MU)throw e;throw new n.Ci({body:s,cause:e,url:r})}}}}(A,{fetchFn:i,fetchOptions:d,onRequest:y,onResponse:g,timeout:I});return(0,c.o)({key:h,methods:f,name:p,async request({method:e,params:t}){let i={method:e,params:t},{schedule:s}=(0,a.u)({id:A,wait:x,shouldSplitBatch:e=>e.length>_,fn:e=>S.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?s(e):[await S.request({body:e})],[{error:l,result:c}]=await o(i);if(b)return{error:l,result:c};if(l)throw new n.J8({body:i,error:l,url:A});return c},retryCount:E,retryDelay:m,timeout:I,type:"http"},{fetchOptions:d,url:A})}}},92722:(e,t,r)=>{"use strict";r.d(t,{MR:()=>l,TN:()=>a,Uv:()=>i,Wq:()=>o,tZ:()=>s});var n,i=((n=i||{})[n.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",n[n.READONLY_SIGNER=2]="READONLY_SIGNER",n[n.WRITABLE=1]="WRITABLE",n[n.READONLY=0]="READONLY",n);function s(e){return e>=2}function a(e){return(1&e)!=0}function o(e,t){return e|t}function l(e){return 2|e}},92751:(e,t,r)=>{"use strict";r.d(t,{V:()=>s});var n=r(45855),i=r(17916);let s=e=>(0,n.di)((0,i.k)(e),0,4)},92768:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(65936),i=r(65991);function s(e){let t=(0,n.useRef)(e);return(0,i.s)(()=>{t.current=e},[e]),t}},92821:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(75104);let i=/^tuple(?<array>(\[(\d*)\])*)$/;function s(e){let t="",r=e.length;for(let s=0;s<r;s++)t+=function e(t){let r=t.type;if(i.test(t.type)&&"components"in t){r="(";let s=t.components.length;for(let n=0;n<s;n++)r+=e(t.components[n]),n<s-1&&(r+=", ");let a=(0,n.Yv)(i,t.type);return r+=`)${a?.array||""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[s]),s!==r-1&&(t+=", ");return t}},94120:(e,t,r)=>{"use strict";async function n(e){return BigInt(await e.request({method:"eth_gasPrice"}))}r.d(t,{L:()=>n})},94156:(e,t,r)=>{"use strict";let n;r.d(t,{_:()=>k,e:()=>C});var i=r(65936),s=r(36550),a=r(81541),o=r(98442),l=r(65991),c=r(92768),u=r(9101),d=r(66673),h=r(55082),f=r(22909),p=r(16339),y=r(83879),g=r(18146);function m(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!(0,g.zv)(null!=(t=e.as)?t:E)||1===i.Children.count(e.children)}let b=(0,i.createContext)(null);b.displayName="TransitionContext";var v=((n=v||{}).Visible="visible",n.Hidden="hidden",n);let w=(0,i.createContext)(null);function _(e){return"children"in e?_(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function x(e,t){let r=(0,c.Y)(e),n=(0,i.useRef)([]),l=(0,o.a)(),u=(0,s.L)(),d=(0,a._)((e,t=g.mK.Hidden)=>{let i=n.current.findIndex(({el:t})=>t===e);-1!==i&&((0,y.Y)(t,{[g.mK.Unmount](){n.current.splice(i,1)},[g.mK.Hidden](){n.current[i].state="hidden"}}),u.microTask(()=>{var e;!_(n)&&l.current&&(null==(e=r.current)||e.call(r))}))}),h=(0,a._)(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>d(e,g.mK.Unmount)}),f=(0,i.useRef)([]),p=(0,i.useRef)(Promise.resolve()),m=(0,i.useRef)({enter:[],leave:[]}),b=(0,a._)((e,r,n)=>{f.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{f.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(m.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?p.current=p.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),v=(0,a._)((e,t,r)=>{Promise.all(m.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=f.current.shift())||e()}).then(()=>r(t))});return(0,i.useMemo)(()=>({children:n,register:h,unregister:d,onStart:b,onStop:v,wait:p,chains:m}),[h,d,n,b,v,m,p])}w.displayName="NestingContext";let E=i.Fragment,I=g.Ac.RenderStrategy,A=(0,g.FX)(function(e,t){let{show:r,appear:n=!1,unmount:s=!0,...o}=e,c=(0,i.useRef)(null),h=m(e),p=(0,d.P)(...h?[c,t]:null===t?[]:[t]);(0,u.g)();let y=(0,f.O_)();if(void 0===r&&null!==y&&(r=(y&f.Uw.Open)===f.Uw.Open),void 0===r)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,E]=(0,i.useState)(r?"visible":"hidden"),A=x(()=>{r||E("hidden")}),[k,C]=(0,i.useState)(!0),P=(0,i.useRef)([r]);(0,l.s)(()=>{!1!==k&&P.current[P.current.length-1]!==r&&(P.current.push(r),C(!1))},[P,r]);let T=(0,i.useMemo)(()=>({show:r,appear:n,initial:k}),[r,n,k]);(0,l.s)(()=>{r?E("visible"):_(A)||null===c.current||E("hidden")},[r,A]);let O={unmount:s},R=(0,a._)(()=>{var t;k&&C(!1),null==(t=e.beforeEnter)||t.call(e)}),D=(0,a._)(()=>{var t;k&&C(!1),null==(t=e.beforeLeave)||t.call(e)}),N=(0,g.Ci)();return i.createElement(w.Provider,{value:A},i.createElement(b.Provider,{value:T},N({ourProps:{...O,as:i.Fragment,children:i.createElement(S,{ref:p,...O,...o,beforeEnter:R,beforeLeave:D})},theirProps:{},defaultTag:i.Fragment,features:I,visible:"visible"===v,name:"Transition"})))}),S=(0,g.FX)(function(e,t){var r,n;let{transition:s=!0,beforeEnter:o,afterEnter:c,beforeLeave:v,afterLeave:A,enter:S,enterFrom:k,enterTo:C,entered:P,leave:T,leaveFrom:O,leaveTo:R,...D}=e,[N,B]=(0,i.useState)(null),U=(0,i.useRef)(null),j=m(e),M=(0,d.P)(...j?[U,t,B]:null===t?[]:[t]),L=null==(r=D.unmount)||r?g.mK.Unmount:g.mK.Hidden,{show:$,appear:z,initial:F}=function(){let e=(0,i.useContext)(b);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[q,W]=(0,i.useState)($?"visible":"hidden"),V=function(){let e=(0,i.useContext)(w);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:H,unregister:K}=V;(0,l.s)(()=>H(U),[H,U]),(0,l.s)(()=>{if(L===g.mK.Hidden&&U.current)return $&&"visible"!==q?void W("visible"):(0,y.Y)(q,{hidden:()=>K(U),visible:()=>H(U)})},[q,U,H,K,$,L]);let G=(0,u.g)();(0,l.s)(()=>{if(j&&G&&"visible"===q&&null===U.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[U,q,G,j]);let Z=F&&!z,J=z&&$&&F,Y=(0,i.useRef)(!1),X=x(()=>{Y.current||(W("hidden"),K(U))},V),Q=(0,a._)(e=>{Y.current=!0,X.onStart(U,e?"enter":"leave",e=>{"enter"===e?null==o||o():"leave"===e&&(null==v||v())})}),ee=(0,a._)(e=>{let t=e?"enter":"leave";Y.current=!1,X.onStop(U,t,e=>{"enter"===e?null==c||c():"leave"===e&&(null==A||A())}),"leave"!==t||_(X)||(W("hidden"),K(U))});(0,i.useEffect)(()=>{j&&s||(Q($),ee($))},[$,j,s]);let et=!(!s||!j||!G||Z),[,er]=(0,h.p)(et,N,$,{start:Q,end:ee}),en=(0,g.oE)({ref:M,className:(null==(n=(0,p.x)(D.className,J&&S,J&&k,er.enter&&S,er.enter&&er.closed&&k,er.enter&&!er.closed&&C,er.leave&&T,er.leave&&!er.closed&&O,er.leave&&er.closed&&R,!er.transition&&$&&P))?void 0:n.trim())||void 0,...(0,h.B)(er)}),ei=0;"visible"===q&&(ei|=f.Uw.Open),"hidden"===q&&(ei|=f.Uw.Closed),$&&"hidden"===q&&(ei|=f.Uw.Opening),$||"visible"!==q||(ei|=f.Uw.Closing);let es=(0,g.Ci)();return i.createElement(w.Provider,{value:X},i.createElement(f.El,{value:ei},es({ourProps:en,theirProps:D,defaultTag:E,features:I,visible:"visible"===q,name:"Transition.Child"})))}),k=(0,g.FX)(function(e,t){let r=null!==(0,i.useContext)(b),n=null!==(0,f.O_)();return i.createElement(i.Fragment,null,!r&&n?i.createElement(A,{ref:t,...e}):i.createElement(S,{ref:t,...e}))}),C=Object.assign(A,{Child:k,Root:A})},94770:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(92821);function i(e){return"function"===e.type?`function ${e.name}(${(0,n.Q)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,n.Q)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,n.Q)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,n.Q)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,n.Q)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}},95277:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(73634),i=r(99859),s=r(38006),a=r(16678);function o(e,t){let r,o;return(0,n.S)((r="string"==typeof e?(0,a.i3)(e):"string"==typeof e.raw?e.raw:(0,a.My)(e.raw),o=(0,a.i3)(`\x19Ethereum Signed Message:
${(0,s.E)(r)}`),(0,i.xW)([o,r])),t)}},95523:(e,t,r)=>{"use strict";r.d(t,{c:()=>h});var n=r(42213);class i extends n.C{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var s=r(85436),a=r(72182),o=r(46403),l=r(49139),c=r(73822),u=r(30095),d=r(92045);async function h(e,t){let r,{id:n,pollingInterval:h=e.pollingInterval,status:p=({statusCode:e})=>200===e||e>=300,retryCount:y=4,retryDelay:g=({count:e})=>200*~~(1<<e),timeout:m=6e4,throwOnFailure:b=!1}=t,v=(0,u.A)(["waitForCallsStatus",e.uid,n]),{promise:w,resolve:_,reject:x}=(0,l.Y)(),E=(0,a.lB)(v,{resolve:_,reject:x},t=>{let a=(0,o.w)(async()=>{let o=e=>{clearTimeout(r),a(),e(),E()};try{let r=await (0,c.b)(async()=>{let t=await (0,s.T)(e,d.k,"getCallsStatus")({id:n});if(b&&"failure"===t.status)throw new i(t);return t},{retryCount:y,delay:g});if(!p(r))return;o(()=>t.resolve(r))}catch(e){o(()=>t.reject(e))}},{interval:h,emitOnBegin:!0});return a});return r=m?setTimeout(()=>{E(),clearTimeout(r),x(new f({id:n}))},m):void 0,await w}class f extends n.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}},95961:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(77097).__exportStar(r(35790),t)},96578:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(65936);let i=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,i,s);return s},s=e=>{let t=e?i(e):i,r=e=>(function(e,t=e=>e){let r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},a=e=>e?s(e):s},97267:e=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},97609:(e,t,r)=>{"use strict";r.d(t,{BD:()=>i,D5:()=>n,Ge:()=>s});let n=/^(.*)\[([0-9]*)\]$/,i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},97650:(e,t,r)=>{"use strict";r.d(t,{Ee:()=>w,ZL:()=>_,k2:()=>b});var n=r(65936),i=r(86305),s=r(36550),a=r(81541),o=r(91375),l=r(12258),c=r(66673),u=r(39421),d=r(49585),h=r(18146);let f=n.Fragment,p=(0,h.FX)(function(e,t){let{ownerDocument:r=null,...a}=e,p=(0,n.useRef)(null),y=(0,c.P)((0,c.a)(e=>{p.current=e}),t),b=(0,l.g)(p.current),v=function(e){let t=(0,u.S)(),r=(0,n.useContext)(g),[i,s]=(0,n.useState)(()=>{var n;if(!t&&null!==r)return null!=(n=r.current)?n:null;if(d._.isServer)return null;let i=null==e?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(null===e)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return(0,n.useEffect)(()=>{null!==i&&(null!=e&&e.body.contains(i)||null==e||e.body.appendChild(i))},[i,e]),(0,n.useEffect)(()=>{t||null!==r&&s(r.current)},[r,s,t]),i}(null!=r?r:b),w=(0,n.useContext)(m),_=(0,s.L)(),x=(0,h.Ci)();return(0,o.X)(()=>{var e;v&&v.childNodes.length<=0&&(null==(e=v.parentElement)||e.removeChild(v))}),v?(0,i.createPortal)(n.createElement("div",{"data-headlessui-portal":"",ref:e=>{_.dispose(),w&&e&&_.add(w.register(e))}},x({ourProps:{ref:y},theirProps:a,slot:{},defaultTag:f,name:"Portal"})),v):null}),y=n.Fragment,g=(0,n.createContext)(null),m=(0,n.createContext)(null);function b(){let e=(0,n.useContext)(m),t=(0,n.useRef)([]),r=(0,a._)(r=>(t.current.push(r),e&&e.register(r),()=>i(r))),i=(0,a._)(r=>{let n=t.current.indexOf(r);-1!==n&&t.current.splice(n,1),e&&e.unregister(r)}),s=(0,n.useMemo)(()=>({register:r,unregister:i,portals:t}),[r,i,t]);return[t,(0,n.useMemo)(()=>function({children:e}){return n.createElement(m.Provider,{value:s},e)},[s])]}let v=(0,h.FX)(function(e,t){let r=(0,c.P)(t),{enabled:i=!0,ownerDocument:s,...a}=e,o=(0,h.Ci)();return i?n.createElement(p,{...a,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:f,name:"Portal"})}),w=(0,h.FX)(function(e,t){let{target:r,...i}=e,s={ref:(0,c.P)(t)},a=(0,h.Ci)();return n.createElement(g.Provider,{value:r},a({ourProps:s,theirProps:i,defaultTag:y,name:"Popover.Group"}))}),_=Object.assign(v,{Group:w})},98395:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var n=r(65936),i=r(92768);function s(e,t,r,s){let a=(0,i.Y)(r);(0,n.useEffect)(()=>{if(e)return document.addEventListener(t,r,s),()=>document.removeEventListener(t,r,s);function r(e){a.current(e)}},[e,t,s])}},98442:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(65936),i=r(65991);function s(){let e=(0,n.useRef)(!1);return(0,i.s)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},98588:(e,t,r)=>{"use strict";r.d(t,{H4:()=>g,v8:()=>p,$$:()=>y});var n=r(59670),i=r(76956),s=r(30095),a=r(42213);class o extends a.C{constructor({domain:e}){super(`Invalid domain "${(0,s.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class l extends a.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class c extends a.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var u=r(13437),d=r(38006),h=r(16678),f=r(97609);function p(e){let{domain:t,message:r,primaryType:n,types:i}=e,a=(e,t)=>{let r={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},o=i.EIP712Domain&&t?a(i.EIP712Domain,t):{},l=(()=>{if("EIP712Domain"!==n)return a(i[n],r)})();return(0,s.A)({domain:o,message:l,primaryType:n,types:i})}function y(e){let{domain:t,message:r,primaryType:s,types:a}=e,p=(e,t)=>{for(let r of e){let{name:e,type:s}=r,o=t[e],l=s.match(f.Ge);if(l&&("number"==typeof o||"bigint"==typeof o)){let[e,t,r]=l;(0,h.cK)(o,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===s&&"string"==typeof o&&!(0,u.P)(o))throw new i.M({address:o});let y=s.match(f.BD);if(y){let[e,t]=y;if(t&&(0,d.E)(o)!==Number.parseInt(t,10))throw new n.BI({expectedSize:Number.parseInt(t,10),givenSize:(0,d.E)(o)})}let g=a[s];g&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new c({type:e})}(s),p(g,o))}};if(a.EIP712Domain&&t){if("object"!=typeof t)throw new o({domain:t});p(a.EIP712Domain,t)}if("EIP712Domain"!==s)if(a[s])p(a[s],r);else throw new l({primaryType:s,types:a})}function g({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}},99210:function(e){e.exports=function(){"use strict";function e(e){return Number.isInteger(e)&&e>=0}function t(e){this.name="ArgumentError",this.message=e}return function(r,n){if(n=n||{},"function"!=typeof r)throw new t("fetch must be a function");if("object"!=typeof n)throw new t("defaults must be an object");if(void 0!==n.retries&&!e(n.retries))throw new t("retries must be a positive integer");if(void 0!==n.retryDelay&&!e(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new t("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(i,s){var a=n.retries,o=n.retryDelay,l=n.retryOn;if(s&&void 0!==s.retries)if(e(s.retries))a=s.retries;else throw new t("retries must be a positive integer");if(s&&void 0!==s.retryDelay)if(e(s.retryDelay)||"function"==typeof s.retryDelay)o=s.retryDelay;else throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(s&&s.retryOn)if(Array.isArray(s.retryOn)||"function"==typeof s.retryOn)l=s.retryOn;else throw new t("retryOn property expects an array or function");return new Promise(function(e,t){var n=function(n){r("undefined"!=typeof Request&&i instanceof Request?i.clone():i,s).then(function(r){if(Array.isArray(l)&&-1===l.indexOf(r.status))e(r);else if("function"==typeof l)try{return Promise.resolve(l(n,null,r)).then(function(t){t?c(n,null,r):e(r)}).catch(t)}catch(e){t(e)}else n<a?c(n,null,r):e(r)}).catch(function(e){if("function"==typeof l)try{Promise.resolve(l(n,e,null)).then(function(r){r?c(n,e,null):t(e)}).catch(function(e){t(e)})}catch(e){t(e)}else n<a?c(n,e,null):t(e)})};function c(e,t,r){setTimeout(function(){n(++e)},"function"==typeof o?o(e,t,r):o)}n(0)})}}}()},99255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let n=r(5541)._(r(65936)),i=r(38509),s=n.default.createContext(i.imageConfigDefault)},99849:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>a,Di:()=>l,K9:()=>o});var n=r(9587),i=r(92658),s=r(40191);let a=(e,t,r,a)=>{let l=Number(e),c=t.find(e=>e.id===l);if(!c)throw new s.g1(`Unsupported chainId ${e}`,4901);return(0,n.l)({transport:(0,i.L)(o(c,r,a.appId)),chain:c})},o=(e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new s.g1(`No RPC url found for ${i}`);return n};function l({currentRecoveryMethod:e,upgradeToRecoveryMethod:t}){switch(e){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(e===t)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}},99859:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{aP:()=>i,xW:()=>n})}}]);