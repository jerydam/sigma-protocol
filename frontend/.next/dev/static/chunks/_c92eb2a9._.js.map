{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,4TAAC,+XAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,4TAAC,+XAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,kYAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,kYAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,4TAAC,gYAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,4TAAC,gYAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,qYAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,4TAAC,4SAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS"}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,4TAAC,iYAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4TAAC,kYAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4TAAC,kYAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,4TAAC,oYAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,4TAAC,iYAAoB;gBAAC,OAAO;0BAC3B,cAAA,4TAAC,kUAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,4TAAC,mYAAsB;kBACrB,cAAA,4TAAC,oYAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,4TAAC;;;;;8BACD,4TAAC,qYAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,4TAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,kYAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,4TAAC,iYAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,4TAAC;gBAAK,WAAU;0BACd,cAAA,4TAAC,0YAA6B;8BAC5B,cAAA,4TAAC,4SAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,4TAAC,qYAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,4TAAC,sYAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,4TAAC,2YAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,4TAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,4TAAC,6YAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,kUAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/modals/submit-transaction-modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { \n  X, Send, Loader2, AlertCircle, Upload, FileText, Trash2, \n  UserPlus, Coins, Wallet, Users, ArrowRight, CheckCircle2, \n  Settings, Zap\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  submitTransaction,\n  submitBatchTransferEqual,\n  submitBatchTransferDifferent,\n  submitAddOwner\n} from '@/lib/web3';\nimport { ethers, Interface } from 'ethers';\n\n// --- CONFIGURATION CONSTANTS ---\n\n// Common Tokens (using Celo testnet addresses for demonstration)\nconst TOKEN_OPTIONS = [\n  { name: 'cUSD (Testnet)', symbol: 'cUSD', address: '0x874068565b93198084D1f6874E2f768E6B1516e8' },\n  { name: 'cEUR (Testnet)', symbol: 'cEUR', address: '0x10c6609C0637B194e823A449b2c3a51D1415fF78' },\n  { name: 'WETH', symbol: 'WETH', address: '0x4200000000000000000000000000000000000006' },\n  { name: 'Custom Token', symbol: '???', address: 'custom' },\n];\n\n// Simplified DEX Platform Configuration (using placeholder/example addresses)\nconst DEX_PLATFORMS = [\n    { \n        name: 'Uniswap (Celo)', \n        address: '0x62a8F0D03F66D6C655d81C9d3163E5d39A1e2226', // Example Uniswap Router on Celo\n        abi: [ \n            \"function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) returns (uint[] memory amounts)\",\n            \"function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) returns (uint[] memory amounts)\",\n        ]\n    },\n    { \n        name: 'Ubeswap (Celo)', \n        address: '0x44760E45c711a37c4A462137F8E4d4d122245b63', // Example Ubeswap Router\n        abi: [ \n            \"function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) returns (uint[] memory amounts)\"\n        ]\n    },\n];\n\n// --- INTERFACES ---\n\ninterface SubmitTransactionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  controllerAddress: string;\n  defaultTab?: 'transfer' | 'custom' | 'owner';\n}\n\n// --- CALCDATA GENERATION FUNCTION (CONCEPTUAL) ---\n\n/**\n * A conceptual function to generate calldata for a simple exact token swap.\n * NOTE: Real-world DEX routers often require complex path encoding and approval first.\n * This function is a simplified demo for the structure.\n * @param platform The DEX Router contract configuration.\n * @param tokenInAddress Address of the token being sold.\n * @param tokenOutAddress Address of the token being bought.\n * @param amountIn Amount of tokenIn (in base units, e.g., Wei).\n * @param recipient The address that receives the tokens (the controller).\n * @returns Calldata hex string.\n */\nconst generateSwapCalldata = (\n    platform: typeof DEX_PLATFORMS[0], \n    tokenInAddress: string, \n    tokenOutAddress: string, \n    amountIn: string, \n    recipient: string\n): string => {\n    try {\n        const routerInterface = new Interface(platform.abi);\n        \n        // This is a simplified path array for direct swap\n        const path = [tokenInAddress, tokenOutAddress]; \n        const deadline = Math.floor(Date.now() / 1000) + (60 * 30); // 30 minutes from now\n        const amountOutMin = 0; // Use 0 for demo, should be calculated for slippage in production\n\n        const calldata = routerInterface.encodeFunctionData(\"swapExactTokensForTokens\", [\n            amountIn,     // amountIn (exact amount being sold)\n            amountOutMin, // amountOutMin (minimum to accept)\n            path,         // path (tokenIn -> tokenOut)\n            recipient,    // recipient (the safe/controller)\n            deadline,     // deadline\n        ]);\n\n        return calldata;\n\n    } catch (e) {\n        console.error(\"Calldata generation error:\", e);\n        throw new Error(\"Failed to generate swap calldata. Check token addresses.\");\n    }\n};\n\n\nexport function SubmitTransactionModal({ \n  isOpen, \n  onClose, \n  controllerAddress,\n  defaultTab = 'transfer' \n}: SubmitTransactionModalProps) {\n  \n  // --- State ---\n  const [mode, setMode] = useState<'transfer' | 'custom' | 'owner'>(defaultTab);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  \n  // Transfer\n  const [txScope, setTxScope] = useState<'single' | 'batch'>('single');\n  const [batchType, setBatchType] = useState<'equal' | 'different'>('equal');\n  const [assetType, setAssetType] = useState<'eth' | 'token'>('eth');\n  const [selectedToken, setSelectedToken] = useState<string>('');\n  const [customTokenAddress, setCustomTokenAddress] = useState('');\n  \n  const [recipients, setRecipients] = useState(''); \n  const [amounts, setAmounts] = useState('');       \n  const [uploadedFileName, setUploadedFileName] = useState<string | null>(null);\n  \n  // Custom (Now simplified to only hold the final transaction output)\n  const [customTo, setCustomTo] = useState('');\n  const [customValue, setCustomValue] = useState('0');\n  const [customData, setCustomData] = useState('0x');\n\n  // DeFi Swap Form State (The only input in the \"custom\" tab)\n  const [defiPlatform, setDefiPlatform] = useState<string>(DEX_PLATFORMS[0].address);\n  const [tokenIn, setTokenIn] = useState<string>(TOKEN_OPTIONS[0].address);\n  const [tokenOut, setTokenOut] = useState<string>(TOKEN_OPTIONS[1].address);\n  const [swapAmount, setSwapAmount] = useState<string>('');\n\n  // Add Owner\n  const [newOwnerName, setNewOwnerName] = useState('');\n  const [newOwnerAddress, setNewOwnerAddress] = useState('');\n  const [newOwnerPct, setNewOwnerPct] = useState('');\n  const [newOwnerRemovable, setNewOwnerRemovable] = useState(true);\n\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // --- Effects ---\n\n  // Reset on open\n  useEffect(() => {\n    if (isOpen) {\n      setMode(defaultTab);\n    }\n  }, [isOpen, defaultTab]);\n\n  // Handle DeFi Swap Calldata Generation\n  useEffect(() => {\n    if (mode !== 'custom') return;\n\n    // Reset Advanced fields when swap form changes\n    setCustomTo('');\n    setCustomValue('0');\n    setCustomData('0x');\n    \n    // Check for minimum inputs\n    if (!defiPlatform || !tokenIn || !tokenOut || !swapAmount || swapAmount === '0') {\n        setError(\"Fill out all swap fields to generate the transaction.\");\n        return;\n    }\n\n    try {\n        const platform = DEX_PLATFORMS.find(p => p.address === defiPlatform);\n        if (!platform) throw new Error(\"Invalid platform selected.\");\n        \n        // **IMPORTANT**: Convert float string to BigNumber string (Wei)\n        const parsedAmount = ethers.parseEther(swapAmount).toString();\n\n        const calldata = generateSwapCalldata(\n            platform, \n            tokenIn, \n            tokenOut, \n            parsedAmount, \n            controllerAddress // The safe/controller is the recipient of the bought tokens\n        );\n\n        // Update the Advanced Fields (automatically)\n        setCustomTo(defiPlatform);\n        // Value is 0 unless swapping ETH, which is not supported in this simplified token swap function\n        setCustomValue('0'); \n        setCustomData(calldata);\n        setError(null);\n\n    } catch (e: any) {\n        setError(e.message || \"Could not auto-generate swap transaction. Check inputs.\");\n        setCustomTo('');\n        setCustomData('0x');\n    }\n  }, [defiPlatform, tokenIn, tokenOut, swapAmount, mode, controllerAddress]);\n\n\n  if (!isOpen) return null;\n\n  // --- Helpers ---\n  const parseList = (str: string) => str.split(/[\\n]+/).map(s => s.trim()).filter(s => s !== '');\n  \n  const getRecipientCount = () => parseList(recipients).length;\n  \n  const getTotalAmount = () => {\n    const list = parseList(amounts);\n    if (list.length === 0) return '0';\n    if (txScope === 'batch' && batchType === 'equal') {\n        return (parseFloat(list[0]) * getRecipientCount()).toFixed(4);\n    }\n    return list.reduce((acc, val) => acc + (parseFloat(val) || 0), 0).toFixed(4);\n  };\n\n  // --- File Handler (Unchanged) ---\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    // ... (File upload logic remains unchanged)\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploadedFileName(file.name);\n    setError(null);\n    \n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try {\n        const text = event.target?.result as string;\n        if (!text) throw new Error(\"Empty file\");\n\n        const lines = text.split(/\\r?\\n/);\n        const addrList: string[] = [];\n        const amtList: string[] = [];\n\n        lines.forEach((line) => {\n          const trimmed = line.trim();\n          if (!trimmed || /^address/i.test(trimmed)) return; // Skip empty or header\n\n          const parts = trimmed.split(/[,;\\t|]+/);\n          const rawAddr = parts[0]?.trim();\n          const rawAmt = parts[1]?.trim();\n\n          if (rawAddr && (rawAddr.startsWith('0x') || rawAddr.includes('.'))) {\n             addrList.push(rawAddr);\n             if (rawAmt && !isNaN(parseFloat(rawAmt))) amtList.push(rawAmt);\n             else if (batchType === 'different') amtList.push('0'); \n          }\n        });\n\n        if (addrList.length === 0) {\n           setError(\"No valid addresses found in file.\");\n           setUploadedFileName(null);\n           return;\n        }\n\n        setRecipients(addrList.join('\\n'));\n        \n        if (batchType === 'different') {\n          setAmounts(amtList.join('\\n'));\n        } else if (batchType === 'equal' && amtList.length > 0) {\n          setAmounts(amtList[0]);\n        }\n      } catch (err) {\n        setError(\"Failed to parse file.\");\n      }\n    };\n    reader.readAsText(file);\n    e.target.value = '';\n  };\n\n  const clearFile = () => {\n    setUploadedFileName(null);\n    setRecipients('');\n    setAmounts('');\n    setError(null);\n  };\n\n  // --- Submit Logic (Updated for 'custom' simplification) ---\n  const handleSubmit = async () => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // 1. Add Owner\n      if (mode === 'owner') {\n        if (!ethers.isAddress(newOwnerAddress)) throw new Error(\"Invalid Address\");\n        if (!newOwnerName) throw new Error(\"Name required\");\n        await submitAddOwner(controllerAddress, newOwnerAddress, newOwnerName, Number(newOwnerPct), newOwnerRemovable);\n      } \n      // 2. Custom (DeFi Swap)\n      else if (mode === 'custom') {\n        if (customData === '0x') {\n            throw new Error(\"Transaction data is incomplete. Please check the swap inputs.\");\n        }\n        await submitTransaction(controllerAddress, customTo, customValue || '0', false, ethers.ZeroAddress, customData || '0x');\n      } \n      // 3. Transfer\n      else {\n        const recipientList = parseList(recipients);\n        const amountList = parseList(amounts);\n        \n        if (recipientList.length === 0) throw new Error(\"No recipients entered\");\n        if (amountList.length === 0) throw new Error(\"No amounts entered\");\n        \n        const isToken = assetType === 'token';\n        let targetToken = ethers.ZeroAddress;\n\n        if (isToken) {\n          targetToken = selectedToken === 'custom' ? customTokenAddress : selectedToken;\n          if (!ethers.isAddress(targetToken)) throw new Error(\"Invalid Token Address\");\n        }\n\n        if (txScope === 'single') {\n          await submitTransaction(controllerAddress, recipientList[0], amountList[0], isToken, targetToken, '0x');\n        } else {\n          if (batchType === 'equal') {\n             await submitBatchTransferEqual(controllerAddress, targetToken, recipientList, amountList[0]);\n          } else {\n             if (recipientList.length !== amountList.length) throw new Error(`Count mismatch: ${recipientList.length} addrs vs ${amountList.length} amts`);\n             await submitBatchTransferDifferent(controllerAddress, targetToken, recipientList, amountList);\n          }\n        }\n      }\n      onClose();\n      // window.location.reload(); \n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || 'Failed to submit transaction');\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  // Filter token options for 'token out' to ensure they aren't the same as 'token in'\n  const tokenOutOptions = TOKEN_OPTIONS.filter(t => t.address !== tokenIn);\n  const tokenInOptions = TOKEN_OPTIONS.filter(t => t.address !== tokenOut);\n\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200\">\n      <Card className=\"w-full max-w-xl border-border bg-card max-h-[90vh] overflow-hidden flex flex-col shadow-2xl\">\n        \n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-border bg-muted/20\">\n          <div>\n            <h2 className=\"text-xl font-bold\">New Proposal</h2>\n            <p className=\"text-xs text-muted-foreground mt-1\">Create a new action for owners to approve</p>\n          </div>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose} className=\"rounded-full hover:bg-destructive/10 hover:text-destructive\">\n            <X className=\"h-5 w-5\" />\n          </Button>\n        </div>\n\n        {/* Scrollable Content */}\n        <div className=\"overflow-y-auto p-6\">\n          <Tabs value={mode} onValueChange={(v) => setMode(v as any)} className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-3 mb-6\">\n              <TabsTrigger value=\"transfer\" className=\"gap-2\"><Wallet className=\"h-4 w-4\"/> Transfer</TabsTrigger>\n              <TabsTrigger value=\"owner\" className=\"gap-2\"><Users className=\"h-4 w-4\"/> Add Owner</TabsTrigger>\n              <TabsTrigger value=\"custom\" className=\"gap-2\"><Zap className=\"h-4 w-4\"/> DeFi Swap</TabsTrigger> {/* Renamed Advanced tab */}\n            </TabsList>\n\n            {/* ================= TRANSFER TAB ================= */}\n            <TabsContent value=\"transfer\" className=\"space-y-6 animate-in slide-in-from-left-2 duration-300\">\n              {/* (Transfer content remains here) */}\n               {/* 1. Asset Selection Cards */}\n               <div className=\"grid grid-cols-2 gap-4\">\n                <div \n                  className={`cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center gap-2 transition-all ${assetType === 'eth' ? 'border-primary bg-primary/5' : 'border-border hover:border-primary/50'}`}\n                  onClick={() => setAssetType('eth')}\n                >\n                   <div className={`p-2 rounded-full ${assetType === 'eth' ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\n                      <Coins className=\"h-5 w-5\" />\n                   </div>\n                   <span className=\"font-medium text-sm\">Celo</span>\n                </div>\n                \n                <div \n                   className={`cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center gap-2 transition-all ${assetType === 'token' ? 'border-primary bg-primary/5' : 'border-border hover:border-primary/50'}`}\n                   onClick={() => setAssetType('token')}\n                >\n                   <div className={`p-2 rounded-full ${assetType === 'token' ? 'bg-primary text-primary-foreground' : 'bg-muted'}`}>\n                      <Wallet className=\"h-5 w-5\" />\n                   </div>\n                   <span className=\"font-medium text-sm\">ERC20 Token</span>\n                </div>\n              </div>\n\n              {/* Token Dropdown */}\n              {assetType === 'token' && (\n                <div className=\"space-y-2 animate-in fade-in slide-in-from-top-2\">\n                  <Label>Select Token</Label>\n                  <Select value={selectedToken} onValueChange={setSelectedToken}>\n                    <SelectTrigger className=\"h-11\">\n                      <SelectValue placeholder=\"Select a token...\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {TOKEN_OPTIONS.map((t) => <SelectItem key={t.address} value={t.address}>{t.name}</SelectItem>)}\n                    </SelectContent>\n                  </Select>\n                  {selectedToken === 'custom' && (\n                    <Input placeholder=\"Contract Address (0x...)\" value={customTokenAddress} onChange={(e) => setCustomTokenAddress(e.target.value)} className=\"mt-2\"/>\n                  )}\n                </div>\n              )}\n\n              <div className=\"border-t border-border my-2\"></div>\n\n              {/* 2. Scope Selection (Visual) */}\n              <div className=\"space-y-3\">\n                <Label>Who are you sending to?</Label>\n                <div className=\"flex gap-3\">\n                   <Button \n                      variant={txScope === 'single' ? 'default' : 'outline'} \n                      className=\"flex-1 h-auto py-3 flex-col gap-1\"\n                      onClick={() => setTxScope('single')}\n                   >\n                      <span className=\"font-semibold\">Single Person</span>\n                      <span className=\"text-[10px] font-normal opacity-80\">One recipient</span>\n                   </Button>\n                   <Button \n                      variant={txScope === 'batch' ? 'default' : 'outline'} \n                      className=\"flex-1 h-auto py-3 flex-col gap-1\"\n                      onClick={() => setTxScope('batch')}\n                   >\n                      <span className=\"font-semibold\">Send to Many</span>\n                      <span className=\"text-[10px] font-normal opacity-80\">Batch / List</span>\n                   </Button>\n                </div>\n              </div>\n\n              {/* 3. Inputs */}\n              {txScope === 'single' ? (\n                 /* SINGLE INPUTS */\n                 <div className=\"grid gap-4\">\n                    <div className=\"space-y-2\">\n                        <Label>Recipient Address</Label>\n                        <Input placeholder=\"0x...\" value={recipients} onChange={(e) => setRecipients(e.target.value)} />\n                    </div>\n                    <div className=\"space-y-2\">\n                        <Label>Amount</Label>\n                        <div className=\"relative\">\n                            <Input type=\"number\" placeholder=\"0.00\" value={amounts} onChange={(e) => setAmounts(e.target.value)} className=\"pl-8 font-mono\"/>\n                            <span className=\"absolute left-3 top-2.5 text-muted-foreground text-xs\">$</span>\n                        </div>\n                    </div>\n                 </div>\n              ) : (\n                 /* BATCH INPUTS */\n                 <div className=\"space-y-4 animate-in fade-in\">\n                    \n                    {/* Batch Type Config */}\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        <label className={`flex items-center gap-2 p-3 rounded border cursor-pointer ${batchType === 'equal' ? 'border-primary bg-primary/5' : 'bg-background'}`}>\n                           <input type=\"radio\" name=\"btype\" checked={batchType === 'equal'} onChange={() => setBatchType('equal')} className=\"accent-primary\"/>\n                           <span>Same amount for everyone</span>\n                        </label>\n                        <label className={`flex items-center gap-2 p-3 rounded border cursor-pointer ${batchType === 'different' ? 'border-primary bg-primary/5' : 'bg-background'}`}>\n                           <input type=\"radio\" name=\"btype\" checked={batchType === 'different'} onChange={() => setBatchType('different')} className=\"accent-primary\"/>\n                           <span>Different amounts</span>\n                        </label>\n                    </div>\n\n                    {/* File Upload Area */}\n                    {!uploadedFileName ? (\n                       <div \n                          className=\"border-2 border-dashed border-muted-foreground/25 rounded-xl p-6 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-muted/30 transition-colors\"\n                          onClick={() => fileInputRef.current?.click()}\n                       >\n                          <div className=\"bg-muted p-3 rounded-full mb-2\">\n                             <Upload className=\"h-5 w-5 text-muted-foreground\" />\n                          </div>\n                          <p className=\"text-sm font-medium\">Click to upload CSV or Text file</p>\n                          <p className=\"text-xs text-muted-foreground mt-1\">Format: address, amount</p>\n                          <input type=\"file\" ref={fileInputRef} className=\"hidden\" accept=\".csv,.txt,.doc,.docx\" onChange={handleFileUpload}/>\n                       </div>\n                    ) : (\n                       <div className=\"flex items-center justify-between bg-primary/10 border border-primary/20 p-3 rounded-lg\">\n                          <div className=\"flex items-center gap-3\">\n                             <FileText className=\"h-5 w-5 text-primary\" />\n                             <div>\n                                <p className=\"text-sm font-medium text-primary\">{uploadedFileName}</p>\n                                <p className=\"text-xs text-muted-foreground\">Loaded {getRecipientCount()} addresses</p>\n                             </div>\n                          </div>\n                          <Button variant=\"ghost\" size=\"icon\" onClick={clearFile} className=\"text-destructive hover:bg-destructive/10\">\n                             <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                       </div>\n                    )}\n\n                    {/* Manual Edit Toggle Details */}\n                    <div className=\"space-y-2\">\n                       <div className=\"flex justify-between items-center\">\n                          <Label className=\"text-xs text-muted-foreground uppercase tracking-wider\">Or enter manually</Label>\n                       </div>\n                       <div className=\"grid grid-cols-3 gap-2\">\n                          <Textarea \n                             placeholder=\"0x123...&#10;0x456...\" \n                             value={recipients} \n                             onChange={(e) => setRecipients(e.target.value)}\n                             className=\"col-span-2 h-24 font-mono text-xs resize-none bg-muted/20\"\n                          />\n                          <Textarea \n                             placeholder={batchType === 'equal' ? \"1.5\" : \"1.5\\n2.0\"} \n                             value={amounts} \n                             onChange={(e) => setAmounts(e.target.value)}\n                             className=\"col-span-1 h-24 font-mono text-xs resize-none bg-muted/20\"\n                          />\n                       </div>\n                    </div>\n                 </div>\n              )}\n            </TabsContent>\n\n            {/* ================= OWNER TAB ================= */}\n            <TabsContent value=\"owner\" className=\"space-y-5 animate-in slide-in-from-right-2 duration-300\">\n              {/* (Owner content remains here) */}\n              <div className=\"flex items-start gap-3 p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl\">\n                 <UserPlus className=\"h-5 w-5 text-blue-600 mt-0.5\" />\n                 <div className=\"text-sm text-blue-900 dark:text-blue-200\">\n                    <p className=\"font-semibold\">Add New Signer</p>\n                    <p className=\"opacity-90 text-xs mt-0.5\">This creates a proposal. Other owners must approve it before the new signer is added.</p>\n                 </div>\n              </div>\n              \n              <div className=\"grid gap-4\">\n                <div className=\"space-y-2\">\n                   <Label>New Owner Address</Label>\n                   <Input placeholder=\"0x...\" value={newOwnerAddress} onChange={(e) => setNewOwnerAddress(e.target.value)} />\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                   <div className=\"space-y-2\">\n                      <Label>Role / Name</Label>\n                      <Input placeholder=\"e.g. CFO\" value={newOwnerName} onChange={(e) => setNewOwnerName(e.target.value)} />\n                   </div>\n                   <div className=\"space-y-2\">\n                      <Label>Voting Power (%)</Label>\n                      <Input type=\"number\" value={newOwnerPct} onChange={(e) => setNewOwnerPct(e.target.value)} />\n                   </div>\n                </div>\n\n                <div className=\"flex items-center space-x-2 border p-3 rounded-lg\">\n                   <Checkbox id=\"removable\" checked={newOwnerRemovable} onCheckedChange={(c) => setNewOwnerRemovable(!!c)} />\n                   <div className=\"grid gap-1.5 leading-none\">\n                      <Label htmlFor=\"removable\" className=\"cursor-pointer\">Is Removable?</Label>\n                      <p className=\"text-xs text-muted-foreground\">If unchecked, this owner can never be removed.</p>\n                   </div>\n                </div>\n              </div>\n            </TabsContent>\n\n            {/* ================= CUSTOM/DEFI SWAP TAB ================= */}\n            <TabsContent value=\"custom\" className=\"space-y-4 animate-in fade-in\">\n                \n                <div className=\"space-y-4 p-4 border rounded-lg bg-primary/5 animate-in fade-in\">\n                    <p className=\"font-semibold flex items-center gap-2\"><Zap className=\"h-5 w-5\"/> Automated Token Swap</p>\n                    \n                    <div className=\"space-y-2\">\n                        <Label>Select Platform</Label>\n                        <Select value={defiPlatform} onValueChange={setDefiPlatform}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select a DEX...\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {DEX_PLATFORMS.map((p) => (\n                                    <SelectItem key={p.address} value={p.address}>{p.name}</SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    <div className=\"grid grid-cols-3 gap-3\">\n                        <div className=\"col-span-1 space-y-2\">\n                            <Label>Amount</Label>\n                            <Input type=\"number\" placeholder=\"10.00\" value={swapAmount} onChange={(e) => setSwapAmount(e.target.value)} />\n                        </div>\n                        <div className=\"col-span-2 space-y-2\">\n                            <Label>Token In (To Sell)</Label>\n                            <Select value={tokenIn} onValueChange={setTokenIn}>\n                                <SelectTrigger>\n                                    <SelectValue placeholder=\"Select Token In...\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    {tokenInOptions.map((t) => <SelectItem key={t.address} value={t.address}>{t.name}</SelectItem>)}\n                                </SelectContent>\n                            </Select>\n                        </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-center\">\n                        <ArrowRight className=\"h-5 w-5 text-muted-foreground\" />\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                        <Label>Token Out (To Buy)</Label>\n                        <Select value={tokenOut} onValueChange={setTokenOut}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select Token Out...\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {tokenOutOptions.map((t) => <SelectItem key={t.address} value={t.address}>{t.name}</SelectItem>)}\n                            </SelectContent>\n                        </Select>\n                    </div>\n                    \n                    <div className=\"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded text-xs text-yellow-800 dark:text-yellow-300\">\n                        NOTE: This only generates the **swap call**. You must submit a separate **Approval** transaction if the contract isn't already approved to spend the **Token In** amount.\n                    </div>\n                </div>\n\n                {/* --- GENERATED TRANSACTION DETAILS (READ-ONLY) --- */}\n                <div className=\"space-y-4 pt-2\">\n                    <div className=\"space-y-1\">\n                       <Label>Target Contract</Label>\n                       <Input \n                          value={customTo} \n                          readOnly \n                          className=\"bg-muted font-mono text-sm\"\n                          placeholder=\"Platform Address (0x...)\"\n                       />\n                    </div>\n                    <div className=\"grid grid-cols-3 gap-3\">\n                        <div className=\"col-span-1 space-y-1\">\n                           <Label>Value (Celo)</Label>\n                           <Input \n                              type=\"text\" // Use text to avoid number formatting issues\n                              value={customValue} \n                              readOnly \n                              className=\"bg-muted font-mono text-sm\"\n                           />\n                        </div>\n                        <div className=\"col-span-2 space-y-1\">\n                            <Label>Calldata Status</Label>\n                            <div className={`p-2 rounded text-xs text-center font-semibold ${customData === '0x' ? 'bg-red-500/10 text-red-600 border border-red-500/20' : 'bg-green-500/10 text-green-600 border border-green-500/20'}`}>\n                                {customData === '0x' ? 'Awaiting Input' : 'Calldata Generated'}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"space-y-1\">\n                       <Label>Calldata (Function Call)</Label>\n                       <Textarea \n                          value={customData} \n                          readOnly \n                          className=\"font-mono text-xs min-h-[100px] bg-muted break-all\"\n                          placeholder=\"Generated calldata (0x...)\"\n                       />\n                    </div>\n                </div>\n\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-6 border-t border-border bg-muted/20 flex flex-col gap-4\">\n          \n          {/* Summary Bar (Transfer Mode Only) */}\n          {mode === 'transfer' && (\n             <div className=\"flex items-center justify-between text-sm px-2\">\n                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                   <Users className=\"h-4 w-4\" />\n                   <span>Recipients: <span className=\"font-mono font-bold text-foreground\">{getRecipientCount()}</span></span>\n                </div>\n                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                   <Coins className=\"h-4 w-4\" />\n                   <span>Total: <span className=\"font-mono font-bold text-foreground\">{getTotalAmount()}</span></span>\n                </div>\n             </div>\n          )}\n\n          {/* Errors */}\n          {error && (\n            <div className=\"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-sm text-red-600 flex gap-2 items-start\">\n              <AlertCircle className=\"h-4 w-4 shrink-0 mt-0.5\"/>\n              <span className=\"break-all\">{error}</span>\n            </div>\n          )}\n\n          <div className=\"flex gap-3\">\n            <Button variant=\"outline\" className=\"flex-1\" onClick={onClose} disabled={isPending}>\n              Cancel\n            </Button>\n            {/* Disable submission if pending or if in custom mode with no generated data */}\n            <Button className=\"flex-[2]\" onClick={handleSubmit} disabled={isPending || (mode === 'custom' && customData === '0x')}>\n              {isPending ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4 mr-2\" />}\n              Submit Proposal\n            </Button>\n          </div>\n        </div>\n\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2400, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/tabs/overview-tab.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { MultiSig } from '@/hooks/use-factory'; \nimport { Copy, Eye, Send, Users, Check, ArrowUpRight, Wallet, Clock } from 'lucide-react';\nimport { ethers } from 'ethers';\nimport { SubmitTransactionModal } from '@/components/modals/submit-transaction-modal';\nimport { formatAmount } from '@/lib/format';\n\ninterface OverviewTabProps {\n  multisig: MultiSig;\n}\n\nexport function OverviewTab({ multisig }: OverviewTabProps) {\n  const [copied, setCopied] = useState(false);\n  const [isSubmitModalOpen, setIsSubmitModalOpen] = useState(false);\n\n  const handleCopy = (text: string) => {\n    navigator.clipboard.writeText(text);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const pendingTxs = multisig.transactions.filter(tx => !tx.executed).length;\n  \n  // Find next unlock\n  const activeTimelocks = multisig.transactions\n    .filter(tx => !tx.executed && Number(tx.timelockEnd) > Date.now() / 1000)\n    .sort((a, b) => Number(a.timelockEnd) - Number(b.timelockEnd));\n\n  const nextUnlockTime = activeTimelocks.length > 0 \n    ? new Date(Number(activeTimelocks[0].timelockEnd) * 1000).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})\n    : null;\n\n  const recentTransactions = [...multisig.transactions].slice(0, 3);\n\n  return (\n    <div className=\"space-y-6 animate-in fade-in duration-500\">\n      <div className=\"grid md:grid-cols-3 gap-6\">\n        \n        {/* Card 1: Balance */}\n        <Card className=\"md:col-span-2 border-border bg-card shadow-sm\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Wallet className=\"h-4 w-4\" /> Treasury Balance\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-baseline gap-2\">\n              <span className=\"text-4xl font-bold text-foreground\">{parseFloat(multisig.balance).toFixed(4)}</span>\n              <span className=\"text-xl font-medium text-muted-foreground\">ETH</span>\n            </div>\n            <div className=\"mt-4 flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded-lg w-fit\">\n               <span className=\"opacity-70\">Wallet:</span>\n               <code className=\"font-mono\">{multisig.wallet}</code>\n               <button onClick={() => handleCopy(multisig.wallet)} className=\"hover:text-primary ml-1\">\n                 {copied ? <Check className=\"h-3 w-3 text-emerald-500\"/> : <Copy className=\"h-3 w-3\"/>}\n               </button>\n               <button onClick={() => window.open(`https://sepolia.basescan.org/address/${multisig.wallet}`, '_blank')} className=\"hover:text-primary ml-1\">\n                 <ExternalLink className=\"h-3 w-3\"/>\n               </button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Card 2: Status */}\n        <Card className=\"border-border bg-card shadow-sm\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Clock className=\"h-4 w-4\" /> Pending Actions\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <div className=\"text-3xl font-bold\">{pendingTxs}</div>\n              <p className=\"text-xs text-muted-foreground\">Transactions awaiting approval</p>\n            </div>\n            <div className=\"pt-4 border-t\">\n               <div className=\"flex justify-between text-sm mb-1\">\n                  <span className=\"text-muted-foreground\">Timelock:</span>\n                  <span className=\"font-mono\">{(Number(multisig.config.timelockPeriod) / 3600).toFixed(1)}h</span>\n               </div>\n               {nextUnlockTime && (\n                 <div className=\"flex justify-between text-sm text-orange-500 font-medium\">\n                    <span>Next Unlock:</span>\n                    <span>{nextUnlockTime}</span>\n                 </div>\n               )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n         <Button \n            variant=\"default\" \n            size=\"lg\" \n            className=\"h-auto py-6 flex flex-col items-center gap-2 shadow-sm hover:shadow-md transition-all\"\n            onClick={() => setIsSubmitModalOpen(true)}\n         >\n            <Send className=\"h-6 w-6\" />\n            <span className=\"font-semibold\">Send Funds</span>\n         </Button>\n         <Button \n            variant=\"outline\" \n            size=\"lg\" \n            className=\"h-auto py-6 flex flex-col items-center gap-2 hover:bg-muted/50 transition-all\"\n            // Note: This would ideally scroll to owners tab or be a link\n            onClick={() => document.getElementById('tab-owners')?.click()}\n         >\n            <Users className=\"h-6 w-6\" />\n            <span className=\"font-semibold\">Manage Owners</span>\n         </Button>\n      </div>\n\n      {/* Recent Activity */}\n      <Card className=\"border-border bg-card\">\n        <CardHeader>\n          <CardTitle className=\"text-base font-semibold\">Recent Activity</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {recentTransactions.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground text-sm\">\n              No recent transactions found.\n            </div>\n          ) : (\n            <div className=\"space-y-0 divide-y divide-border/50\">\n              {recentTransactions.map((tx) => {\n                 const percent = (Number(tx.confirmationCount) / multisig.owners.length) * 100;\n                 return (\n                  <div key={tx.id} className=\"flex items-center justify-between py-4 first:pt-0 last:pb-0\">\n                    <div className=\"flex items-center gap-4\">\n                       <div className={`h-10 w-10 rounded-full flex items-center justify-center ${tx.executed ? 'bg-emerald-500/10 text-emerald-500' : 'bg-orange-500/10 text-orange-500'}`}>\n                          {tx.executed ? <Check className=\"h-5 w-5\"/> : <Clock className=\"h-5 w-5\"/>}\n                       </div>\n                       <div>\n                          <p className=\"text-sm font-medium\">Transaction #{tx.id}</p>\n                          <p className=\"text-xs text-muted-foreground font-mono\">{tx.to.slice(0,6)}...{tx.to.slice(-4)}</p>\n                       </div>\n                    </div>\n                    \n                    <div className=\"text-right\">\n                      <p className=\"text-sm font-semibold\">{formatAmount(tx.value)} ETH</p>\n                      <div className=\"text-xs mt-1 flex items-center justify-end gap-1.5\">\n                        <span className=\"text-muted-foreground\">{tx.confirmationCount}/{multisig.owners.length}</span>\n                        <div className=\"w-12 h-1.5 bg-muted rounded-full overflow-hidden\">\n                           <div className={`h-full rounded-full ${tx.executed ? 'bg-emerald-500' : 'bg-orange-500'}`} style={{width: `${percent}%`}}/>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                 );\n              })}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <SubmitTransactionModal \n        isOpen={isSubmitModalOpen} \n        onClose={() => setIsSubmitModalOpen(false)}\n        controllerAddress={multisig.controller}\n      />\n    </div>\n  );\n}\n\nfunction ExternalLink({ className }: { className?: string }) {\n    return <ArrowUpRight className={className} />\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2985, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/modals/transaction-detail-modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Copy, ExternalLink, CheckCircle, Clock, Loader2, Play, XCircle, Check } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Transaction } from '@/hooks/use-factory'; \nimport { confirmTransaction, revokeConfirmation, executeTransactionManual } from '@/lib/web3';\nimport { ethers } from 'ethers';\nimport { formatAmount } from '@/lib/format';\n\ninterface TransactionDetailModalProps {\n  isOpen: boolean;\n  transaction?: Transaction;\n  controllerAddress: string;\n  onClose: () => void;\n}\n\nexport function TransactionDetailModal({\n  isOpen,\n  transaction,\n  controllerAddress,\n  onClose,\n}: TransactionDetailModalProps) {\n  const [isPending, setIsPending] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  if (!isOpen || !transaction) return null;\n\n  const handleCopy = (text: string) => {\n     navigator.clipboard.writeText(text);\n     setCopied(true);\n     setTimeout(() => setCopied(false), 1000);\n  };\n\n  const handleAction = async (action: 'confirm' | 'revoke' | 'execute') => {\n    setIsPending(true);\n    try {\n      if (action === 'confirm') await confirmTransaction(controllerAddress, transaction.id);\n      if (action === 'revoke') await revokeConfirmation(controllerAddress, transaction.id);\n      if (action === 'execute') await executeTransactionManual(controllerAddress, transaction.id);\n      \n      onClose();\n      window.location.reload();\n    } catch (err: any) {\n      alert(err.message);\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in\">\n      <Card className=\"w-full max-w-md border-border bg-card max-h-[85vh] overflow-y-auto shadow-2xl\">\n        <div className=\"flex items-center justify-between p-6 border-b border-border sticky top-0 bg-card z-10\">\n          <div>\n             <h2 className=\"text-xl font-bold\">Transaction #{transaction.id}</h2>\n             <p className=\"text-xs text-muted-foreground\">{new Date(Number(transaction.timestamp) * 1000).toLocaleString()}</p>\n          </div>\n          <button onClick={onClose} className=\"text-muted-foreground hover:text-foreground bg-muted p-1 rounded-full\">\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        <CardContent className=\"p-6 space-y-6\">\n          {/* Status Badge */}\n          <div className=\"flex justify-center\">\n            {transaction.executed ? (\n              <Badge className=\"bg-emerald-500 hover:bg-emerald-600 px-4 py-1 text-base\">\n                 <CheckCircle className=\"h-4 w-4 mr-2\"/> Executed\n              </Badge>\n            ) : (\n              <Badge variant=\"secondary\" className=\"bg-orange-500/10 text-orange-500 border-orange-500/20 px-4 py-1 text-base\">\n                 <Clock className=\"h-4 w-4 mr-2\"/> Pending Execution\n              </Badge>\n            )}\n          </div>\n\n          {/* Data Table */}\n          <div className=\"space-y-4 border rounded-lg p-4 bg-muted/20\">\n            \n            {/* Type */}\n            <div>\n               <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-1\">Operation Type</p>\n               <p className=\"font-medium text-sm flex items-center gap-2\">\n                  {transaction.isTokenTransfer ? 'ERC20 Token Transfer' : transaction.data !== '0x' ? 'Contract Interaction' : 'Celo Transfer'}\n               </p>\n            </div>\n\n            {/* From */}\n            <div>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-1\">Initiated By</p>\n              <div className=\"flex items-center gap-2 group\">\n                <code className=\"text-xs font-mono break-all\">{transaction.initiator}</code>\n                <button onClick={() => handleCopy(transaction.initiator)} className=\"opacity-50 group-hover:opacity-100\">\n                   {copied ? <Check className=\"h-3 w-3 text-green-500\"/> : <Copy className=\"h-3 w-3\"/>}\n                </button>\n              </div>\n            </div>\n\n            {/* To */}\n            <div>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-1\">Target Address</p>\n              <div className=\"flex items-center gap-2 group\">\n                <code className=\"text-xs font-mono break-all\">{transaction.to}</code>\n                <button onClick={() => handleCopy(transaction.to)} className=\"opacity-50 group-hover:opacity-100\">\n                   <Copy className=\"h-3 w-3\"/>\n                </button>\n              </div>\n            </div>\n\n            {/* Value */}\n            <div>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-1\">Value</p>\n              <p className=\"text-xl font-bold\">\n                {formatAmount(transaction.value)} <span className=\"text-sm font-normal text-muted-foreground\">ETH</span>\n              </p>\n            </div>\n\n            {/* Data */}\n            {transaction.data !== '0x' && (\n              <div>\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider mb-1\">Calldata</p>\n                <div className=\"bg-muted p-2 rounded max-h-24 overflow-y-auto border\">\n                  <code className=\"text-[10px] break-all font-mono\">{transaction.data}</code>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Confirmations */}\n          <div>\n              <div className=\"flex justify-between mb-2\">\n                 <span className=\"text-sm font-medium\">Confirmations</span>\n                 <span className=\"text-sm text-muted-foreground\">{transaction.confirmationCount} Collected</span>\n              </div>\n              <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\n                <div className={`h-full ${transaction.executed ? 'bg-emerald-500' : 'bg-primary'}`} style={{ width: `${Math.min(100, (Number(transaction.confirmationCount) * 20))}%` }} />\n              </div>\n          </div>\n\n          {/* Actions */}\n          {!transaction.executed && (\n            <div className=\"grid grid-cols-2 gap-3 pt-2\">\n               <Button variant=\"outline\" onClick={() => handleAction('confirm')} disabled={isPending}>\n                  {isPending ? <Loader2 className=\"h-4 w-4 animate-spin\"/> : <CheckCircle className=\"h-4 w-4 mr-2\"/>} \n                  Confirm\n               </Button>\n               \n               <Button onClick={() => handleAction('execute')} disabled={isPending}>\n                  <Play className=\"h-4 w-4 mr-2\"/> Execute\n               </Button>\n\n               <Button variant=\"ghost\" className=\"col-span-2 text-destructive hover:text-destructive hover:bg-destructive/10 h-8 text-xs\" onClick={() => handleAction('revoke')} disabled={isPending || Number(transaction.confirmationCount) === 0}>\n                  Revoke my confirmation\n               </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3483, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/tabs/transactions-tab.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Badge } from '@/components/ui/badge';\nimport { MultiSig, Transaction } from '@/hooks/use-factory';\nimport { confirmTransaction, revokeConfirmation, executeTransactionManual, getTransaction } from '@/lib/web3';\nimport { Play, Loader2, Check, X, RefreshCw, FileSearch, ArrowRight, Clock } from 'lucide-react';\nimport { ethers } from 'ethers';\nimport { TransactionDetailModal } from '@/components/modals/transaction-detail-modal';\nimport { formatAmount } from '@/lib/format';\n\ninterface TransactionsTabProps {\n  multisig: MultiSig;\n}\n\nexport function TransactionsTab({ multisig }: TransactionsTabProps) {\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [transactions, setTransactions] = useState<Transaction[]>(multisig.transactions || []);\n  const [isLoading, setIsLoading] = useState(false);\n  const [processingTxId, setProcessingTxId] = useState<number | null>(null);\n  \n  // Detail Modal State\n  const [selectedTx, setSelectedTx] = useState<Transaction | null>(null);\n\n  const fetchTransactions = async () => {\n    setIsLoading(true);\n    const fetchedTxs: Transaction[] = [];\n    try {\n      for (let i = 0; i < 20; i++) {\n        try {\n          const tx = await getTransaction(multisig.controller, i);\n          if (tx.initiator === ethers.ZeroAddress) break; \n          fetchedTxs.push({ id: i, ...tx });\n        } catch (e) { break; }\n      }\n      setTransactions(fetchedTxs.sort((a, b) => b.id - a.id));\n    } catch (err) {\n      console.error(\"Error fetching txs\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (transactions.length === 0) fetchTransactions();\n  }, [multisig.controller]);\n\n  const handleAction = async (action: 'confirm' | 'revoke' | 'execute', txId: number, e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent opening detail modal\n    setProcessingTxId(txId);\n    try {\n      if (action === 'confirm') await confirmTransaction(multisig.controller, txId);\n      if (action === 'revoke') await revokeConfirmation(multisig.controller, txId);\n      if (action === 'execute') await executeTransactionManual(multisig.controller, txId);\n      await fetchTransactions();\n    } catch (err: any) {\n      alert(`Error: ${err.message}`);\n    } finally {\n      setProcessingTxId(null);\n    }\n  };\n\n  const filteredTransactions = transactions.filter(tx => {\n     if (statusFilter === 'all') return true;\n     if (statusFilter === 'executed') return tx.executed;\n     if (statusFilter === 'pending') return !tx.executed;\n     return true;\n  });\n\n  return (\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500\">\n      \n      {/* Toolbar */}\n      <div className=\"flex justify-between items-center bg-card p-2 rounded-lg border\">\n        <div className=\"flex gap-3\">\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-40 border-none shadow-none bg-transparent\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Transactions</SelectItem>\n              <SelectItem value=\"pending\">Pending</SelectItem>\n              <SelectItem value=\"executed\">Executed</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n        <Button variant=\"ghost\" size=\"icon\" onClick={fetchTransactions} disabled={isLoading}>\n             <RefreshCw className={`h-4 w-4 ${isLoading ? 'animate-spin' : ''}`} />\n        </Button>\n      </div>\n\n      {/* List */}\n      <div className=\"space-y-3\">\n        {filteredTransactions.length === 0 && !isLoading && (\n           <div className=\"text-center py-12 border-2 border-dashed rounded-xl bg-muted/10\">\n              <FileSearch className=\"h-8 w-8 mx-auto text-muted-foreground/50 mb-3\" />\n              <p className=\"text-muted-foreground\">No transactions found matching filters.</p>\n           </div>\n        )}\n\n        {filteredTransactions.map((tx) => {\n          const percent = (Number(tx.confirmationCount) / multisig.owners.length) * 100;\n          const isTimelockActive = !tx.executed && Number(tx.timelockEnd) > Date.now()/1000;\n          const remainingTime = Math.max(0, Number(tx.timelockEnd) - Date.now()/1000);\n          const isProcessing = processingTxId === tx.id;\n          const required = (multisig.config.requiredPercentage / 100) * multisig.owners.length;\n          const isReady = Number(tx.confirmationCount) >= required;\n\n          return (\n            <Card \n               key={tx.id} \n               className=\"border-border bg-card hover:border-primary/40 transition-colors cursor-pointer group\"\n               onClick={() => setSelectedTx(tx)}\n            >\n              <CardContent className=\"p-5\">\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                  \n                  {/* Left Info */}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <span className=\"text-sm font-bold bg-muted px-2 py-1 rounded\">#{tx.id}</span>\n                      <Badge variant={tx.executed ? 'default' : 'secondary'} className={tx.executed ? 'bg-emerald-500' : 'bg-orange-500/10 text-orange-600 hover:bg-orange-500/20'}>\n                        {tx.executed ? 'Executed' : isReady ? 'Ready to Execute' : 'Pending'}\n                      </Badge>\n                      {isTimelockActive && (\n                         <Badge variant=\"outline\" className=\"text-orange-500 border-orange-500 text-[10px] gap-1\">\n                            <Clock className=\"h-3 w-3\" /> {Math.ceil(remainingTime/3600)}h lock\n                         </Badge>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex items-center gap-2 text-sm\">\n                       <span className=\"text-muted-foreground w-12\">To:</span>\n                       <code className=\"bg-muted/50 px-1 rounded text-xs\">{tx.to}</code>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-sm mt-1\">\n                       <span className=\"text-muted-foreground w-12\">Value:</span>\n  <p className=\"text-sm font-semibold\">{formatAmount(tx.value)} ETH</p>                    </div>\n                  </div>\n\n                  {/* Right Actions */}\n                  <div className=\"flex items-center gap-6\">\n                    \n                    {/* Progress */}\n                    <div className=\"text-right hidden sm:block\">\n                      <div className=\"text-xs text-muted-foreground mb-1\">Approvals</div>\n                      <div className=\"flex items-center gap-2\">\n                         <span className=\"font-bold text-sm\">{tx.confirmationCount}/{multisig.owners.length}</span>\n                         <div className=\"w-16 h-2 bg-muted rounded-full overflow-hidden\">\n                            <div className={`h-full ${tx.executed ? 'bg-emerald-500' : 'bg-primary'}`} style={{width: `${percent}%`}}/>\n                         </div>\n                      </div>\n                    </div>\n\n                    {/* Buttons */}\n                    {!tx.executed && (\n                       <div className=\"flex items-center gap-2\">\n                          <Button size=\"sm\" variant=\"outline\" onClick={(e) => handleAction('confirm', tx.id, e)} disabled={isProcessing}>\n                             {isProcessing ? <Loader2 className=\"h-4 w-4 animate-spin\"/> : <Check className=\"h-4 w-4 mr-1\"/>} Confirm\n                          </Button>\n                          \n                          {isReady ? (\n                             <Button size=\"sm\" onClick={(e) => handleAction('execute', tx.id, e)} disabled={isProcessing || isTimelockActive}>\n                                <Play className=\"h-4 w-4 mr-1\"/> Execute\n                             </Button>\n                          ) : (\n                             <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive hover:text-destructive hover:bg-destructive/10\" onClick={(e) => handleAction('revoke', tx.id, e)} disabled={isProcessing || Number(tx.confirmationCount) === 0}>\n                                <X className=\"h-4 w-4\"/>\n                             </Button>\n                          )}\n                       </div>\n                    )}\n                    \n                    <ArrowRight className=\"h-5 w-5 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity hidden md:block\" />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Details Modal */}\n      <TransactionDetailModal \n         isOpen={!!selectedTx}\n         transaction={selectedTx!}\n         controllerAddress={multisig.controller}\n         onClose={() => setSelectedTx(null)}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4013, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/tabs/owners-tab.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { MultiSig } from '@/hooks/use-factory';\nimport { Plus, Trash2, User, ShieldCheck } from 'lucide-react';\nimport { SubmitTransactionModal } from '@/components/modals/submit-transaction-modal';\n\ninterface OwnersTabProps {\n  multisig: MultiSig;\n}\n\nexport function OwnersTab({ multisig }: OwnersTabProps) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const totalPercentage = multisig.owners.reduce((acc, owner) => acc + Number(owner.percentage), 0);\n\n  return (\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500\">\n      \n      {/* Summary Stats */}\n      <div className=\"grid grid-cols-2 gap-4\">\n         <Card className=\"bg-muted/30 border-none shadow-none\">\n            <CardContent className=\"p-4 flex items-center gap-3\">\n               <div className=\"bg-primary/10 p-2 rounded-full\"><User className=\"h-5 w-5 text-primary\"/></div>\n               <div>\n                  <p className=\"text-2xl font-bold\">{multisig.owners.length}</p>\n                  <p className=\"text-xs text-muted-foreground\">Active Owners</p>\n               </div>\n            </CardContent>\n         </Card>\n         <Card className=\"bg-muted/30 border-none shadow-none\">\n            <CardContent className=\"p-4 flex items-center gap-3\">\n               <div className=\"bg-primary/10 p-2 rounded-full\"><ShieldCheck className=\"h-5 w-5 text-primary\"/></div>\n               <div>\n                  <p className=\"text-2xl font-bold\">{totalPercentage}%</p>\n                  <p className=\"text-xs text-muted-foreground\">Total Equity Distributed</p>\n               </div>\n            </CardContent>\n         </Card>\n      </div>\n\n      <Card className=\"border-border bg-card\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <div>\n             <CardTitle>Owner List</CardTitle>\n             <CardDescription className=\"mt-1\">Manage signers and their voting power</CardDescription>\n          </div>\n          <Button onClick={() => setIsModalOpen(true)} size=\"sm\" className=\"h-9\">\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add Owner\n          </Button>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {multisig.owners.map((owner, idx) => (\n              <div\n                key={`${owner.address}-${idx}`}\n                className=\"flex flex-col sm:flex-row sm:items-center justify-between p-4 bg-background border rounded-lg hover:border-primary/20 transition-colors gap-4\"\n              >\n                <div className=\"flex items-center gap-3 min-w-0\">\n                  <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-sm\">\n                     {owner.name.substring(0, 2).toUpperCase()}\n                  </div>\n                  <div className=\"min-w-0\">\n                    <p className=\"font-medium text-sm truncate\">{owner.name}</p>\n                    <p className=\"text-xs text-muted-foreground font-mono truncate max-w-[180px] sm:max-w-xs bg-muted/50 px-1 rounded\">\n                      {owner.address}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center justify-between sm:justify-end gap-6 pl-13 sm:pl-0\">\n                  <div className=\"text-right\">\n                    <p className=\"font-bold text-lg\">{owner.percentage}%</p>\n                    <p className=\"text-[10px] text-muted-foreground uppercase tracking-wider\">Power</p>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-2\">\n                     {!owner.removable && (\n                        <Badge variant=\"secondary\" className=\"text-[10px] h-6 bg-muted text-muted-foreground hover:bg-muted\">\n                           Immutable\n                        </Badge>\n                     )}\n                     {owner.removable && (\n                        <Button \n                          variant=\"ghost\" \n                          size=\"icon\" \n                          className=\"text-muted-foreground hover:text-destructive hover:bg-destructive/10 h-8 w-8\"\n                          title=\"Remove Owner (Requires Proposal)\"\n                          onClick={() => alert(\"To remove this owner, please create a Custom Proposal with 'removeOwner' data.\")}\n                        >\n                           <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                     )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      <SubmitTransactionModal \n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        controllerAddress={multisig.controller}\n        defaultTab=\"owner\"\n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;;;AARA;;;;;;;AAcO,SAAS,UAAU,EAAE,QAAQ,EAAkB;;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wSAAQ,EAAC;IAE/C,MAAM,kBAAkB,SAAS,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,OAAO,MAAM,UAAU,GAAG;IAE/F,qBACE,4TAAC;QAAI,WAAU;;0BAGb,4TAAC;gBAAI,WAAU;;kCACZ,4TAAC,oIAAI;wBAAC,WAAU;kCACb,cAAA,4TAAC,2IAAW;4BAAC,WAAU;;8CACpB,4TAAC;oCAAI,WAAU;8CAAiC,cAAA,4TAAC,iSAAI;wCAAC,WAAU;;;;;;;;;;;8CAChE,4TAAC;;sDACE,4TAAC;4CAAE,WAAU;sDAAsB,SAAS,MAAM,CAAC,MAAM;;;;;;sDACzD,4TAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;kCAItD,4TAAC,oIAAI;wBAAC,WAAU;kCACb,cAAA,4TAAC,2IAAW;4BAAC,WAAU;;8CACpB,4TAAC;oCAAI,WAAU;8CAAiC,cAAA,4TAAC,0TAAW;wCAAC,WAAU;;;;;;;;;;;8CACvE,4TAAC;;sDACE,4TAAC;4CAAE,WAAU;;gDAAsB;gDAAgB;;;;;;;sDACnD,4TAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMzD,4TAAC,oIAAI;gBAAC,WAAU;;kCACd,4TAAC,0IAAU;wBAAC,WAAU;;0CACpB,4TAAC;;kDACE,4TAAC,yIAAS;kDAAC;;;;;;kDACX,4TAAC,+IAAe;wCAAC,WAAU;kDAAO;;;;;;;;;;;;0CAErC,4TAAC,wIAAM;gCAAC,SAAS,IAAM,eAAe;gCAAO,MAAK;gCAAK,WAAU;;kDAC/D,4TAAC,iSAAI;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;kCAIrC,4TAAC,2IAAW;kCACV,cAAA,4TAAC;4BAAI,WAAU;sCACZ,SAAS,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,oBAC3B,4TAAC;oCAEC,WAAU;;sDAEV,4TAAC;4CAAI,WAAU;;8DACb,4TAAC;oDAAI,WAAU;8DACX,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,WAAW;;;;;;8DAE1C,4TAAC;oDAAI,WAAU;;sEACb,4TAAC;4DAAE,WAAU;sEAAgC,MAAM,IAAI;;;;;;sEACvD,4TAAC;4DAAE,WAAU;sEACV,MAAM,OAAO;;;;;;;;;;;;;;;;;;sDAKpB,4TAAC;4CAAI,WAAU;;8DACb,4TAAC;oDAAI,WAAU;;sEACb,4TAAC;4DAAE,WAAU;;gEAAqB,MAAM,UAAU;gEAAC;;;;;;;sEACnD,4TAAC;4DAAE,WAAU;sEAA6D;;;;;;;;;;;;8DAG5E,4TAAC;oDAAI,WAAU;;wDACX,CAAC,MAAM,SAAS,kBACd,4TAAC,sIAAK;4DAAC,SAAQ;4DAAY,WAAU;sEAAgE;;;;;;wDAIvG,MAAM,SAAS,kBACb,4TAAC,wIAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,OAAM;4DACN,SAAS,IAAM,MAAM;sEAEpB,cAAA,4TAAC,2SAAM;gEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;mCAnCxB,GAAG,MAAM,OAAO,CAAC,CAAC,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;0BA8CxC,4TAAC,oLAAsB;gBACrB,QAAQ;gBACR,SAAS,IAAM,eAAe;gBAC9B,mBAAmB,SAAS,UAAU;gBACtC,YAAW;;;;;;;;;;;;AAInB;GAnGgB;KAAA"}},
    {"offset": {"line": 4388, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/modals/governance-proposal-modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { X, Send, Loader2, AlertCircle, Clock, Users, Percent } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { \n  submitChangeRequiredPct, \n  submitChangeTimelock, \n  submitChangeExpiry, \n  submitChangeMinOwners \n} from '@/lib/web3';\n\nexport type GovernanceType = 'percentage' | 'timelock' | 'expiry' | 'minOwners' | null;\n\ninterface GovernanceProposalModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  type: GovernanceType;\n  controllerAddress: string;\n  currentValue?: string | number;\n}\n\nconst TIME_UNITS = [\n  { label: 'Minutes', value: 60 },\n  { label: 'Hours', value: 3600 },\n  { label: 'Days', value: 86400 },\n];\n\nexport function GovernanceProposalModal({ \n  isOpen, \n  onClose, \n  type, \n  controllerAddress,\n  currentValue \n}: GovernanceProposalModalProps) {\n  const [value, setValue] = useState('');\n  const [timeUnit, setTimeUnit] = useState('3600'); // Default Hours\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setValue('');\n      setError(null);\n    }\n  }, [isOpen, type]);\n\n  if (!isOpen || !type) return null;\n\n  const getTitle = () => {\n    switch (type) {\n      case 'percentage': return 'Change Approval Threshold';\n      case 'timelock': return 'Change Timelock Period';\n      case 'expiry': return 'Change Proposal Expiry';\n      case 'minOwners': return 'Change Minimum Owners';\n      default: return 'Governance Proposal';\n    }\n  };\n\n  const getDescription = () => {\n    switch (type) {\n      case 'percentage': return 'Propose a new percentage of total voting power required to execute transactions.';\n      case 'timelock': return 'Propose a new delay period between approval and execution.';\n      case 'expiry': return 'Propose the duration a transaction remains valid before expiring.';\n      case 'minOwners': return 'Propose the absolute minimum number of signatures required.';\n      default: return '';\n    }\n  };\n\n  const handleSubmit = async () => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      const numValue = Number(value);\n      if (isNaN(numValue) || numValue < 0) throw new Error(\"Invalid number\");\n\n      if (type === 'percentage') {\n        if (numValue > 100) throw new Error(\"Percentage cannot exceed 100\");\n        await submitChangeRequiredPct(controllerAddress, numValue);\n      } \n      else if (type === 'minOwners') {\n        if (numValue < 1) throw new Error(\"Minimum owners must be at least 1\");\n        await submitChangeMinOwners(controllerAddress, numValue);\n      } \n      else if (type === 'timelock') {\n        const totalSeconds = numValue * Number(timeUnit);\n        await submitChangeTimelock(controllerAddress, totalSeconds);\n      } \n      else if (type === 'expiry') {\n        const totalSeconds = numValue * Number(timeUnit);\n        await submitChangeExpiry(controllerAddress, totalSeconds);\n      }\n\n      onClose();\n      window.location.reload();\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || 'Transaction failed');\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  const isTimeBased = type === 'timelock' || type === 'expiry';\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in\">\n      <Card className=\"w-full max-w-md border-border bg-card shadow-xl\">\n        <div className=\"flex items-center justify-between p-6 border-b border-border bg-muted/10\">\n          <h2 className=\"text-lg font-bold\">{getTitle()}</h2>\n          <button onClick={onClose} className=\"text-muted-foreground hover:text-foreground hover:bg-muted rounded-full p-1\">\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        <CardContent className=\"p-6 space-y-6\">\n          <div className=\"bg-primary/5 p-3 rounded border border-primary/10\">\n             <p className=\"text-sm text-primary/80\">{getDescription()}</p>\n          </div>\n          \n          {currentValue !== undefined && (\n             <div className=\"flex justify-between items-center text-sm px-1\">\n                <span className=\"text-muted-foreground\">Current Setting:</span>\n                <span className=\"font-mono font-bold\">{currentValue}</span>\n             </div>\n          )}\n\n          <div className=\"space-y-3\">\n            <Label>New Value</Label>\n            <div className=\"flex gap-3\">\n              <div className=\"relative flex-1\">\n                <Input \n                  type=\"number\" \n                  placeholder=\"Enter value...\" \n                  value={value} \n                  onChange={(e) => setValue(e.target.value)}\n                  className={type === 'percentage' ? 'pr-8' : ''}\n                />\n                {type === 'percentage' && <Percent className=\"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground\" />}\n                {type === 'minOwners' && <Users className=\"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground\" />}\n                {isTimeBased && <Clock className=\"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground\" />}\n              </div>\n\n              {isTimeBased && (\n                <Select value={timeUnit} onValueChange={setTimeUnit}>\n                  <SelectTrigger className=\"w-[130px]\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {TIME_UNITS.map((unit) => (\n                      <SelectItem key={unit.value} value={unit.value.toString()}>\n                        {unit.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              )}\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-sm text-red-600 flex gap-2 items-start\">\n              <AlertCircle className=\"h-4 w-4 shrink-0 mt-0.5\"/>\n              <span>{error}</span>\n            </div>\n          )}\n\n          <div className=\"flex gap-3 pt-2\">\n            <Button variant=\"outline\" className=\"flex-1\" onClick={onClose} disabled={isPending}>\n              Cancel\n            </Button>\n            <Button className=\"flex-1\" onClick={handleSubmit} disabled={isPending || !value}>\n              {isPending ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4 mr-2\" />}\n              Submit Proposal\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4786, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/tabs/settings-tab.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { MultiSig } from '@/hooks/use-factory';\nimport { ChevronRight, Loader2, PauseCircle, PlayCircle, Settings, ShieldAlert, Clock } from 'lucide-react';\nimport { pauseMultisig, unpauseMultisig } from '@/lib/web3';\nimport { GovernanceProposalModal, GovernanceType } from '@/components/modals/governance-proposal-modal';\n\ninterface SettingsTabProps {\n  multisig: MultiSig;\n}\n\nexport function SettingsTab({ multisig }: SettingsTabProps) {\n  const [isPausePending, setIsPausePending] = useState(false);\n  const [modalType, setModalType] = useState<GovernanceType>(null);\n  const [modalCurrentValue, setModalCurrentValue] = useState<string | number>('');\n\n  const formatDuration = (seconds: number) => {\n    const hours = seconds / 3600;\n    if (hours >= 24) return `${(hours / 24).toFixed(1)} Days`;\n    return `${hours.toFixed(1)} Hours`;\n  };\n\n  const handlePauseToggle = async () => {\n    setIsPausePending(true);\n    try {\n      if (multisig.config.paused) {\n        await unpauseMultisig(multisig.controller);\n      } else {\n        await pauseMultisig(multisig.controller);\n      }\n      window.location.reload();\n    } catch (err: any) {\n      console.error(err);\n      alert('Error: ' + (err.message || 'Failed to toggle pause state'));\n    } finally {\n      setIsPausePending(false);\n    }\n  };\n\n  const openModal = (type: GovernanceType, currentVal: string | number) => {\n    setModalType(type);\n    setModalCurrentValue(currentVal);\n  };\n\n  return (\n    <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500\">\n      \n      {/* Governance Settings */}\n      <Card className=\"border-border bg-card\">\n        <CardHeader>\n           <CardTitle className=\"flex items-center gap-2\"><Settings className=\"h-5 w-5\"/> Governance Parameters</CardTitle>\n           <CardDescription>Configure how this multisig operates. Changes require a proposal.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"divide-y divide-border/50\">\n           {/* Percentage */}\n           <div className=\"flex items-center justify-between py-4 first:pt-0\">\n              <div>\n                 <p className=\"font-medium text-sm\">Required Approval</p>\n                 <p className=\"text-xs text-muted-foreground\">Percentage of total voting power needed.</p>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                 <span className=\"font-mono font-bold\">{multisig.config.requiredPercentage}%</span>\n                 <Button variant=\"outline\" size=\"sm\" onClick={() => openModal('percentage', multisig.config.requiredPercentage)}>Change</Button>\n              </div>\n           </div>\n\n           {/* Timelock */}\n           <div className=\"flex items-center justify-between py-4\">\n              <div>\n                 <p className=\"font-medium text-sm\">Timelock Period</p>\n                 <p className=\"text-xs text-muted-foreground\">Delay between approval and execution.</p>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                 <span className=\"font-mono font-bold\">{formatDuration(multisig.config.timelockPeriod)}</span>\n                 <Button variant=\"outline\" size=\"sm\" onClick={() => openModal('timelock', formatDuration(multisig.config.timelockPeriod))}>Change</Button>\n              </div>\n           </div>\n\n           {/* Expiry */}\n           <div className=\"flex items-center justify-between py-4\">\n              <div>\n                 <p className=\"font-medium text-sm\">Proposal Expiry</p>\n                 <p className=\"text-xs text-muted-foreground\">How long a proposal remains valid.</p>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                 <span className=\"font-mono font-bold\">{formatDuration(multisig.config.expiryPeriod)}</span>\n                 <Button variant=\"outline\" size=\"sm\" onClick={() => openModal('expiry', formatDuration(multisig.config.expiryPeriod))}>Change</Button>\n              </div>\n           </div>\n\n           {/* Min Owners */}\n           <div className=\"flex items-center justify-between py-4 last:pb-0\">\n              <div>\n                 <p className=\"font-medium text-sm\">Minimum Signers</p>\n                 <p className=\"text-xs text-muted-foreground\">Absolute minimum number of owners required.</p>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                 <span className=\"font-mono font-bold\">{multisig.config.minOwners}</span>\n                 <Button variant=\"outline\" size=\"sm\" onClick={() => openModal('minOwners', multisig.config.minOwners)}>Change</Button>\n              </div>\n           </div>\n        </CardContent>\n      </Card>\n\n      {/* Emergency Zone */}\n      <Card className={`border-2 ${multisig.config.paused ? 'border-emerald-500 bg-emerald-500/5' : 'border-destructive/50 bg-destructive/5'}`}>\n        <CardHeader>\n           <CardTitle className=\"flex items-center gap-2 text-foreground\">\n              <ShieldAlert className={`h-5 w-5 ${multisig.config.paused ? 'text-emerald-600' : 'text-destructive'}`} /> \n              Emergency Controls\n           </CardTitle>\n        </CardHeader>\n        <CardContent>\n           <div className=\"flex items-center justify-between\">\n              <div>\n                 <p className=\"font-medium text-sm\">Contract Status: <span className=\"uppercase font-bold\">{multisig.config.paused ? 'Paused' : 'Active'}</span></p>\n                 <p className=\"text-xs text-muted-foreground max-w-md mt-1\">\n                    {multisig.config.paused \n                      ? 'Contract is currently paused. Owners can unpause to resume operations.' \n                      : 'Pausing the contract prevents any new transactions from being executed. Use in emergencies.'}\n                 </p>\n              </div>\n              <Button \n                 variant={multisig.config.paused ? 'default' : 'destructive'} \n                 onClick={handlePauseToggle}\n                 disabled={isPausePending}\n              >\n                 {isPausePending ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : (\n                    <>\n                       {multisig.config.paused ? <PlayCircle className=\"h-4 w-4 mr-2\"/> : <PauseCircle className=\"h-4 w-4 mr-2\"/>}\n                       {multisig.config.paused ? 'Unpause Contract' : 'Pause Contract'}\n                    </>\n                 )}\n              </Button>\n           </div>\n        </CardContent>\n      </Card>\n\n      <GovernanceProposalModal \n        isOpen={!!modalType}\n        onClose={() => setModalType(null)}\n        type={modalType}\n        controllerAddress={multisig.controller}\n        currentValue={modalCurrentValue}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5279, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/multisig-tabs.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { OverviewTab } from './tabs/overview-tab';\nimport { TransactionsTab } from './tabs/transactions-tab';\nimport { OwnersTab } from './tabs/owners-tab';\nimport { SettingsTab } from './tabs/settings-tab';\nimport { MultiSig } from '@/lib/types';\n\ninterface MultisigTabsProps {\n  multisig: MultiSig;\n}\n\nexport function MultisigTabs({ multisig }: MultisigTabsProps) {\n  const [activeTab, setActiveTab] = useState('overview');\n\n  return (\n    <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n      <TabsList className=\"grid w-full grid-cols-4 bg-muted\">\n        <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n        <TabsTrigger value=\"transactions\">Transactions</TabsTrigger>\n        <TabsTrigger value=\"owners\">Owners</TabsTrigger>\n        <TabsTrigger value=\"settings\">Settings</TabsTrigger>\n      </TabsList>\n\n      <TabsContent value=\"overview\" className=\"space-y-6\">\n        <OverviewTab multisig={multisig} />\n      </TabsContent>\n\n      <TabsContent value=\"transactions\" className=\"space-y-6\">\n        <TransactionsTab multisig={multisig} />\n      </TabsContent>\n\n      <TabsContent value=\"owners\" className=\"space-y-6\">\n        <OwnersTab multisig={multisig} />\n      </TabsContent>\n\n      <TabsContent value=\"settings\" className=\"space-y-6\">\n        <SettingsTab multisig={multisig} />\n      </TabsContent>\n    </Tabs>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAcO,SAAS,aAAa,EAAE,QAAQ,EAAqB;;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wSAAQ,EAAC;IAE3C,qBACE,4TAAC,oIAAI;QAAC,OAAO;QAAW,eAAe;QAAc,WAAU;;0BAC7D,4TAAC,wIAAQ;gBAAC,WAAU;;kCAClB,4TAAC,2IAAW;wBAAC,OAAM;kCAAW;;;;;;kCAC9B,4TAAC,2IAAW;wBAAC,OAAM;kCAAe;;;;;;kCAClC,4TAAC,2IAAW;wBAAC,OAAM;kCAAS;;;;;;kCAC5B,4TAAC,2IAAW;wBAAC,OAAM;kCAAW;;;;;;;;;;;;0BAGhC,4TAAC,2IAAW;gBAAC,OAAM;gBAAW,WAAU;0BACtC,cAAA,4TAAC,wJAAW;oBAAC,UAAU;;;;;;;;;;;0BAGzB,4TAAC,2IAAW;gBAAC,OAAM;gBAAe,WAAU;0BAC1C,cAAA,4TAAC,gKAAe;oBAAC,UAAU;;;;;;;;;;;0BAG7B,4TAAC,2IAAW;gBAAC,OAAM;gBAAS,WAAU;0BACpC,cAAA,4TAAC,oJAAS;oBAAC,UAAU;;;;;;;;;;;0BAGvB,4TAAC,2IAAW;gBAAC,OAAM;gBAAW,WAAU;0BACtC,cAAA,4TAAC,wJAAW;oBAAC,UAAU;;;;;;;;;;;;;;;;;AAI/B;GA7BgB;KAAA"}},
    {"offset": {"line": 5426, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/components/modals/batch-confirm-modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, CheckCircle2, Loader2, AlertCircle } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { MultiSig } from '@/hooks/use-factory';\nimport { confirmTransactionsBatch } from '@/lib/web3';\nimport { ethers } from 'ethers';\nimport { formatAmount } from '@/lib/format';\n\ninterface BatchConfirmModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  multisig: MultiSig;\n}\n\nexport function BatchConfirmModal({ isOpen, onClose, multisig }: BatchConfirmModalProps) {\n  const [selected, setSelected] = useState<number[]>([]);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  if (!isOpen) return null;\n\n  // Filter only transactions that are NOT executed\n  const pendingTransactions = multisig.transactions.filter(tx => !tx.executed);\n\n  const toggleSelect = (id: number) => {\n    setSelected((prev) =>\n      prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id]\n    );\n  };\n\n  const toggleAll = () => {\n    setSelected(selected.length === pendingTransactions.length ? [] : pendingTransactions.map((t) => t.id));\n  };\n\n  const handleBatchConfirm = async () => {\n    setError(null);\n    setIsPending(true);\n    try {\n      await confirmTransactionsBatch(multisig.controller, selected);\n      onClose();\n      window.location.reload();\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || 'Batch confirm failed');\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 animate-in fade-in\">\n      <Card className=\"w-full max-w-md border-border bg-card\">\n        <div className=\"flex items-center justify-between p-6 border-b border-border\">\n          <h2 className=\"text-xl font-bold\">Batch Confirm</h2>\n          <button onClick={onClose} className=\"text-muted-foreground hover:text-foreground\">\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        <CardContent className=\"p-6 space-y-6\">\n          {pendingTransactions.length === 0 ? (\n            <div className=\"text-center text-muted-foreground py-4\">\n              No pending transactions to confirm.\n            </div>\n          ) : (\n            <>\n              <div className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\">\n                <Checkbox\n                  checked={selected.length === pendingTransactions.length && pendingTransactions.length > 0}\n                  onCheckedChange={toggleAll}\n                />\n                <label className=\"text-sm font-medium flex-1\">\n                  Select All ({selected.length}/{pendingTransactions.length})\n                </label>\n              </div>\n\n              <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                {pendingTransactions.map((tx) => (\n                  <div\n                    key={tx.id}\n                    className=\"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors\"\n                  >\n                    <Checkbox\n                      checked={selected.includes(tx.id)}\n                      onCheckedChange={() => toggleSelect(tx.id)}\n                    />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium\">Tx #{tx.id}</p>\n                      <p className=\"text-xs text-muted-foreground truncate\">To: {tx.to}</p>\n                    </div>\n                    <div className=\"text-right\">\n  <p className=\"text-sm font-semibold\">{formatAmount(tx.value)} ETH</p>                    </div>\n                  </div>\n                ))}\n              </div>\n            </>\n          )}\n\n          {error && (\n            <div className=\"p-3 bg-red-500/10 border border-red-500/20 rounded text-sm text-red-500 flex gap-2\">\n              <AlertCircle className=\"h-4 w-4 shrink-0 mt-0.5\"/>\n              <span>{error}</span>\n            </div>\n          )}\n\n          <div className=\"flex gap-3 pt-4 border-t border-border\">\n            <Button variant=\"outline\" className=\"flex-1\" onClick={onClose} disabled={isPending}>\n              Cancel\n            </Button>\n            <Button className=\"flex-1\" disabled={selected.length === 0 || isPending} onClick={handleBatchConfirm}>\n              {isPending ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <CheckCircle2 className=\"h-4 w-4 mr-2\" />}\n              Confirm ({selected.length})\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5739, "column": 0}, "map": {"version":3,"sources":["file:///home/cyberhackb/sigma-protocol/frontend/app/multisigs/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation';\nimport { ArrowLeft, Copy, Plus, Layers, Wallet, Check, ExternalLink } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { MultisigTabs } from '@/components/multisig-tabs';\nimport Link from 'next/link';\nimport { \n  getMultisigOwners, \n  getMultisigConfig, \n  getWalletBalance, \n  initializeProvider,\n  getConnectedWalletAddress,\n  getTransaction\n} from '@/lib/web3';\nimport { MultiSig, Transaction } from '@/hooks/use-factory';\n\n// Modals\nimport { SubmitTransactionModal } from '@/components/modals/submit-transaction-modal';\nimport { BatchConfirmModal } from '@/components/modals/batch-confirm-modal';\n\nexport default function MultisigDetailPage() {\n  const params = useParams();\n  const controllerAddress = params.id as string;\n\n  const [multisig, setMultisig] = useState<MultiSig | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [copied, setCopied] = useState<string | null>(null);\n\n  // Modal States\n  const [isSubmitModalOpen, setIsSubmitModalOpen] = useState(false);\n  const [isBatchModalOpen, setIsBatchModalOpen] = useState(false);\n\n  const handleCopy = (text: string, type: string) => {\n    navigator.clipboard.writeText(text);\n    setCopied(type);\n    setTimeout(() => setCopied(null), 2000);\n  };\n\n  useEffect(() => {\n    const fetchMultisigDetail = async () => {\n      try {\n        setLoading(true);\n        await initializeProvider();\n\n        const walletAddress = await getConnectedWalletAddress(controllerAddress);\n\n        const [owners, config, balance] = await Promise.all([\n          getMultisigOwners(controllerAddress),\n          getMultisigConfig(controllerAddress),\n          getWalletBalance(walletAddress), \n        ]);\n\n        // Fetch recent transactions (Simple fetch for last 20 IDs)\n        const recentTxs: Transaction[] = [];\n        for(let i=0; i<20; i++) {\n           try {\n             const tx = await getTransaction(controllerAddress, i);\n             // Filter out uninitialized transactions\n             if(tx.initiator !== '0x0000000000000000000000000000000000000000') {\n                recentTxs.push({ id: i, ...tx });\n             } else {\n                break; // Stop if we hit empty\n             }\n           } catch(e) { break; }\n        }\n\n        const ownerList = owners.addresses.map((addr: string, i: number) => ({\n          address: addr,\n          name: owners.names[i] || `Owner ${i + 1}`,\n          percentage: owners.percentages[i],\n          removable: owners.removables[i],\n        }));\n\n        setMultisig({\n          controller: controllerAddress,\n          wallet: walletAddress,\n          name: config.name || 'Unnamed Treasury',\n          owners: ownerList,\n          config,\n          balance,\n          transactions: recentTxs.sort((a, b) => b.id - a.id),\n          deployed: Date.now(),\n        });\n      } catch (err: any) {\n        console.error(\"Error loading multisig:\", err);\n        setError(err.message || 'Failed to load multisig details');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (controllerAddress) {\n      fetchMultisigDetail();\n    }\n  }, [controllerAddress]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n         <div className=\"flex flex-col items-center animate-pulse\">\n            <div className=\"h-12 w-12 bg-primary/20 rounded-full flex items-center justify-center mb-4\">\n              <Wallet className=\"h-6 w-6 text-primary animate-bounce\" />\n            </div>\n            <p className=\"text-muted-foreground font-medium\">Loading Treasury...</p>\n         </div>\n      </div>\n    );\n  }\n\n  if (error || !multisig) {\n    return (\n      <div className=\"min-h-screen p-8 flex flex-col items-center justify-center\">\n        <Card className=\"border-red-500/30 bg-red-500/5 max-w-md w-full\">\n          <CardContent className=\"py-8 text-center\">\n            <p className=\"text-red-600 font-semibold mb-2\">Error loading multisig</p>\n            <p className=\"text-sm text-red-500/80 mb-6\">{error}</p>\n            <Link href=\"/multisigs\">\n              <Button variant=\"outline\">Back to Dashboard</Button>\n            </Link>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen p-4 md:p-8 bg-background\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Breadcrumb / Back */}\n        <Link href=\"/multisigs\" className=\"inline-block mb-6\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"pl-0 hover:pl-2 transition-all text-muted-foreground hover:text-foreground\">\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back to Dashboard\n          </Button>\n        </Link>\n\n        {/* Header Section */}\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 border-b pb-8 mb-8\">\n          <div className=\"flex-1 space-y-4\">\n            <div className=\"flex items-center gap-3\">\n               <h1 className=\"text-3xl md:text-4xl font-bold tracking-tight text-primary\">\n                  {multisig.name}\n               </h1>\n               <Badge variant={multisig.config.paused ? 'destructive' : 'outline'} className={multisig.config.paused ? '' : 'bg-emerald-500/10 text-emerald-600 border-emerald-500/20'}>\n                  {multisig.config.paused ? 'PAUSED' : 'ACTIVE'}\n               </Badge>\n            </div>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 text-sm\">\n              {/* Controller Address */}\n              <div className=\"flex items-center gap-2 text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-md border border-border/50\">\n                 <span className=\"text-xs font-medium uppercase tracking-wider opacity-70\">Controller</span>\n                 <code className=\"font-mono text-foreground\">{multisig.controller.slice(0,6)}...{multisig.controller.slice(-4)}</code>\n                 <button onClick={() => handleCopy(multisig.controller, 'controller')} className=\"hover:text-primary transition-colors\">\n                    {copied === 'controller' ? <Check className=\"h-3.5 w-3.5 text-emerald-500\"/> : <Copy className=\"h-3.5 w-3.5\"/>}\n                 </button>\n              </div>\n\n              {/* Wallet Address (Highlighted) */}\n              <div className=\"flex items-center gap-2 text-muted-foreground bg-primary/5 px-3 py-1.5 rounded-md border border-primary/10\">\n                 <span className=\"text-xs font-medium uppercase tracking-wider text-primary/80\">Wallet</span>\n                 <code className=\"font-mono text-primary\">{multisig.wallet.slice(0,6)}...{multisig.wallet.slice(-4)}</code>\n                 <button onClick={() => handleCopy(multisig.wallet, 'wallet')} className=\"hover:text-primary transition-colors\">\n                    {copied === 'wallet' ? <Check className=\"h-3.5 w-3.5 text-emerald-500\"/> : <Copy className=\"h-3.5 w-3.5\"/>}\n                 </button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Action Buttons */}\n          <div className=\"flex gap-3\">\n             <Button variant=\"outline\" onClick={() => setIsBatchModalOpen(true)} className=\"h-10\">\n                <Layers className=\"h-4 w-4 mr-2\" />\n                Batch Confirm\n             </Button>\n             <Button onClick={() => setIsSubmitModalOpen(true)} className=\"h-10 shadow-md shadow-primary/20\">\n                <Plus className=\"h-4 w-4 mr-2\" />\n                New Proposal\n             </Button>\n          </div>\n        </div>\n\n        {/* Main Tabs Content */}\n        <MultisigTabs multisig={multisig} />\n      </div>\n\n      {/* Modals */}\n      <SubmitTransactionModal \n         isOpen={isSubmitModalOpen} \n         onClose={() => setIsSubmitModalOpen(false)} \n         controllerAddress={multisig.controller}\n         defaultTab=\"transfer\"\n      />\n      \n      <BatchConfirmModal \n         isOpen={isBatchModalOpen} \n         onClose={() => setIsBatchModalOpen(false)} \n         multisig={multisig}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}